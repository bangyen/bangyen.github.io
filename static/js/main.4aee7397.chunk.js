(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(20),r=n.n(c),s=n(1),i=n.n(s),l=n(11),u=n(21),a=n(22),o=n(13),h=n(25),d=n(24),j=n(14);function b(e){var t=Array(e).fill(" ");return t.map((function(e){return Object(j.a)(t)}))}function p(e,t){return null===e||null===t?e===t:e[0]===t[0]&&e[1]===t[1]}var f=n(8),O=n(0);function x(e){var t=e.run,n=e.set,c=e.arr;return Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"custom",type:"button",onClick:t("run"),children:"\u25b6"}),Object(O.jsx)("button",{className:"custom",type:"button",onClick:t("back"),children:"\xa0\u276e\xa0"}),Object(O.jsx)("button",{className:"custom",type:"button",onClick:t("fore"),children:"\xa0\u276f\xa0"}),Object(O.jsx)("button",{className:"custom",type:"button",onClick:function(){return n({curr:{select:null,pointer:null,breaks:[]},output:{tape:[],cell:0}})},children:"\u2716"}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"custom",type:"button",onClick:function(){var e=c.length+1;c.map((function(e){return e.push(" ")})),c.push(Array(e).fill(" ")),n({size:e,grid:c})},children:"\u2795\ufe0e"}),Object(O.jsx)("button",{className:"custom",type:"button",onClick:function(){var e=c.length-1;e&&(c.pop(),c.map((function(e){return e.pop()})),n({size:e,grid:c}))},children:"\u2796\ufe0e"}),Object(O.jsx)("button",{className:"custom",type:"button",onClick:function(){navigator.clipboard.writeText(c.map((function(e){return e.join("")})).join("\n"))},children:"\ud83d\udce5\ufe0e"}),Object(O.jsx)(f.b,{to:"/",children:Object(O.jsx)("button",{className:"custom",type:"button",children:"\ud83c\udfe0\ufe0e"})})]})}var v=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var c;Object(u.a)(this,n),(c=t.call(this,e)).changeText=c.changeText.bind(Object(o.a)(c));return c.state={output:{tape:[]},grid:b(5),size:5,curr:{select:null,pointer:null,breaks:[]}},c}return Object(a.a)(n,[{key:"runCode",value:function(e){return function(){var t,n=this.state.curr;if(n.select=null,this.state.grid.every((function(e){return!e.includes("*")})))return alert("No halt instruction detected!"),void this.setState({curr:n});if(null===n.pointer&&(this.func=function(e){var t=e.length,n=e[0].length,c=[{end:!1,pos:[0,0],vel:[0,1],tape:[0],cell:0}],r=0;return function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=c[c.length-1];if(s&&r?r-=1:s||i.end||(r+=1),r<c.length)return c[r];var u=i,a=u.tape,o=u.cell,h=u.end,d=Object(l.a)(i.pos,2),b=d[0],p=d[1],f=Object(l.a)(i.vel,2),O=f[0],x=f[1],v=e[b][p];if(a=Object(j.a)(a),"\\"===v){var m=[x,O];O=m[0],x=m[1]}else if("/"===v){var y=[-x,-O];O=y[0],x=y[1]}else if("<"===v&&o)o-=1;else if(">"===v)(o+=1)===a.length&&a.push(0);else if("-"===v)a[o]^=1;else if("+"!==v||a[o])"*"===v&&(h=!0);else{var k=[b+O,p+x];b=k[0],p=k[1]}return i={pos:[b=(b+O)%t,p=(p+x)%n],vel:[O,x],tape:a,cell:o,end:h},c.push(i),i}}(this.state.grid),"run"!==e))return n.pointer=[0,0],void this.setState({curr:n,output:{tape:[0],cell:0}});if(this.setState({curr:n}),"run"===e)do{t=this.func()}while(!t.end);else"fore"===e?t=this.func():"back"===e&&(t=this.func(!0));var c=t,r=c.pos,s=c.end,i=c.tape,u=c.cell;n.pointer=s?null:r,this.setState({curr:n,output:{tape:i,cell:u}})}.bind(this)}},{key:"changeText",value:function(e){var t=this.state.curr;if(null!==t.select){var n,c=this.state.grid,r=Object(l.a)(t.select,2),s=r[0],i=r[1];if(1===e.key.length)n=e.key;else{if("Backspace"!==e.key&&"Delete"!==e.key){if(e.key.includes("Arrow")){e.key.includes("Left")?i-=1:e.key.includes("Right")?i+=1:e.key.includes("Up")?s-=1:s+=1;var u=this.state.size;return s=(s+u)%u,i=(i+u)%u,t.select=[s,i],void this.setState({curr:t})}return}n=" "}c[s][i]=n,this.setState({grid:c})}}},{key:"changeColor",value:function(e){return function(){var t=this.state.curr;t.select=p(t.select,e)?null:e,this.setState({curr:t})}}},{key:"chooseColor",value:function(e){var t=this.state.curr;return p(t.select,e)?"grey":p(t.pointer,e)?"red":"white"}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.changeText,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.changeText,!1)}},{key:"tile",value:function(e,t,n){var c=[t,n];return Object(O.jsx)("td",{onClick:this.changeColor(c).bind(this),bgcolor:this.chooseColor(c),children:Object(O.jsxs)("div",{children:["\xa0",e,"\xa0"]})})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("header",{className:"App-header",children:[Object(O.jsx)("div",{className:"split left",children:Object(O.jsx)("div",{className:"centered",children:Object(O.jsx)("table",{children:Object(O.jsx)("tbody",{children:this.state.grid.map((function(t,n){return Object(O.jsx)("tr",{children:t.map((function(t,c){return e.tile(t,n,c)}))})}))})})})}),Object(O.jsx)("div",{className:"split right",children:Object(O.jsxs)("div",{className:"centered",children:[Object(O.jsx)("code",{children:"Instructions:"}),Object(O.jsxs)("ul",{style:{fontSize:"75%",textAlign:"left"},children:[Object(O.jsx)("li",{children:"Click to select/unselect"}),Object(O.jsx)("li",{children:"Type to change selected cell"}),Object(O.jsxs)("li",{children:["Commands located\xa0",Object(O.jsx)("a",{href:"https://esolangs.org/wiki/Back",children:"here"})]})]}),Object(O.jsx)(x,{run:function(t){return e.runCode(t)},set:function(t){return e.setState(t)},arr:this.state.grid}),Object(O.jsx)("br",{}),Object(O.jsx)("code",{children:"Output:"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"output",children:[Object(O.jsx)("code",{children:"\xa0"}),this.state.output.tape.map((function(t,n){var c=e.state.output.cell===n?"red":"white";return Object(O.jsxs)("code",{style:{color:c},children:[t,"\xa0"]})}))]})]})})]})}}]),n}(i.a.Component);function m(){return Object(O.jsxs)("header",{className:"App-header",children:[Object(O.jsx)("h1",{children:"Bangyen"}),Object(O.jsxs)("div",{children:[Object(O.jsx)(f.b,{to:"/back",children:Object(O.jsx)("button",{className:"custom",type:"button",children:"Interpreter"})}),Object(O.jsx)("form",{action:"https://github.com/bangyen",style:{display:"inline-block"},children:Object(O.jsx)("input",{type:"submit",value:"GitHub",className:"custom"})})]})]})}n(36),n(37);var y=n(2);function k(){return Object(O.jsx)(f.a,{basename:"/",children:Object(O.jsx)("div",{children:Object(O.jsxs)(y.c,{children:[Object(O.jsx)(y.a,{path:"/back",children:Object(O.jsx)(v,{})}),Object(O.jsx)(y.a,{path:"/",children:Object(O.jsx)(m,{})})]})})})}r.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.4aee7397.chunk.js.map