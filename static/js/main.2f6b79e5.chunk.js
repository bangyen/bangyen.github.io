(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var r=n(24),c=n.n(r),s=n(1),i=n.n(s),a=n(8),l=n(15),o=n(16),u=n(9),h=n(18),d=n(17),j=n(10),b=n(7),p=n(0);function f(){var t=window.innerHeight,e=window.innerWidth;t=Math.round(t/50),e=Math.round(e/50);var n=Object(j.a)(Array(t)).map((function(t){return Array(e).fill(0)})),r=Math.floor(Math.random()*t),c=Math.floor(Math.random()*e);return n[r][c]=-1,n}var v=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var r;Object(l.a)(this,n),(r=e.call(this,t)).updateDim=r.updateDim.bind(Object(u.a)(r)),r.changeDir=r.changeDir.bind(Object(u.a)(r));var c=f();return r.state={row:c.length,col:c[0].length,len:3,pos:[0,0],vel:[0,1],arr:c,move:!0,buff:null},r}return Object(o.a)(n,[{key:"randomPos",value:function(){var t,e,n=Object(j.a)(this.state.arr),r=this.state.row,c=this.state.col;do{t=Math.floor(Math.random()*r),e=Math.floor(Math.random()*c)}while(n[t][e]);n[t][e]=-1,this.setState({arr:n})}},{key:"updateDim",value:function(){var t=f();this.setState({row:t.length,col:t[0].length,arr:t})}},{key:"changeDir",value:function(t){var e,n=t.key.toLowerCase(),r=this.state.vel;if("arrowleft"===n||"a"===n)e=[0,-1];else if("arrowright"===n||"d"===n)e=[0,1];else if("arrowup"===n||"w"===n)e=[-1,0];else{if("arrowdown"!==n&&"s"!==n)return;e=[1,0]}this.state.move?r[0]+e[0]&&this.setState({vel:e,move:!1}):this.setState({buff:e})}},{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.move()}),100),document.addEventListener("keydown",this.changeDir,!1),this.updateDim(),window.addEventListener("resize",this.updateDim)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID),document.removeEventListener("keydown",this.changeDir,!1),window.removeEventListener("resize",this.updateDim)}},{key:"move",value:function(){var t=Object(a.a)(this.state.pos,2),e=t[0],n=t[1],r=Object(a.a)(this.state.vel,2),c=r[0],s=r[1],i=this.state,l=i.row,o=i.col,u=this.state.arr.map((function(t){return t.map((function(t){return t>0?t-1:t}))}));if(n=(n+s+o)%o,u[e=(e+c+l)%l][n]>0){var h=u[e][n];this.setState({len:this.state.len-h}),u=u.map((function(t){return t.map((function(t){return t>h?t-h:-(t<0)}))}))}else u[e][n]<0&&(this.setState({len:this.state.len+1}),this.randomPos(),u=this.state.arr.map((function(t){return t.map((function(t){return t>0?t+1:-(t<0)}))})),console.log(this.state.arr));u[e][n]=this.state.len;var d=this.state.buff;d&&this.setState({buff:null,vel:d}),this.setState({move:!0,pos:[e,n],arr:u})}},{key:"render",value:function(){return Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)("table",{style:{height:"85vh",width:"95vw"},children:Object(p.jsx)("tbody",{children:this.state.arr.map((function(t,e){return Object(p.jsx)("tr",{children:t.map((function(t,e){return Object(p.jsx)("td",{bgcolor:t>0?"white":t<0?"red":"black",style:{cursor:"default"},children:Object(p.jsx)("div",{children:"\xa0"})})}))})}))})}),Object(p.jsx)(b.b,{to:"/",style:{marginBottom:"20px"},children:Object(p.jsx)("button",{className:"custom",type:"button",children:"\ud83c\udfe0\ufe0e"})})]})}}]),n}(i.a.Component);function m(t){var e=Array(t).fill(" ");return e.map((function(t){return Object(j.a)(e)}))}function O(t,e){return null===t||null===e?t===e:t[0]===e[0]&&t[1]===e[1]}function x(t){var e=t.run,n=t.set,r=t.arr;return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"custom",type:"button",onClick:e("run"),children:"\u25b6"}),Object(p.jsx)("button",{className:"custom",type:"button",onClick:e("back"),children:"\xa0\u276e\xa0"}),Object(p.jsx)("button",{className:"custom",type:"button",onClick:e("fore"),children:"\xa0\u276f\xa0"}),Object(p.jsx)("button",{className:"custom",type:"button",onClick:function(){return n({curr:{select:null,pointer:null,breaks:[]},output:{tape:[],cell:0}})},children:"\u2716"}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"custom",type:"button",onClick:function(){var t=r.length+1;r.map((function(t){return t.push(" ")})),r.push(Array(t).fill(" ")),n({size:t,grid:r})},children:"\u2795\ufe0e"}),Object(p.jsx)("button",{className:"custom",type:"button",onClick:function(){var t=r.length-1;t&&(r.pop(),r.map((function(t){return t.pop()})),n({size:t,grid:r}))},children:"\u2796\ufe0e"}),Object(p.jsx)("button",{className:"custom",type:"button",onClick:function(){navigator.clipboard.writeText(r.map((function(t){return t.join("")})).join("\n"))},children:"\ud83d\udce5\ufe0e"}),Object(p.jsx)(b.b,{to:"/",children:Object(p.jsx)("button",{className:"custom",type:"button",children:"\ud83c\udfe0\ufe0e"})})]})}var y=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var r;Object(l.a)(this,n),(r=e.call(this,t)).changeText=r.changeText.bind(Object(u.a)(r));return r.state={output:{tape:[]},grid:m(5),size:5,curr:{select:null,pointer:null,breaks:[]}},r}return Object(o.a)(n,[{key:"runCode",value:function(t){return function(){var e,n=this.state.curr;if(n.select=null,this.state.grid.every((function(t){return!t.includes("*")})))return alert("No halt instruction detected!"),void this.setState({curr:n});if(null===n.pointer&&(this.func=function(t){var e=t.length,n=t[0].length,r=[{end:!1,pos:[0,0],vel:[0,1],tape:[0],cell:0}],c=0;return function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=r[r.length-1];if(s&&c?c-=1:s||i.end||(c+=1),c<r.length)return r[c];var l=i,o=l.tape,u=l.cell,h=l.end,d=Object(a.a)(i.pos,2),b=d[0],p=d[1],f=Object(a.a)(i.vel,2),v=f[0],m=f[1],O=t[b][p];if(o=Object(j.a)(o),"\\"===O){var x=[m,v];v=x[0],m=x[1]}else if("/"===O){var y=[-m,-v];v=y[0],m=y[1]}else if("<"===O&&u)u-=1;else if(">"===O)(u+=1)===o.length&&o.push(0);else if("-"===O)o[u]^=1;else if("+"!==O||o[u])"*"===O&&(h=!0);else{var g=[b+v,p+m];b=g[0],p=g[1]}return i={pos:[b=(b+v)%e,p=(p+m)%n],vel:[v,m],tape:o,cell:u,end:h},r.push(i),i}}(this.state.grid),"run"!==t))return n.pointer=[0,0],void this.setState({curr:n,output:{tape:[0],cell:0}});if(this.setState({curr:n}),"run"===t)do{e=this.func()}while(!e.end);else"fore"===t?e=this.func():"back"===t&&(e=this.func(!0));var r=e,c=r.pos,s=r.end,i=r.tape,l=r.cell;n.pointer=s?null:c,this.setState({curr:n,output:{tape:i,cell:l}})}.bind(this)}},{key:"changeText",value:function(t){var e=this.state.curr;if(null!==e.select){var n,r=this.state.grid,c=Object(a.a)(e.select,2),s=c[0],i=c[1];if(1===t.key.length)n=t.key;else{if("Backspace"!==t.key&&"Delete"!==t.key){if(t.key.includes("Arrow")){t.key.includes("Left")?i-=1:t.key.includes("Right")?i+=1:t.key.includes("Up")?s-=1:s+=1;var l=this.state.size;return s=(s+l)%l,i=(i+l)%l,e.select=[s,i],void this.setState({curr:e})}return}n=" "}r[s][i]=n,this.setState({grid:r})}}},{key:"changeColor",value:function(t){return function(){var e=this.state.curr;e.select=O(e.select,t)?null:t,this.setState({curr:e})}}},{key:"chooseColor",value:function(t){var e=this.state.curr;return O(e.select,t)?"grey":O(e.pointer,t)?"red":"white"}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.changeText,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.changeText,!1)}},{key:"tile",value:function(t,e,n){var r=[e,n];return Object(p.jsx)("td",{onClick:this.changeColor(r).bind(this),bgcolor:this.chooseColor(r),children:Object(p.jsxs)("div",{children:["\xa0",t,"\xa0"]})})}},{key:"render",value:function(){var t=this;return Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)("div",{className:"split left",children:Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)("table",{children:Object(p.jsx)("tbody",{children:this.state.grid.map((function(e,n){return Object(p.jsx)("tr",{children:e.map((function(e,r){return t.tile(e,n,r)}))})}))})})})}),Object(p.jsx)("div",{className:"split right",children:Object(p.jsxs)("div",{className:"centered",children:[Object(p.jsx)("code",{children:"Instructions:"}),Object(p.jsxs)("ul",{style:{fontSize:"75%",textAlign:"left"},children:[Object(p.jsx)("li",{children:"Click to select/unselect"}),Object(p.jsx)("li",{children:"Type to change selected cell"}),Object(p.jsxs)("li",{children:["Commands located\xa0",Object(p.jsx)("a",{href:"https://esolangs.org/wiki/Back",children:"here"})]})]}),Object(p.jsx)(x,{run:function(e){return t.runCode(e)},set:function(e){return t.setState(e)},arr:this.state.grid}),Object(p.jsx)("br",{}),Object(p.jsx)("code",{children:"Output:"}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"output",children:[Object(p.jsx)("code",{children:"\xa0"}),this.state.output.tape.map((function(e,n){var r=t.state.output.cell===n?"red":"white";return Object(p.jsxs)("code",{style:{color:r},children:[e,"\xa0"]})}))]})]})})]})}}]),n}(i.a.Component);function g(){return Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)("h1",{children:"Bangyen"}),Object(p.jsxs)("div",{children:[Object(p.jsx)(b.b,{to:"/back",children:Object(p.jsx)("button",{className:"custom",type:"button",children:"Interpreter"})}),Object(p.jsx)(b.b,{to:"/snake",children:Object(p.jsx)("button",{className:"custom",type:"button",children:"Snake"})}),Object(p.jsx)("form",{action:"https://github.com/bangyen",style:{display:"inline-block"},children:Object(p.jsx)("input",{type:"submit",value:"GitHub",className:"custom"})})]})]})}n(36),n(37);var k=n(2);function w(){return Object(p.jsx)(b.a,{basename:"/",children:Object(p.jsx)("div",{children:Object(p.jsxs)(k.c,{children:[Object(p.jsx)(k.a,{path:"/back",children:Object(p.jsx)(y,{})}),Object(p.jsx)(k.a,{path:"/snake",children:Object(p.jsx)(v,{})}),Object(p.jsx)(k.a,{path:"/",children:Object(p.jsx)(g,{})})]})})})}c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.2f6b79e5.chunk.js.map