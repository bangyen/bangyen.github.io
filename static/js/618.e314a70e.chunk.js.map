{"version":3,"file":"static/js/618.e314a70e.chunk.js","mappings":"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","sources":["components/Layout.tsx","Pages/Home.tsx","Pages/Error.tsx","Pages/Snake.tsx","Pages/Board.tsx","Pages/Lights/boardHandlers.ts","Pages/Lights/matrices.ts","Pages/Lights/chaseHandlers.ts","Pages/Lights/Example.tsx","Pages/Lights/Info.tsx","Pages/Lights/LightsOut.tsx","components/ResearchDemo.tsx","Pages/ZSharp.tsx","Pages/Oligopoly.tsx","Pages/Interpreters.tsx","Pages/CctldQuizPage.tsx","Pages/index.ts","hooks.ts"],"sourcesContent":["import React from 'react';\nimport { Container, Box } from '../components/mui';\nimport { SPACING, COMPONENT_VARIANTS, COLORS } from '../config/theme';\n\ninterface SectionProps {\n    children: React.ReactNode;\n    id?: string;\n    paddingY?: string;\n    paddingX?: string;\n    maxWidth?: string;\n    sx?: Record<string, unknown>;\n    [key: string]: unknown;\n}\n\ninterface BackgroundBoxProps {\n    children: React.ReactNode;\n    sx?: Record<string, unknown>;\n    [key: string]: unknown;\n}\n\ninterface HeroContainerProps {\n    children: React.ReactNode;\n    paddingBottom?: string;\n    maxWidth?: string;\n    sx?: Record<string, unknown>;\n    [key: string]: unknown;\n}\n\ninterface PageLayoutProps {\n    children: React.ReactNode;\n    sx?: Record<string, unknown>;\n    [key: string]: unknown;\n}\n\n/**\n * Section component provides consistent section layout with proper spacing\n * and responsive padding for improved maintainability.\n */\nexport function Section({\n    children,\n    id,\n    paddingY = SPACING.padding.lg,\n    paddingX = SPACING.padding.lg,\n    maxWidth = SPACING.maxWidth.lg,\n    ...props\n}: SectionProps) {\n    return (\n        <Container\n            maxWidth={false}\n            id={id}\n            sx={{\n                paddingY,\n                paddingX,\n                ...(props.sx as Record<string, unknown>),\n            }}\n            {...props}\n        >\n            <Box sx={{ maxWidth, margin: '0 auto' }}>{children}</Box>\n        </Container>\n    );\n}\n\n/**\n * BackgroundBox component provides consistent background positioning\n * for page background elements.\n */\nexport function BackgroundBox({ children, ...props }: BackgroundBoxProps) {\n    return (\n        <Box\n            sx={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                background: COLORS.surface.background,\n                zIndex: -1,\n                ...(props.sx as Record<string, unknown>),\n            }}\n            {...props}\n        >\n            {children}\n        </Box>\n    );\n}\n\n/**\n * HeroContainer component provides consistent hero section layout\n * with centered content and responsive padding.\n */\nexport function HeroContainer({\n    children,\n    paddingBottom = '4rem',\n    maxWidth = SPACING.maxWidth.lg,\n    ...props\n}: HeroContainerProps) {\n    return (\n        <Container\n            maxWidth={false}\n            sx={{\n                flex: 1,\n                ...COMPONENT_VARIANTS.flexCenter,\n                paddingTop: 0,\n                paddingBottom,\n                paddingX: {\n                    xs: SPACING.padding.sm,\n                    md: SPACING.padding.lg,\n                },\n                maxWidth: '100%',\n                overflowX: 'hidden',\n                ...(props.sx as Record<string, unknown>),\n            }}\n            {...props}\n        >\n            <Box sx={{ maxWidth, margin: '0 auto' }}>{children}</Box>\n        </Container>\n    );\n}\n\n/**\n * PageLayout component provides consistent page layout with background,\n * full height, and proper positioning for improved maintainability.\n */\nexport function PageLayout({ children, ...props }: PageLayoutProps) {\n    return (\n        <Box\n            sx={{\n                minHeight: '100vh',\n                position: 'relative',\n                background: COLORS.surface.background,\n                boxSizing: 'border-box',\n                width: '100%',\n                maxWidth: '100vw',\n                overflowX: 'hidden',\n                ...(props.sx as Record<string, unknown>),\n            }}\n            {...props}\n        >\n            {children}\n        </Box>\n    );\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n    Grid,\n    Typography,\n    Box,\n    Menu,\n    MenuItem,\n    Fade,\n    Button,\n} from '../components/mui';\n\nimport { TooltipButton, GlassCard, ICON_MAP } from '../helpers';\nimport { Section, HeroContainer } from '../components/Layout';\nimport {\n    PERSONAL_INFO,\n    URLS,\n    SKILLS,\n    PUBLICATIONS,\n    PROJECTS,\n    PAGE_TITLES,\n} from '../config/constants';\nimport {\n    COLORS,\n    SPACING,\n    TYPOGRAPHY,\n    ANIMATIONS,\n    COMPONENT_VARIANTS,\n} from '../config/theme';\n\nimport {\n    GitHub,\n    Work,\n    LocationOn,\n    OpenInNew,\n    ArrowForward,\n    Code,\n    Psychology,\n    GamepadRounded,\n    ViewModuleRounded,\n} from '../components/icons';\n\ninterface ProjectInfo {\n    path: string;\n    description: string;\n    technology: string;\n}\n\ninterface ProjectCategory {\n    title: string;\n    icon: React.ElementType;\n    color: string;\n    projects: Record<string, ProjectInfo>;\n}\n\nconst PROJECT_CATEGORIES: Record<string, ProjectCategory> = {\n    research: {\n        title: 'Research',\n        icon: Psychology,\n        color: COLORS.data.green,\n        projects: {\n            ZSharp: {\n                path: '/ZSharp',\n                description: 'ML optimization method',\n                technology: 'PyTorch',\n            },\n            Oligopoly: {\n                path: '/Oligopoly',\n                description: 'Market simulation model',\n                technology: 'FastAPI',\n            },\n        },\n    },\n    games: {\n        title: 'Games',\n        icon: GamepadRounded,\n        color: COLORS.primary.main,\n        projects: {\n            Snake: {\n                path: '/Snake',\n                description: 'Retro arcade gameplay',\n                technology: 'JavaScript',\n            },\n            Lights_Out: {\n                path: '/Lights_Out',\n                description: 'Grid-based logic puzzle',\n                technology: 'JavaScript',\n            },\n            CCTLD_Quiz: {\n                path: '/CCTLD_Quiz',\n                description: 'Country Code Mastery',\n                technology: 'React',\n            },\n        },\n    },\n    tools: {\n        title: 'Tools',\n        icon: Code,\n        color: COLORS.data.amber,\n        projects: {\n            Interpreters: {\n                path: '/Interpreters',\n                description: 'Esoteric language demos',\n                technology: 'JavaScript',\n            },\n        },\n    },\n};\n\nfunction ProjectDropdown(): React.ReactElement {\n    return (\n        <Box sx={{ padding: '16px 16px 0 16px' }}>\n            {Object.entries(PROJECT_CATEGORIES).map(\n                ([categoryKey, category]) => {\n                    const IconComponent = category.icon;\n                    return (\n                        <Box key={categoryKey} sx={{ marginBottom: 2 }}>\n                            <Box\n                                sx={{\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    gap: 1,\n                                    padding: '8px 0 4px 0',\n                                    marginBottom: 0.5,\n                                    position: 'relative',\n                                    '&::after': {\n                                        content: '\"\"',\n                                        position: 'absolute',\n                                        bottom: 0,\n                                        left: 0,\n                                        right: 0,\n                                        height: '1px',\n                                        backgroundColor:\n                                            'rgba(255, 255, 255, 0.05)',\n                                    },\n                                }}\n                            >\n                                <IconComponent\n                                    sx={{\n                                        color: '#4C78FF',\n                                        fontSize: '14px',\n                                        opacity: 0.7,\n                                    }}\n                                />\n                                <Typography\n                                    sx={{\n                                        color: 'rgba(157, 163, 174, 0.7)',\n                                        fontSize: '10px',\n                                        fontWeight: 500,\n                                        textTransform: 'uppercase',\n                                        letterSpacing: '0.14em',\n                                        fontFamily:\n                                            'ui-monospace, SFMono-Regular, \"SF Mono\", Consolas, \"Liberation Mono\", Menlo, monospace',\n                                    }}\n                                >\n                                    {category.title}\n                                </Typography>\n                            </Box>\n\n                            {Object.entries(category.projects).map(\n                                ([projectName, project]) => (\n                                    <MenuItem\n                                        key={projectName}\n                                        component={Link}\n                                        to={project.path}\n                                        sx={{\n                                            padding: '10px 12px',\n                                            borderRadius: '8px',\n                                            margin: '0',\n                                            minHeight: '40px',\n                                            transition: 'all 120ms ease',\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            alignItems: 'flex-start',\n                                            gap: '6px',\n                                            '&:hover': {\n                                                backgroundColor:\n                                                    'rgba(255, 255, 255, 0.06)',\n                                                transform: 'translateY(-1px)',\n                                            },\n                                            '&:active': {\n                                                backgroundColor:\n                                                    'rgba(255, 255, 255, 0.08)',\n                                            },\n                                            '&:focus-visible': {\n                                                outline: 'none',\n                                                ring: '1px solid rgba(255, 255, 255, 0.2)',\n                                                ringOffset: '0',\n                                            },\n                                        }}\n                                    >\n                                        <Typography\n                                            sx={{\n                                                fontWeight: 600,\n                                                fontSize: '15px',\n                                                lineHeight: 1.6,\n                                                color: '#EDEDED',\n                                            }}\n                                        >\n                                            {projectName.replace('_', ' ')}\n                                        </Typography>\n                                        <Typography\n                                            sx={{\n                                                color: 'rgba(157, 163, 174, 0.8)',\n                                                fontSize: '12px',\n                                                lineHeight: 1.4,\n                                            }}\n                                        >\n                                            {project.description}\n                                        </Typography>\n                                    </MenuItem>\n                                )\n                            )}\n                        </Box>\n                    );\n                }\n            )}\n        </Box>\n    );\n}\n\nfunction clickHandler(setAnchor: (anchor: HTMLElement | null) => void) {\n    return (event: React.MouseEvent<HTMLElement>) => {\n        setAnchor(event.currentTarget);\n    };\n}\n\nfunction closeHandler(setAnchor: (anchor: null) => void) {\n    return () => {\n        setAnchor(null);\n    };\n}\n\nfunction MenuButton(): React.ReactElement {\n    const [anchor, setAnchor] = useState<HTMLElement | null>(null);\n    const handleClick = clickHandler(setAnchor);\n    const handleClose = closeHandler(setAnchor);\n    const open = Boolean(anchor);\n\n    const define = (value: string | undefined) => {\n        return open ? value : undefined;\n    };\n\n    return (\n        <Box>\n            <TooltipButton\n                title=\"Projects Menu\"\n                id=\"projects-menu-button\"\n                Icon={ViewModuleRounded}\n                aria-controls={define('projects-menu')}\n                aria-expanded={define('true')}\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n                sx={{\n                    '&:hover': {\n                        backgroundColor: COLORS.interactive.hover,\n                        transform: 'scale(1.05)',\n                    },\n                }}\n            />\n            <Menu\n                id=\"projects-menu\"\n                open={open}\n                anchorEl={anchor}\n                disableAutoFocusItem={true}\n                BackdropProps={{\n                    sx: {\n                        backgroundColor: 'transparent',\n                        backdropFilter: 'none',\n                    },\n                }}\n                sx={{\n                    marginLeft: 1,\n                    marginTop: 1,\n                    '& .MuiPaper-root': {\n                        width: 'auto',\n                        maxWidth: '300px',\n                        height: 'auto !important',\n                        backgroundColor: 'rgba(11, 11, 12, 0.95)',\n                        backdropFilter: 'blur(8px)',\n                        border: '1px solid rgba(255, 255, 255, 0.1)',\n                        borderRadius: '16px',\n                        padding: 0,\n                        boxShadow: '0 8px 30px rgba(0, 0, 0, 0.35)',\n                        transition: 'all 140ms cubic-bezier(0.2, 0.8, 0.2, 1)',\n                        transform: open\n                            ? 'translateY(0) scale(1)'\n                            : 'translateY(8px) scale(0.98)',\n                        opacity: open ? 1 : 0,\n                    },\n                }}\n                onClose={handleClose}\n                MenuListProps={{\n                    'aria-labelledby': 'projects-menu-button',\n                    sx: {\n                        padding: 0,\n                        height: 'auto',\n                    },\n                }}\n                transformOrigin={{ horizontal: 'left', vertical: 'top' }}\n                anchorOrigin={{ horizontal: 'left', vertical: 'bottom' }}\n            >\n                <ProjectDropdown />\n            </Menu>\n        </Box>\n    );\n}\n\nexport default function Home(): React.ReactElement {\n    useEffect(() => {\n        document.title = PAGE_TITLES.home;\n    }, []);\n\n    return (\n        <Grid\n            container\n            minHeight=\"100vh\"\n            flexDirection=\"column\"\n            sx={{\n                position: 'relative',\n                background: COLORS.surface.background,\n                boxSizing: 'border-box',\n                width: '100%',\n                maxWidth: '100vw',\n                overflowX: 'hidden',\n            }}\n        >\n            <Box\n                sx={{\n                    position: 'relative',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    padding: { xs: '0.5rem', md: '1.5rem' },\n                    zIndex: 1000,\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    maxWidth: '100%',\n                    overflowX: 'hidden',\n                }}\n            >\n                <MenuButton />\n                <TooltipButton\n                    component=\"a\"\n                    href={URLS.githubProfile}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    title=\"GitHub Profile\"\n                    Icon={GitHub}\n                />\n            </Box>\n\n            <Box\n                sx={{\n                    height: { xs: '2rem', md: '5rem' },\n                }}\n            />\n\n            <HeroContainer>\n                <Grid container spacing={{ xs: 4, md: 8 }} alignItems=\"center\">\n                    <Grid size={{ xs: 12, md: 6 }}>\n                        <Fade in timeout={800}>\n                            <Box>\n                                <Typography\n                                    sx={{\n                                        color: COLORS.primary.main,\n                                        fontSize: TYPOGRAPHY.fontSize.body,\n                                        fontWeight:\n                                            TYPOGRAPHY.fontWeight.semibold,\n                                        textTransform: 'uppercase',\n                                        letterSpacing: '0.025em',\n                                        marginBottom: 3,\n                                    }}\n                                >\n                                    Hello, I&apos;m\n                                </Typography>\n\n                                <Typography\n                                    sx={{\n                                        color: COLORS.text.primary,\n                                        fontWeight: TYPOGRAPHY.fontWeight.bold,\n                                        fontSize: {\n                                            xs: 'clamp(2rem, 8vw, 2.5rem)',\n                                            md: 'clamp(3rem, 6vw, 5rem)',\n                                        },\n                                        lineHeight: 1.4,\n                                        letterSpacing: '0',\n                                        marginBottom: 2,\n                                        wordBreak: 'keep-all',\n                                        hyphens: 'none',\n                                    }}\n                                >\n                                    {PERSONAL_INFO.name}\n                                </Typography>\n\n                                <Typography\n                                    sx={{\n                                        color: COLORS.text.secondary,\n                                        fontSize: {\n                                            xs: 'clamp(0.875rem, 4vw, 1.125rem)',\n                                            md: 'clamp(1.125rem, 2.5vw, 1.5rem)',\n                                        },\n                                        fontWeight:\n                                            TYPOGRAPHY.fontWeight.semibold,\n                                        marginBottom: 4,\n                                        lineHeight: 1.4,\n                                        wordBreak: 'keep-all',\n                                        hyphens: 'none',\n                                    }}\n                                >\n                                    {PERSONAL_INFO.title}\n                                </Typography>\n\n                                <Box\n                                    sx={{\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        gap: 2,\n                                        marginBottom: 4,\n                                    }}\n                                >\n                                    <LocationOn\n                                        sx={{\n                                            color: COLORS.text.secondary,\n                                            fontSize: '1.25rem',\n                                        }}\n                                    />\n                                    <Typography\n                                        sx={{\n                                            color: COLORS.text.secondary,\n                                            fontSize: TYPOGRAPHY.fontSize.body,\n                                            fontWeight:\n                                                TYPOGRAPHY.fontWeight.medium,\n                                        }}\n                                    >\n                                        {PERSONAL_INFO.location}\n                                    </Typography>\n                                </Box>\n\n                                <Box\n                                    sx={{\n                                        display: 'flex',\n                                        gap: 2,\n                                        flexWrap: 'wrap',\n                                    }}\n                                >\n                                    <Box\n                                        onClick={() => {\n                                            const element =\n                                                document.getElementById(\n                                                    'featured-work'\n                                                );\n                                            if (element) {\n                                                element.scrollIntoView({\n                                                    behavior: 'smooth',\n                                                    block: 'start',\n                                                    inline: 'nearest',\n                                                });\n                                            }\n                                        }}\n                                        sx={{\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            gap: 1,\n                                            padding: '12px 20px',\n                                            backgroundColor:\n                                                COLORS.interactive.selected,\n                                            borderRadius:\n                                                SPACING.borderRadius.full,\n                                            transition: ANIMATIONS.transition,\n                                            cursor: 'pointer',\n                                            '&:hover': {\n                                                backgroundColor:\n                                                    'hsla(217, 91%, 60%, 0.15)',\n                                                transform:\n                                                    'scale(1.02) translateY(-1px)',\n                                                boxShadow:\n                                                    '0 4px 20px hsla(0, 0%, 0%, 0.25)',\n                                            },\n                                        }}\n                                    >\n                                        <Typography\n                                            sx={{\n                                                color: COLORS.primary.main,\n                                                fontWeight:\n                                                    TYPOGRAPHY.fontWeight\n                                                        .semibold,\n                                                fontSize:\n                                                    TYPOGRAPHY.fontSize.body,\n                                            }}\n                                        >\n                                            View Work\n                                        </Typography>\n                                        <ArrowForward\n                                            sx={{\n                                                color: COLORS.primary.main,\n                                                fontSize: '1rem',\n                                            }}\n                                        />\n                                    </Box>\n                                </Box>\n                            </Box>\n                        </Fade>\n                    </Grid>\n\n                    <Grid size={{ xs: 12, md: 6 }}>\n                        <Fade in timeout={1000}>\n                            <Box\n                                sx={{\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    gap: 4,\n                                }}\n                            >\n                                <GlassCard>\n                                    <Typography\n                                        sx={{\n                                            color: COLORS.primary.main,\n                                            fontSize:\n                                                TYPOGRAPHY.fontSize.subheading,\n                                            fontWeight:\n                                                TYPOGRAPHY.fontWeight.semibold,\n                                            marginBottom: 3,\n                                        }}\n                                    >\n                                        Tech Stack\n                                    </Typography>\n\n                                    <Box\n                                        sx={{\n                                            display: 'grid',\n                                            gridTemplateColumns: {\n                                                xs: '1fr',\n                                                md: 'repeat(3, 1fr)',\n                                            },\n                                            gap: {\n                                                xs: 1.5,\n                                                md: 2,\n                                            },\n                                            marginBottom: 3,\n                                        }}\n                                    >\n                                        {SKILLS.map((skill, index) => {\n                                            const IconComponent =\n                                                ICON_MAP[skill.icon] || Work;\n\n                                            return (\n                                                <Fade\n                                                    in\n                                                    timeout={1200 + index * 150}\n                                                    key={skill.name}\n                                                >\n                                                    <Box\n                                                        sx={{\n                                                            backgroundColor:\n                                                                COLORS\n                                                                    .interactive\n                                                                    .selected,\n                                                            border: `1px solid hsla(217, 91%, 60%, 0.2)`,\n                                                            borderRadius:\n                                                                SPACING\n                                                                    .borderRadius\n                                                                    .md,\n                                                            padding: {\n                                                                xs: '12px',\n                                                                md: '16px',\n                                                            },\n                                                            display: 'flex',\n                                                            alignItems:\n                                                                'center',\n                                                            gap: {\n                                                                xs: 1,\n                                                                md: 1.5,\n                                                            },\n                                                            transition:\n                                                                ANIMATIONS.transition,\n                                                            cursor: 'pointer',\n                                                            minWidth: 0,\n                                                            overflow: 'hidden',\n                                                            '&:hover': {\n                                                                backgroundColor:\n                                                                    COLORS\n                                                                        .interactive\n                                                                        .hover,\n                                                                transform:\n                                                                    'translateY(-2px) scale(1.01)',\n                                                            },\n                                                        }}\n                                                    >\n                                                        <IconComponent\n                                                            sx={{\n                                                                color: COLORS\n                                                                    .primary\n                                                                    .main,\n                                                                fontSize:\n                                                                    TYPOGRAPHY\n                                                                        .fontSize\n                                                                        .body,\n                                                            }}\n                                                        />\n                                                        <Typography\n                                                            sx={{\n                                                                color: COLORS\n                                                                    .primary\n                                                                    .main,\n                                                                fontSize:\n                                                                    TYPOGRAPHY\n                                                                        .fontSize\n                                                                        .body,\n                                                                fontWeight:\n                                                                    TYPOGRAPHY\n                                                                        .fontWeight\n                                                                        .medium,\n                                                                whiteSpace:\n                                                                    'nowrap',\n                                                                overflow:\n                                                                    'hidden',\n                                                                textOverflow:\n                                                                    'ellipsis',\n                                                                flexShrink: 1,\n                                                            }}\n                                                        >\n                                                            {skill.name}\n                                                        </Typography>\n                                                    </Box>\n                                                </Fade>\n                                            );\n                                        })}\n                                    </Box>\n                                </GlassCard>\n\n                                <GlassCard>\n                                    <Typography\n                                        sx={{\n                                            color: COLORS.primary.main,\n                                            fontSize:\n                                                TYPOGRAPHY.fontSize.subheading,\n                                            fontWeight:\n                                                TYPOGRAPHY.fontWeight.semibold,\n                                            marginBottom: 3,\n                                        }}\n                                    >\n                                        Let&apos;s Connect\n                                    </Typography>\n\n                                    <Typography\n                                        sx={{\n                                            color: COLORS.text.secondary,\n                                            fontSize: TYPOGRAPHY.fontSize.body,\n                                            lineHeight: 1.5,\n                                            marginBottom: 4,\n                                        }}\n                                    >\n                                        Open to opportunities in backend\n                                        development, ML engineering, and\n                                        research collaboration.\n                                    </Typography>\n\n                                    <Box\n                                        sx={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            gap: 2,\n                                        }}\n                                    >\n                                        <Button\n                                            component=\"a\"\n                                            href={URLS.githubProfile}\n                                            target=\"_blank\"\n                                            rel=\"noopener noreferrer\"\n                                            variant=\"outlined\"\n                                            startIcon={<GitHub />}\n                                            sx={{\n                                                textDecoration: 'none',\n                                            }}\n                                        >\n                                            View GitHub\n                                        </Button>\n\n                                        <Button\n                                            component=\"a\"\n                                            href=\"mailto:bangyenp@gmail.com?subject=Project%20Collaboration\"\n                                            variant=\"text\"\n                                            endIcon={<ArrowForward />}\n                                            sx={{\n                                                textDecoration: 'none',\n                                                color: COLORS.text.secondary,\n                                                '&:hover': {\n                                                    color: COLORS.text.primary,\n                                                    backgroundColor:\n                                                        COLORS.interactive\n                                                            .hover,\n                                                },\n                                            }}\n                                        >\n                                            Available for Projects\n                                        </Button>\n                                    </Box>\n                                </GlassCard>\n                            </Box>\n                        </Fade>\n                    </Grid>\n                </Grid>\n            </HeroContainer>\n\n            <Section id=\"featured-work\">\n                <Fade in timeout={1400}>\n                    <Box>\n                        <Typography\n                            sx={{\n                                color: COLORS.text.primary,\n                                fontSize: TYPOGRAPHY.fontSize.h2,\n                                fontWeight: TYPOGRAPHY.fontWeight.semibold,\n                                textAlign: 'center',\n                                marginBottom: 6,\n                            }}\n                        >\n                            Featured Work\n                        </Typography>\n\n                        <Box\n                            sx={{\n                                display: 'grid',\n                                gridTemplateColumns: {\n                                    xs: '1fr',\n                                    md: 'repeat(2, 1fr)',\n                                },\n                                gap: 4,\n                            }}\n                        >\n                            {PUBLICATIONS.map((publication, index) => (\n                                <Fade\n                                    in\n                                    timeout={1600 + index * 200}\n                                    key={publication.title}\n                                >\n                                    <Box\n                                        component=\"a\"\n                                        href={publication.url}\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        sx={{\n                                            textDecoration: 'none',\n                                            position: 'relative',\n                                            overflow: 'hidden',\n                                            ...COMPONENT_VARIANTS.interactiveCard,\n                                            '&:hover .glass-card': {\n                                                backgroundColor:\n                                                    COLORS.interactive.selected,\n                                            },\n                                        }}\n                                    >\n                                        <GlassCard\n                                            sx={{\n                                                border: 'none',\n                                                height: '100%',\n                                            }}\n                                        >\n                                            <Box\n                                                sx={{\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    justifyContent:\n                                                        'space-between',\n                                                    marginBottom: 3,\n                                                }}\n                                            >\n                                                <Typography\n                                                    sx={{\n                                                        color: COLORS.primary\n                                                            .main,\n                                                        fontSize:\n                                                            TYPOGRAPHY.fontSize\n                                                                .caption,\n                                                        fontWeight:\n                                                            TYPOGRAPHY\n                                                                .fontWeight\n                                                                .medium,\n                                                        textTransform:\n                                                            'uppercase',\n                                                        letterSpacing:\n                                                            '0.025em',\n                                                    }}\n                                                >\n                                                    Research\n                                                </Typography>\n                                                <OpenInNew\n                                                    sx={{\n                                                        color: COLORS.primary\n                                                            .main,\n                                                    }}\n                                                />\n                                            </Box>\n\n                                            <Typography\n                                                sx={{\n                                                    color: COLORS.text.primary,\n                                                    fontWeight:\n                                                        TYPOGRAPHY.fontWeight\n                                                            .semibold,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .subheading,\n                                                    lineHeight: 1.4,\n                                                    marginBottom: 2,\n                                                }}\n                                            >\n                                                {publication.title}\n                                            </Typography>\n\n                                            <Box sx={{ marginBottom: 3 }}>\n                                                <Box\n                                                    sx={{\n                                                        borderRadius:\n                                                            SPACING.borderRadius\n                                                                .full,\n                                                        fontSize:\n                                                            'clamp(0.7rem, 0.8vw, 0.75rem)',\n                                                        fontWeight: 500,\n                                                        padding: '4px 12px',\n                                                        minHeight:\n                                                            SPACING.padding.sm,\n                                                        display: 'inline-flex',\n                                                        alignItems: 'center',\n                                                        transition:\n                                                            'all 150ms cubic-bezier(0.4, 0, 0.2, 1)',\n                                                        backgroundColor:\n                                                            'hsla(141, 64%, 49%, 0.1)',\n                                                        color: 'hsl(141, 64%, 49%)',\n                                                        border: '1px solid hsla(141, 64%, 49%, 0.2)',\n                                                    }}\n                                                >\n                                                    {publication.conference}\n                                                </Box>\n                                            </Box>\n\n                                            <Typography\n                                                sx={{\n                                                    color: COLORS.text\n                                                        .secondary,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                    lineHeight: 1.5,\n                                                    flex: 1,\n                                                }}\n                                            >\n                                                {publication.description}\n                                            </Typography>\n                                        </GlassCard>\n                                    </Box>\n                                </Fade>\n                            ))}\n\n                            {PROJECTS.map((project, index) => (\n                                <Fade\n                                    in\n                                    timeout={1600 + (index + 2) * 200}\n                                    key={project.title}\n                                >\n                                    <Box\n                                        component=\"a\"\n                                        href={project.url}\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        sx={{\n                                            textDecoration: 'none',\n                                            position: 'relative',\n                                            overflow: 'hidden',\n                                            ...COMPONENT_VARIANTS.interactiveCard,\n                                            '&:hover .glass-card': {\n                                                backgroundColor:\n                                                    COLORS.interactive.selected,\n                                            },\n                                        }}\n                                    >\n                                        <GlassCard\n                                            sx={{\n                                                border: 'none',\n                                                height: '100%',\n                                            }}\n                                        >\n                                            <Box\n                                                sx={{\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    justifyContent:\n                                                        'space-between',\n                                                    marginBottom: 3,\n                                                }}\n                                            >\n                                                <Typography\n                                                    sx={{\n                                                        color: COLORS.primary\n                                                            .main,\n                                                        fontSize:\n                                                            TYPOGRAPHY.fontSize\n                                                                .caption,\n                                                        fontWeight:\n                                                            TYPOGRAPHY\n                                                                .fontWeight\n                                                                .medium,\n                                                        textTransform:\n                                                            'uppercase',\n                                                        letterSpacing:\n                                                            '0.025em',\n                                                    }}\n                                                >\n                                                    Project\n                                                </Typography>\n                                                <GitHub\n                                                    sx={{\n                                                        color: COLORS.primary\n                                                            .main,\n                                                    }}\n                                                />\n                                            </Box>\n\n                                            <Typography\n                                                sx={{\n                                                    color: COLORS.text.primary,\n                                                    fontWeight:\n                                                        TYPOGRAPHY.fontWeight\n                                                            .semibold,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .subheading,\n                                                    lineHeight: 1.4,\n                                                    marginBottom: 2,\n                                                }}\n                                            >\n                                                {project.title}\n                                            </Typography>\n\n                                            <Box sx={{ marginBottom: 3 }}>\n                                                <Box\n                                                    sx={{\n                                                        borderRadius:\n                                                            SPACING.borderRadius\n                                                                .full,\n                                                        fontSize:\n                                                            'clamp(0.7rem, 0.8vw, 0.75rem)',\n                                                        fontWeight: 500,\n                                                        padding: '4px 12px',\n                                                        minHeight:\n                                                            SPACING.padding.sm,\n                                                        display: 'inline-flex',\n                                                        alignItems: 'center',\n                                                        transition:\n                                                            'all 150ms cubic-bezier(0.4, 0, 0.2, 1)',\n                                                        backgroundColor:\n                                                            'hsla(217, 91%, 60%, 0.1)',\n                                                        color: COLORS.primary\n                                                            .main,\n                                                        border: '1px solid hsla(217, 91%, 60%, 0.2)',\n                                                    }}\n                                                >\n                                                    {project.technology}\n                                                </Box>\n                                            </Box>\n\n                                            <Typography\n                                                sx={{\n                                                    color: COLORS.text\n                                                        .secondary,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                    lineHeight: 1.5,\n                                                    flex: 1,\n                                                }}\n                                            >\n                                                {project.description}\n                                            </Typography>\n                                        </GlassCard>\n                                    </Box>\n                                </Fade>\n                            ))}\n                        </Box>\n                    </Box>\n                </Fade>\n            </Section>\n\n            <Box\n                sx={{\n                    height: { xs: '2rem', md: '5rem' },\n                }}\n            />\n        </Grid>\n    );\n}\n","import React from 'react';\nimport { Grid, Typography, Box, Fade } from '../components/mui';\nimport { HomeButton } from '../helpers';\nimport { PAGE_TITLES } from '../config/constants';\nimport {\n    COLORS,\n    SPACING,\n    TYPOGRAPHY,\n    COMPONENT_VARIANTS,\n} from '../config/theme';\n\nexport default function Error(): React.ReactElement {\n    document.title = PAGE_TITLES.error;\n    return (\n        <Grid\n            container\n            minHeight=\"100vh\"\n            flexDirection=\"column\"\n            sx={{\n                position: 'relative',\n                padding: { xs: '0.5rem', md: '1.5rem' },\n                boxSizing: 'border-box',\n            }}\n        >\n            {/* Background Elements */}\n            <Box\n                sx={{\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    background: COLORS.surface.background,\n                    zIndex: -2,\n                }}\n            />\n\n            {/* Main Content */}\n            <Grid\n                flex={1}\n                sx={{\n                    ...COMPONENT_VARIANTS.flexCenter,\n                    flexDirection: 'column',\n                    zIndex: 1,\n                    padding: {\n                        xs: '0.5rem 0',\n                        md: `${SPACING.padding.md} 0`,\n                    },\n                    minHeight: 0,\n                }}\n            >\n                <Fade in timeout={1000}>\n                    <Box\n                        sx={{\n                            textAlign: 'center',\n                            maxWidth: '24rem',\n                            width: '100%',\n                            padding: {\n                                xs: '0 1rem',\n                                md: '0 2rem',\n                            },\n                            boxSizing: 'border-box',\n                        }}\n                    >\n                        <Typography\n                            variant=\"h1\"\n                            sx={{\n                                color: COLORS.text.primary,\n                                fontWeight: TYPOGRAPHY.fontWeight.bold,\n                                marginBottom: 2,\n                                fontSize: TYPOGRAPHY.fontSize.display,\n                            }}\n                        >\n                            404\n                        </Typography>\n\n                        <Typography\n                            variant=\"h3\"\n                            sx={{\n                                color: COLORS.text.secondary,\n                                fontWeight: TYPOGRAPHY.fontWeight.medium,\n                                marginBottom: 4,\n                                fontSize: TYPOGRAPHY.fontSize.h2,\n                            }}\n                        >\n                            Page Not Found\n                        </Typography>\n\n                        <Typography\n                            sx={{\n                                color: COLORS.text.secondary,\n                                fontSize: TYPOGRAPHY.fontSize.body,\n                                lineHeight: 1.5,\n                                marginBottom: 4,\n                            }}\n                        >\n                            The page you&apos;re looking for doesn&apos;t exist\n                            or has been moved.\n                        </Typography>\n                    </Box>\n                </Fade>\n            </Grid>\n\n            {/* Navigation */}\n            <Box\n                sx={{\n                    position: 'absolute',\n                    top: { xs: '0.5rem', md: '1.5rem' },\n                    left: { xs: '0.5rem', md: '1.5rem' },\n                }}\n            >\n                <HomeButton />\n            </Box>\n        </Grid>\n    );\n}\n\n","import React, {\n    useMemo,\n    useCallback,\n    useReducer,\n    useEffect,\n    useState,\n    useRef,\n} from 'react';\nimport { Grid } from '../components/mui';\n\nimport { convertPixels, gridMove, getDirection } from '../calculate';\nimport { useWindow, useTimer, useKeys } from '../hooks';\nimport { CustomGrid, Controls, ArrowsButton } from '../helpers';\nimport { PAGE_TITLES, GAME_CONSTANTS } from '../config/constants';\nimport { COLORS, COMPONENT_VARIANTS } from '../config/theme';\n\ninterface Board {\n    [key: number]: number;\n}\n\ninterface SnakeState {\n    velocity: number;\n    buffer: number[];\n    length: number;\n    rows: number;\n    cols: number;\n    head: number;\n    board: Board;\n}\n\ninterface Action {\n    type: string;\n    payload?: any;\n}\n\nfunction getRandom(max: number): number {\n    return Math.floor(Math.random() * max);\n}\n\nfunction addNext(max: number, exclude: Board): Board {\n    let pos = getRandom(max);\n\n    while (pos in exclude) if (++pos >= max) pos = 0;\n\n    return {\n        ...exclude,\n        [pos]: -1,\n    };\n}\n\nfunction mapBoard(board: Board, change: number): Board {\n    const newBoard: Board = {};\n\n    for (const cell in board) {\n        const value = board[cell];\n\n        if (value + change > 0) newBoard[cell] = value + change;\n        else if (value < 0) newBoard[cell] = value;\n    }\n\n    return newBoard;\n}\n\nfunction handleResize(state: SnakeState, rows: number, cols: number): SnakeState {\n    const max = rows * cols;\n    const head = getRandom(max);\n    let next = getRandom(max);\n\n    if (head === next) next = ++next % max;\n\n    return {\n        ...state,\n        rows,\n        cols,\n        head,\n        board: {\n            [head]: state.length,\n            [next]: -1,\n        },\n    };\n}\n\nfunction reduceBoard(state: SnakeState): SnakeState {\n    let { board, length, head, velocity, buffer } = state;\n    const { rows, cols } = state;\n\n    const max = rows * cols;\n\n    board = mapBoard(board, -1);\n    head = gridMove(head, velocity, rows, cols);\n\n    if (head in board) {\n        const value = board[head];\n        board[head] = length;\n\n        if (value > 0) {\n            board = mapBoard(board, -value);\n        } else {\n            board = mapBoard(board, 1);\n            board = addNext(max, board);\n        }\n\n        length = board[head];\n    } else {\n        board[head] = length;\n    }\n\n    if (buffer.length) {\n        const [first, ...rest] = buffer;\n        buffer = rest;\n\n        if (velocity + first) velocity = first;\n    }\n\n    return {\n        ...state,\n        length,\n        board,\n        head,\n        velocity,\n        buffer,\n    };\n}\n\nfunction handleAction(state: SnakeState, action: Action): SnakeState {\n    const { type, payload } = action;\n\n    switch (type) {\n        case 'resize':\n            const { rows, cols } = payload;\n            return handleResize(state, rows, cols);\n        case 'steer':\n            const velocity = getDirection(payload.key);\n            let { buffer } = state;\n\n            if (velocity) buffer = [...buffer, velocity];\n\n            return {\n                ...state,\n                buffer,\n            };\n        case 'move':\n            return reduceBoard(state);\n        default:\n            return state;\n    }\n}\n\nexport default function Snake(): React.ReactElement {\n    const { create: createTimer } = useTimer(0);\n    const { create: createKeys } = useKeys();\n\n    const { height, width } = useWindow();\n    const length = GAME_CONSTANTS.snake.initialLength;\n    const size = GAME_CONSTANTS.snake.segmentSize;\n\n    const [randomMovesEnabled, setRandomMovesEnabled] = useState(false);\n    const randomMovesRef = useRef(false);\n\n    const [showArrows, setShowArrows] = useState(false);\n\n    const { rows, cols } = useMemo(\n        () => convertPixels(size, height, width),\n        [size, height, width]\n    );\n\n    const initial = useMemo(\n        () => ({\n            velocity: GAME_CONSTANTS.snake.initialVelocity,\n            buffer: [],\n            length,\n            rows: 0,\n            cols: 0,\n            head: 0,\n            board: {},\n        }),\n        [length]\n    );\n\n    const [state, dispatch] = useReducer(\n        handleAction,\n        handleResize(initial, rows, cols)\n    );\n\n    const controlHandler = useCallback(\n        (event: string) => () => {\n            const key = GAME_CONSTANTS.controls.arrowPrefix + event;\n\n            dispatch({\n                type: 'steer',\n                payload: { key },\n            });\n        },\n        []\n    );\n\n    const chooseColor = useCallback(\n        (row: number, col: number) => {\n            const index = row * cols + col;\n            const board = state.board;\n            let color = 'inherit';\n\n            if (index in board) {\n                if (board[index] > 0)\n                    color = COLORS.primary.main;\n                else color = COLORS.primary.dark;\n            }\n\n            return {\n                backgroundColor: color,\n                boxShadow:\n                    color !== 'inherit' ? `0 0 1.25rem ${color}40` : 'none',\n                border:\n                    color !== 'inherit' ? `0.0625rem solid ${color}` : 'none',\n            };\n        },\n        [state, cols]\n    );\n\n    useEffect(() => {\n        const wrapDispatch = () => {\n            const directions = 'wasd';\n            const index = getRandom(4);\n            const key = directions[index];\n\n            dispatch({\n                type: 'move',\n            });\n\n            if (getRandom(2) && randomMovesRef.current) {\n                dispatch({\n                    type: 'steer',\n                    payload: { key },\n                });\n            }\n        };\n\n        const wrapDirection = (event: any) =>\n            dispatch({\n                type: 'steer',\n                payload: event,\n            });\n\n        createTimer({ repeat: wrapDispatch, speed: 100 });\n        createKeys(wrapDirection);\n    }, [createTimer, createKeys]);\n\n    useEffect(() => {\n        randomMovesRef.current = randomMovesEnabled;\n    }, [randomMovesEnabled]);\n\n    useEffect(() => {\n        dispatch({\n            type: 'resize',\n            payload: { rows, cols },\n        });\n    }, [rows, cols]);\n\n    useEffect(() => {\n        document.title = PAGE_TITLES.snake;\n    }, []);\n\n    return (\n        <Grid\n            container\n            minHeight=\"100vh\"\n            flexDirection=\"column\"\n            position=\"relative\"\n            sx={{\n                background: COLORS.surface.background,\n                overflow: 'hidden',\n            }}\n        >\n            <Grid\n                flex={1}\n                sx={{\n                    ...COMPONENT_VARIANTS.flexCenter,\n                    zIndex: 1,\n                }}\n            >\n                <CustomGrid\n                    size={size}\n                    rows={rows}\n                    cols={cols}\n                    cellProps={chooseColor}\n                />\n            </Grid>\n            <Controls\n                handler={controlHandler}\n                onRandom={() => setRandomMovesEnabled(!randomMovesEnabled)}\n                randomEnabled={randomMovesEnabled}\n                hide={showArrows}\n                size=\"inherit\"\n            >\n                <ArrowsButton\n                    show={showArrows}\n                    setShow={setShowArrows}\n                    handler={controlHandler}\n                />\n            </Controls>\n        </Grid>\n    );\n}\n\n","import React from 'react';\nimport { Grid } from '../components/mui';\n\nimport { useMemo, useCallback } from 'react';\nimport { CustomGrid } from '../helpers';\nimport { COLORS } from '../config/theme';\n\ninterface BoardProps {\n    frontProps: (row: number, col: number) => Record<string, unknown>;\n    backProps: (row: number, col: number) => Record<string, unknown>;\n    size: number;\n    rows: number;\n    cols: number;\n}\n\ninterface CenteredProps {\n    children: React.ReactNode;\n}\n\ninterface Palette {\n    primary: string;\n    secondary: string;\n}\n\ninterface Getters {\n    getColor: (row: number, col: number) => { front: string; back: string };\n    getBorder: (row: number, col: number) => Record<string, unknown>;\n    getFiller: (row: number, col: number) => string;\n}\n\ninterface GridState {\n    grid: number[][];\n    rows: number;\n    cols: number;\n}\n\nexport function Board(props: BoardProps): React.ReactElement {\n    const { frontProps, backProps, size, rows, cols } = props;\n\n    return (\n        <Centered>\n            <CustomGrid\n                space={0}\n                size={size}\n                rows={rows - 1}\n                cols={cols - 1}\n                cellProps={backProps}\n            />\n            <Centered>\n                <CustomGrid\n                    space={0}\n                    size={size}\n                    rows={rows}\n                    cols={cols}\n                    cellProps={frontProps}\n                />\n            </Centered>\n        </Centered>\n    );\n}\n\nfunction Centered({ children }: CenteredProps): React.ReactElement {\n    const style = {\n        transform: 'translate(-50%, -50%)',\n    };\n\n    return (\n        <Grid\n            sx={{\n                top: '50%',\n                left: '50%',\n                width: '100%',\n                position: 'absolute',\n                ...style,\n            }}\n        >\n            {children}\n        </Grid>\n    );\n}\n\nfunction borderHandler(\n    row: number,\n    col: number,\n    getColor: (row: number, col: number) => unknown\n): Record<string, unknown> {\n    const self = getColor(row, col);\n    const up = getColor(row - 1, col);\n    const down = getColor(row + 1, col);\n    const left = getColor(row, col - 1);\n    const right = getColor(row, col + 1);\n    const props: Record<string, unknown> = {};\n\n    const upCheck = self === up;\n    const downCheck = self === down;\n    const leftCheck = self === left;\n    const rightCheck = self === right;\n\n    if (upCheck || leftCheck) props.borderTopLeftRadius = 0;\n    if (upCheck || rightCheck) props.borderTopRightRadius = 0;\n    if (downCheck || leftCheck) props.borderBottomLeftRadius = 0;\n    if (downCheck || rightCheck) props.borderBottomRightRadius = 0;\n\n    return props;\n}\n\nfunction fillerHandler(\n    row: number,\n    col: number,\n    getColor: (row: number, col: number) => unknown\n): boolean {\n    const topLeft = getColor(row, col);\n    const topRight = getColor(row, col + 1);\n    const botLeft = getColor(row + 1, col);\n    const botRight = getColor(row + 1, col + 1);\n    let color = true;\n\n    const total = Number(topLeft) + Number(topRight) + Number(botLeft) + Number(botRight);\n\n    if ((!topLeft || !botRight) && total < 3) color = false;\n\n    return color;\n}\n\nexport function usePalette(score: number): Palette {\n    const palette = useMemo(() => {\n        const primary = COLORS.primary.main;\n        const secondary = COLORS.primary.dark;\n\n        return { primary, secondary };\n    }, []);\n\n    return palette;\n}\n\nexport function useGetters(\n    getTile: (row: number, col: number) => unknown,\n    palette: Palette\n): Getters {\n    const getColor = useCallback(\n        (row: number, col: number) => {\n            const value = getTile(row, col);\n\n            const front = value ? palette.primary : palette.secondary;\n            const back = value ? palette.secondary : palette.primary;\n\n            return { front, back };\n        },\n        [getTile, palette]\n    );\n\n    const getBorder = useCallback(\n        (row: number, col: number) => {\n            return borderHandler(row, col, getTile);\n        },\n        [getTile]\n    );\n\n    const getFiller = useCallback(\n        (row: number, col: number) => {\n            const value = fillerHandler(row, col, getTile);\n\n            return value ? palette.primary : palette.secondary;\n        },\n        [getTile, palette]\n    );\n\n    return {\n        getColor,\n        getBorder,\n        getFiller,\n    };\n}\n\nexport function useHandler(state: GridState, palette: Palette): Getters {\n    const { grid, rows, cols } = state;\n\n    const getTile = useCallback(\n        (row: number, col: number) => {\n            if (row < 0 || col < 0 || row >= rows || col >= cols) return -1;\n\n            return grid[row][col];\n        },\n        [grid, rows, cols]\n    );\n\n    return useGetters(getTile, palette);\n}\n","export function getGrid(rows: number, cols: number): number[][] {\n    return [...Array(rows)].map(() => Array(cols).fill(0));\n}\n\nexport function flipAdj(\n    row: number,\n    col: number,\n    grid: number[][]\n): number[][] {\n    const cols = grid[0].length;\n    const rows = grid.length;\n\n    const newGrid = grid.map(row => [...row]);\n    newGrid[row][col] ^= 1;\n\n    if (row > 0) newGrid[row - 1][col] ^= 1;\n    if (row < rows - 1) newGrid[row + 1][col] ^= 1;\n\n    if (col > 0) newGrid[row][col - 1] ^= 1;\n    if (col < cols - 1) newGrid[row][col + 1] ^= 1;\n\n    return newGrid;\n}\n\nfunction randomize(rows: number, cols: number): number[][] {\n    let grid = getGrid(rows, cols);\n\n    for (let r = 0; r < rows; r++) {\n        for (let c = 0; c < cols; c++) {\n            const random = Math.random();\n\n            if (random > 0.5) grid = flipAdj(r, c, grid);\n        }\n    }\n\n    return grid;\n}\n\n// Memoization for solver tables: \"rows,cols\" -> map of \"bottomRowStr\" -> \"topRowIndices\"\nconst solverCache: Record<string, Record<string, number[]>> = {};\n\nfunction solveLastRow(\n    rows: number,\n    cols: number,\n    lastRow: number[]\n): number[] | null {\n    const key = `${rows},${cols}`;\n\n    if (!solverCache[key]) {\n        // Build the lookup table for this grid size\n        const map: Record<string, number[]> = {};\n        const max = 1 << cols;\n\n        for (let i = 0; i < max; i++) {\n            // Create a board with top row set to 'i'\n            let grid = getGrid(rows, cols);\n            const topRowIndices: number[] = [];\n\n            for (let c = 0; c < cols; c++) {\n                if ((i >> c) & 1) {\n                    grid = flipAdj(0, c, grid); // Toggle to set initial state correctly?\n                    // Actually, we want to simulate \"clicking\" the top row.\n                    // But flipAdj toggles neighbors too.\n                    // The standard algorithm says: \"Clicking top row buttons induces a state at the bottom\".\n                    // So yes, we just simulate clicks.\n                    topRowIndices.push(c);\n                }\n            }\n\n            // Chase down\n            for (let r = 0; r < rows - 1; r++) {\n                for (let c = 0; c < cols; c++) {\n                    if (grid[r][c] === 1) {\n                        grid = flipAdj(r + 1, c, grid);\n                    }\n                }\n            }\n\n            // Record resulting bottom row\n            const bottomStr = grid[rows - 1].join('');\n            if (!map[bottomStr]) {\n                map[bottomStr] = topRowIndices;\n            }\n        }\n        solverCache[key] = map;\n    }\n\n    const currentBottomStr = lastRow.join('');\n    const result = solverCache[key][currentBottomStr] || null;\n    return result;\n}\n\nexport function getNextMove(\n    grid: number[][]\n): { row: number; col: number }[] | null {\n    const rows = grid.length;\n    const cols = grid[0].length;\n\n    // Phase 1: Chase lights down\n    for (let r = 0; r < rows - 1; r++) {\n        for (let c = 0; c < cols; c++) {\n            if (grid[r][c] === 1) {\n                // Return as single-item array\n                return [{ row: r + 1, col: c }];\n            }\n        }\n    }\n\n    // Phase 2: Check last row\n    const lastRow = grid[rows - 1];\n    if (lastRow.some(cell => cell === 1)) {\n        // Phase 3: Solve last row\n        const solution = solveLastRow(rows, cols, lastRow);\n        if (solution && solution.length > 0) {\n            return solution.map(col => ({ row: 0, col }));\n        }\n    }\n\n    return null;\n}\n\ninterface BoardState {\n    grid: number[][];\n    score: number;\n    rows: number;\n    cols: number;\n    auto: boolean;\n}\n\ninterface BoardAction {\n    type: string;\n    row?: number;\n    col?: number;\n    moves?: { row: number; col: number }[];\n    newRows?: number;\n    newCols?: number;\n}\n\nexport function handleBoard(\n    state: BoardState,\n    action: BoardAction\n): BoardState {\n    const { type, row, col, moves } = action;\n\n    let { grid, score, rows, cols, auto } = state;\n\n    switch (type) {\n        case 'auto':\n            auto = !auto;\n            break;\n        case 'adjacent':\n            if (row !== undefined && col !== undefined) {\n                grid = flipAdj(row, col, grid);\n                // Check win condition...\n                const flat = grid.flatMap(r => r);\n                const done = !flat.includes(1) || !flat.includes(0);\n                if (done) {\n                    grid = randomize(rows, cols);\n                    score += 1;\n                }\n            }\n            break;\n        case 'multi_adjacent':\n            if (moves) {\n                moves.forEach(m => {\n                    grid = flipAdj(m.row, m.col, grid);\n                });\n                // Check win condition...\n                const flat = grid.flatMap(r => r);\n                const done = !flat.includes(1) || !flat.includes(0);\n                if (done) {\n                    grid = randomize(rows, cols);\n                    score += 1;\n                }\n            }\n            break;\n        case 'random':\n            grid = randomize(rows, cols);\n            auto = false;\n            break;\n        case 'randomize':\n            grid = randomize(rows, cols);\n            auto = false;\n            break;\n        case 'resize':\n            const { newRows, newCols } = action;\n            if (newRows !== undefined && newCols !== undefined) {\n                rows = newRows;\n                cols = newCols;\n                grid = randomize(rows, cols);\n                auto = false;\n            }\n            break;\n        case 'reset':\n            grid = getGrid(rows, cols);\n            score = 0;\n            auto = false;\n            break;\n        default:\n            break;\n    }\n\n    return { grid, score, rows, cols, auto };\n}\n","function getMatrix(cols: number): number[] {\n    const first = 7 << (cols - 2);\n    const matrix = [first];\n\n    for (let k = 1; k < cols; k++) {\n        const prev = matrix[k - 1];\n        const next = prev >> 1;\n        matrix.push(next);\n    }\n\n    matrix[0] -= 2 ** cols;\n    return matrix;\n}\n\nfunction countBits(num: number): number {\n    let count = 0;\n\n    while (num) {\n        num &= num - 1;\n        count++;\n    }\n\n    return count;\n}\n\nfunction multiplySym(matrixA: number[], matrixB: number[]): number[] {\n    const size = matrixA.length;\n    const output: number[] = [];\n\n    for (let r = 0; r < size; r++) {\n        const rowA = matrixA[r];\n        let outputRow = 0;\n\n        for (let c = 0; c < size; c++) {\n            const colB = matrixB[c];\n            const value = rowA & colB;\n            const count = countBits(value);\n\n            outputRow <<= 1;\n            outputRow += count & 1;\n        }\n\n        output.push(outputRow);\n    }\n\n    return output;\n}\n\nfunction getIdentity(size: number): number[] {\n    const output = Array(size).fill(1);\n\n    for (let r = 0; r < size; r++) output[r] <<= size - r - 1;\n\n    return output;\n}\n\nfunction symmetricPow(matrix: number[], power: number): number[] {\n    const size = matrix.length;\n    let output = getIdentity(size);\n\n    for (let k = 0; k < power; k++) output = multiplySym(output, matrix);\n\n    return output;\n}\n\nfunction addSym(matrixA: number[], matrixB: number[]): number[] {\n    const size = matrixA.length;\n    const output: number[] = [];\n\n    for (let r = 0; r < size; r++) {\n        const rowA = matrixA[r];\n        const rowB = matrixB[r];\n        const outputRow = rowA ^ rowB;\n        output.push(outputRow);\n    }\n\n    return output;\n}\n\nfunction getPolynomial(index: number): number {\n    const output = [0, 1];\n\n    for (let k = 1; k < index; k++) {\n        const curr = output[k];\n        const prev = output[k - 1];\n        const double = curr << 1;\n\n        output.push(double ^ prev);\n    }\n\n    return output[index];\n}\n\nfunction evalPolynomial(matrix: number[], poly: number): number[] {\n    const size = matrix.length;\n    let output = Array(size).fill(0);\n    let degree = 0;\n\n    while (poly) {\n        if (poly & 1) {\n            const power = symmetricPow(matrix, degree);\n\n            output = addSym(output, power);\n        }\n\n        poly >>= 1;\n        degree++;\n    }\n\n    return output;\n}\n\nfunction sortMatrices(matrix: number[], identity: number[]): [number[], number[]] {\n    const size = matrix.length;\n    const sorted = [...Array(size).keys()].sort(\n        (a, b) => matrix[b] - matrix[a]\n    );\n\n    const original = sorted.map(row => matrix[row]);\n    const inverted = sorted.map(row => identity[row]);\n\n    return [original, inverted];\n}\n\nfunction invertMatrix(matrix: number[]): number[] {\n    const size = matrix.length;\n    const identity = getIdentity(size);\n\n    let original = matrix;\n    let inverted = identity;\n\n    for (let c = 0; c < size; c++) {\n        const pow = 1 << (size - c - 1);\n\n        [original, inverted] = sortMatrices(original, inverted);\n\n        for (let r = 0; r < size; r++) {\n            const alt = original[r];\n\n            if (r === c) continue;\n\n            if (alt & pow) {\n                original[r] ^= original[c];\n                inverted[r] ^= inverted[c];\n            }\n        }\n    }\n\n    return inverted;\n}\n\n/*\n    https://math.stackexchange.com/questions/2237467\n    https://en.wikipedia.org/wiki/Fibonacci_polynomials\n    https://graphics.stanford.edu/~seander/bithacks.html#:~:text=Brian%20Kernighan\n*/\nexport function getProduct(input: number[], rows: number, cols: number): number[] {\n    const matrix = getMatrix(cols);\n    const weights = getPolynomial(rows + 1);\n    const product = evalPolynomial(matrix, weights);\n    const inverse = invertMatrix(product);\n\n    const binary = parseInt(input.join(''), 2);\n\n    const getParity = (row: number): number => {\n        const value = row & binary;\n        const count = countBits(value);\n        return count & 1;\n    };\n\n    return inverse.map(getParity);\n}\n\n","import { getGrid, flipAdj } from './boardHandlers';\nimport { getProduct } from './matrices';\n\nfunction chaseLights(states: number[][][], dims: number): number[][][] {\n    const newStates = [...states];\n    let prev = states.at(-1);\n\n    if (!prev) return newStates;\n\n    for (let r = 1; r < dims; r++) {\n        for (let c = 0; c < dims; c++) {\n            if (!prev[r - 1][c]) continue;\n\n            const next = flipAdj(r, c, prev);\n\n            newStates.push(next);\n            prev = next;\n        }\n    }\n\n    return newStates;\n}\n\nfunction fillRow(row: number[], dims: number): {\n    input: number[][];\n    output: number[][];\n} {\n    const blank = Array(dims).fill(0);\n\n    const inputStates: number[][] = [blank];\n    const outputStates: number[][] = [blank];\n    const last = [...blank];\n\n    for (let c = 0; c < dims; c++) {\n        if (!row[c]) continue;\n\n        last[c] = 1;\n\n        const input = [...last];\n        const output = getProduct(input, dims, dims);\n\n        inputStates.push(input);\n        outputStates.push(output);\n    }\n\n    return {\n        input: inputStates,\n        output: outputStates,\n    };\n}\n\nfunction extendBack(states: number[][], size: number): number[][] {\n    const back = states.at(-1);\n    if (!back) return states;\n    \n    const extend = [...states];\n    \n    while (extend.length < size) extend.push([...back]);\n    \n    return extend;\n}\n\nfunction extendFront(states: number[][], size: number): number[][] {\n    const extend = [...states];\n    const front = states[0];\n    \n    while (extend.length < size) extend.unshift([...front]);\n    \n    return extend;\n}\n\nexport function getStates(grid: number[], dims: number): { boardStates: number[][][]; inputStates: number[][]; outputStates: number[][]; } {\n    let board = getGrid(dims, dims);\n    \n    for (const index of grid) {\n        const row = Math.floor(index / dims);\n        const col = index % dims;\n        \n        board = flipAdj(row, col, board);\n    }\n    \n    let states = chaseLights([board], dims);\n    const last = states.at(-1);\n    if (!last) return { boardStates: [], inputStates: [], outputStates: [] };\n    \n    const row = last.at(-1);\n    if (!row) return { boardStates: [], inputStates: [], outputStates: [] };\n    \n    let { input, output } = fillRow(row, dims);\n    \n    const before = states.length + input.length - 1;\n    \n    const top = output.at(-1);\n    if (!top) return { boardStates: [], inputStates: [], outputStates: [] };\n    \n    let state = [...last];\n    \n    for (let i = 0; i < before - states.length; i++) {\n        states.push([...last]);\n    }\n    for (let i = 0; i < before - input.length; i++) {\n        input.unshift([...input[0]]);\n    }\n    for (let i = 0; i < before - output.length; i++) {\n        output.unshift([...output[0]]);\n    }\n    \n    for (let k = 0; k < dims; k++) {\n        if (top[k]) {\n            state = flipAdj(0, k, state);\n            states.push([...state]);\n        }\n    }\n    \n    const boardStates = chaseLights(states, dims);\n    const after = boardStates.length;\n    \n    const inputStates = extendBack(input, after);\n    const outputStates = extendBack(output, after);\n    \n    return {\n        boardStates,\n        inputStates,\n        outputStates,\n    };\n}\n\nexport function handleChase(state: unknown, action: unknown): unknown {\n    const { type, dims, grid } = action as { type: string; dims: number; grid: number[] };\n\n    if (type === 'chase') {\n        return getStates(grid, dims);\n    }\n\n    return state;\n}\n\nexport function getCalculator(rows: number, cols: number, dims: number) {\n    return (row: number[]): { boardStates: number[][][]; inputStates: number[][]; outputStates: number[][]; } => {\n        const { input, output } = fillRow(row, dims);\n\n        const inputStates = extendBack(input, rows);\n        const outputStates = extendBack(output, rows);\n\n        const states = getStates(outputStates.flat(), dims);\n\n        return states;\n    };\n}\n\n","import React from 'react';\nimport { Typography, Grid } from '../../components/mui';\n\nimport { getStates } from './chaseHandlers';\nimport { CustomGrid } from '../../helpers';\nimport { useMobile } from '../../hooks';\nimport { TYPOGRAPHY } from '../../config/theme';\n\ninterface Frame {\n    backgroundColor: string;\n}\n\ninterface GetStatesResult {\n    [key: number]: unknown;\n}\n\ninterface Palette {\n    primary: string;\n    secondary: string;\n}\n\nfunction getFrames(states: unknown[], palette: Palette): Record<string, Frame> {\n    const newStates = [-1, ...states, -1];\n    const length = states.length;\n    const frames: Record<string, Frame> = {};\n\n    for (let k = 0; k < length + 1; k++) {\n        const state = newStates[k];\n        const next = newStates[k + 1];\n\n        const value = (state as number) + 1 ? state : next;\n        const color = value ? palette.primary : palette.secondary;\n\n        const percent = (100 * k) / length;\n        const floor = Math.floor(percent);\n\n        frames[`${floor}%`] = {\n            backgroundColor: color,\n        };\n    }\n\n    return frames;\n}\n\nfunction propHandler(\n    states: unknown[],\n    getter: (states: unknown[], row: number, col: number) => unknown[],\n    palette: Palette,\n    id: string\n) {\n    return (row: number, col: number): Record<string, unknown> => {\n        const state = getter(states, row, col);\n        const frames = getFrames(state as unknown[], palette);\n        const length = states.length;\n\n        const name = `${id}-${row}-${col}`;\n        const index = `@keyframes ${name}`;\n\n        const animation = `\n            ${name}\n            ${length * 2}s\n            steps(1, start)\n            infinite\n        `;\n\n        const style: Record<string, unknown> = {\n            [index]: frames,\n            animation,\n        };\n\n        return { sx: style };\n    };\n}\n\ninterface ExampleProps {\n    states?: unknown[];\n    getter?: (states: unknown[], row: number, col: number) => unknown[];\n    palette: Palette;\n    id?: string;\n    rows?: number;\n    cols?: number;\n    size: number;\n    dims?: number;\n    start?: unknown[];\n}\n\nfunction getRange(dims: number): number[] {\n    const keys = Array(dims).keys();\n    return [...keys];\n}\n\nfunction gridTiles(states: number[][][], dims: number): number[][][] {\n    const length = states.length;\n    const dRange = getRange(dims);\n    const lRange = getRange(length);\n    \n    return dRange.map(r => dRange.map(c => lRange.map(k => states[k][r][c])));\n}\n\nfunction rowTiles(states: number[][], dims: number): number[][] {\n    const length = states.length;\n    const dRange = getRange(dims);\n    const lRange = getRange(length);\n    \n    return dRange.map(r => lRange.map(k => states[k][r]));\n}\n\nfunction Bifold({ children }: { children: React.ReactNode }) {\n    return <Grid size={6}>{children}</Grid>;\n}\n\nfunction Title({ children }: { children: React.ReactNode }) {\n    return (\n        <Bifold>\n            <Typography\n                variant=\"h6\"\n                sx={{\n                    textAlign: 'center',\n                    fontWeight: 'semibold',\n                    fontSize: TYPOGRAPHY.fontSize.body,\n                    lineHeight: '1.2',\n                    letterSpacing: '-0.025em',\n                }}\n            >\n                {children}\n            </Typography>\n        </Bifold>\n    );\n}\n\nexport default function Example({\n    start = [],\n    dims = 3,\n    size,\n    palette,\n}: ExampleProps): React.ReactElement {\n    const mobile = useMobile('lg');\n    const states = getStates(start as number[], dims);\n    const width = mobile ? size / 2 : size;\n    \n    const { boardStates, inputStates, outputStates } = states;\n    \n    const boardTiles = gridTiles(boardStates, dims);\n    const inputTiles = rowTiles(inputStates, dims);\n    const outputTiles = rowTiles(outputStates, dims);\n    \n    const getGrid = (s: unknown[], r: number, c: number) => {\n        const states = s as number[][][];\n        return states.map(state => state[r][c]);\n    };\n    const getRow = (s: unknown[], r: number, c: number) => {\n        const states = s as number[][];\n        return states.map(state => state[c]);\n    };\n    \n    const getBoard = propHandler(boardTiles as unknown[], getGrid, palette, 'board');\n    const getInput = propHandler(inputTiles as unknown[], getRow, palette, 'input');\n    const getOutput = propHandler(outputTiles as unknown[], getRow, palette, 'output');\n    \n    return (\n        <Grid container size={12} spacing={4}>\n            <Grid container size={12}>\n                <Bifold>\n                    <CustomGrid\n                        size={width}\n                        rows={dims}\n                        cols={dims}\n                        cellProps={getBoard}\n                    />\n                </Bifold>\n                <Grid container size={6}>\n                    <CustomGrid\n                        rows={1}\n                        cols={dims}\n                        size={width}\n                        cellProps={getInput}\n                    />\n                    <CustomGrid\n                        rows={1}\n                        cols={dims}\n                        size={width}\n                        cellProps={getOutput}\n                    />\n                </Grid>\n            </Grid>\n            <Grid container size={12}>\n                <Title>Animation Demo</Title>\n                <Title>Pattern Input</Title>\n            </Grid>\n        </Grid>\n    );\n}\n\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Backdrop, Typography, Box, Grid } from '../../components/mui';\nimport {\n    CircleRounded,\n    KeyboardArrowDown,\n    Calculate,\n    Replay,\n} from '../../components/icons';\nimport {\n    SPACING,\n    COLORS,\n    TYPOGRAPHY,\n    COMPONENT_VARIANTS,\n} from '../../config/theme';\nimport { GlassCard, CustomGrid } from '../../helpers';\nimport { getProduct } from './matrices';\nimport { useGetters } from '../Board';\nimport { useMobile } from '../../hooks';\nimport Example from './Example';\n\n// Type assertion for GlassCard component\nconst TypedGlassCard = GlassCard as React.ComponentType<{\n    children?: React.ReactNode;\n    sx?: Record<string, unknown>;\n}>;\n\ninterface Getters {\n    getColor: (row: number, col: number) => { front: string; back: string };\n    getBorder: (row: number, col: number) => Record<string, unknown>;\n}\n\ninterface Palette {\n    primary: string;\n    secondary: string;\n}\n\ninterface InfoProps {\n    rows: number;\n    cols: number;\n    size: number;\n    open: boolean;\n    palette: Palette;\n    toggleOpen: () => void;\n}\n\nfunction getInput(getters: Getters, toggleTile: (col: number) => (event: React.MouseEvent) => void) {\n    const { getColor, getBorder } = getters;\n\n    return (r: number, c: number) => {\n        const { front, back } = getColor(r, c);\n\n        return {\n            backgroundColor: front,\n            style: getBorder(r, c),\n            onClick: toggleTile(c),\n            sx: {\n                '&:hover': {\n                    cursor: 'pointer',\n                    color: back,\n                },\n            },\n            color: front,\n            children: <CircleRounded />,\n        };\n    };\n}\n\nfunction getOutput({ getColor, getBorder }: Getters) {\n    return (r: number, c: number) => {\n        const { front } = getColor(r, c);\n\n        return {\n            backgroundColor: front,\n            style: getBorder(r, c),\n        };\n    };\n}\n\nfunction useHandler(row: number[], size: number, palette: Palette) {\n    const getTile = useCallback(\n        (r: number, c: number) => {\n            if (r !== 0 || c < 0 || c >= size) return -1;\n\n            return row[c];\n        },\n        [row, size]\n    );\n\n    return useGetters(getTile, palette);\n}\n\nexport default function Info(props: InfoProps): React.ReactElement {\n    const { rows, cols, size, open, palette, toggleOpen } = props;\n    const isMobile = useMobile('md');\n    const isLargeScreen = useMobile('lg');\n\n    const [row, setRow] = useState<number[]>(Array(cols).fill(0));\n\n    useEffect(() => {\n        const newRow = Array(cols).fill(0);\n\n        setRow(newRow);\n    }, [cols, palette]);\n\n    const res = getProduct(row, rows, cols);\n\n    const toggleTile = (col: number) => (event: React.MouseEvent) => {\n        event.stopPropagation();\n\n        const newRow = [...row];\n        newRow[col] ^= 1;\n        setRow(newRow);\n    };\n\n    const inputGetters = useHandler(row, cols, palette);\n    const outputGetters = useHandler(res, cols, palette);\n    const inputProps = getInput(inputGetters, toggleTile);\n    const outputProps = getOutput(outputGetters);\n\n    return (\n        <Backdrop\n            open={open}\n            onClick={toggleOpen}\n            sx={{\n                ...COMPONENT_VARIANTS.card,\n                backgroundColor: 'hsla(0, 0%, 3%, 0.85)',\n                transition: 'all 200ms cubic-bezier(0.4, 0, 0.2, 1)',\n                border: 'none',\n            }}\n        >\n            <Box\n                sx={{\n                    maxWidth: '80vw',\n                    height: 'fit-content',\n                    maxHeight: '90vh',\n                    overflow: 'auto',\n                    mx: 'auto',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    transition: 'all 200ms cubic-bezier(0.4, 0, 0.2, 1)',\n                    padding: 0,\n                    backgroundColor: 'hsl(0, 0%, 5%)',\n                    borderRadius: SPACING.borderRadius.lg,\n                    border: `1px solid ${COLORS.border.subtle}`,\n                }}\n            >\n                <Box\n                    sx={{\n                        pt: '1rem',\n                        pb: '1rem',\n                        px: '1.25rem',\n                        height: 'fit-content',\n                        display: 'flex',\n                        flexDirection: 'column',\n                        minHeight: 0,\n                    }}\n                >\n                    <Grid\n                        container\n                        spacing={isMobile ? 1.5 : 2}\n                        sx={{ flex: 1, minHeight: 0 }}\n                    >\n                        {/* Top section: Instructions on left, animations on right */}\n                        <Grid\n                            container\n                            size={12}\n                            spacing={2}\n                            sx={{\n                                flex: 1,\n                                minHeight: 0,\n                                maxWidth: {\n                                    xs: '100%',\n                                    lg: SPACING.maxWidth.lg,\n                                },\n                                mx: 'auto',\n                            }}\n                        >\n                            {/* Left half: Algorithm instructions */}\n                            <Grid\n                                size={{ xs: 12, lg: isMobile ? 12 : 6 }}\n                                sx={{\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    height: isLargeScreen ? '100%' : 'auto',\n                                }}\n                            >\n                                <Box sx={{ flex: 1, overflow: 'auto' }}>\n                                    <TypedGlassCard\n                                        sx={{\n                                            height: !isLargeScreen\n                                                ? '100%'\n                                                : 'auto',\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            transition:\n                                                'all 300ms cubic-bezier(0.4, 0, 0.2, 1)',\n                                        }}\n                                    >\n                                        <Typography\n                                            variant=\"h5\"\n                                            gutterBottom\n                                            sx={{\n                                                color: COLORS.text.primary,\n                                                fontWeight:\n                                                    TYPOGRAPHY.fontWeight\n                                                        .semibold,\n                                                mb: 2,\n                                                textAlign: isMobile\n                                                    ? 'center'\n                                                    : 'left',\n                                                fontSize:\n                                                    TYPOGRAPHY.fontSize.h2,\n                                                lineHeight: 1.4,\n                                                letterSpacing: '0',\n                                            }}\n                                        >\n                                            Chasing Lights Algorithm\n                                        </Typography>\n                                        {/* Step 1 */}\n                                        <Box sx={{ mb: 2 }}>\n                                            <Typography\n                                                variant=\"subtitle1\"\n                                                sx={{\n                                                    color: COLORS.text.primary,\n                                                    fontWeight:\n                                                        TYPOGRAPHY.fontWeight\n                                                            .semibold,\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    mb: 1,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                    letterSpacing: '0',\n                                                }}\n                                            >\n                                                <KeyboardArrowDown\n                                                    sx={{\n                                                        mr: 1.5,\n                                                        color: COLORS.primary\n                                                            .main,\n                                                        fontSize: '1.5rem',\n                                                    }}\n                                                />\n                                                Chase to Bottom\n                                            </Typography>\n                                            <Typography\n                                                variant=\"body1\"\n                                                sx={{\n                                                    color: COLORS.text\n                                                        .secondary,\n                                                    lineHeight: 1.5,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                    ml: 4,\n                                                }}\n                                            >\n                                                Turn off rows from top to bottom\n                                                by clicking lights in each row\n                                                to eliminate all lights above\n                                                the bottom row.\n                                            </Typography>\n                                        </Box>\n\n                                        {/* Step 2 */}\n                                        <Box sx={{ mb: 2 }}>\n                                            <Typography\n                                                variant=\"subtitle1\"\n                                                sx={{\n                                                    color: COLORS.text.primary,\n                                                    fontWeight:\n                                                        TYPOGRAPHY.fontWeight\n                                                            .semibold,\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    mb: 1,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                    letterSpacing: '0',\n                                                }}\n                                            >\n                                                <Calculate\n                                                    sx={{\n                                                        mr: 1.5,\n                                                        color: COLORS.data\n                                                            .amber,\n                                                        fontSize: '1.5rem',\n                                                    }}\n                                                />\n                                                Use the Calculator\n                                            </Typography>\n                                            <Typography\n                                                variant=\"body1\"\n                                                sx={{\n                                                    color: COLORS.text\n                                                        .secondary,\n                                                    lineHeight: 1.5,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                    ml: 4,\n                                                }}\n                                            >\n                                                Enter the remaining lights\n                                                pattern in the bottom row using\n                                                the interactive calculator\n                                                below.\n                                            </Typography>\n                                        </Box>\n\n                                        {/* Step 3 */}\n                                        <Box sx={{ mb: 1 }}>\n                                            <Typography\n                                                variant=\"subtitle1\"\n                                                sx={{\n                                                    color: COLORS.text.primary,\n                                                    fontWeight:\n                                                        TYPOGRAPHY.fontWeight\n                                                            .semibold,\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    mb: 1,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                    letterSpacing: '0',\n                                                }}\n                                            >\n                                                <Replay\n                                                    sx={{\n                                                        mr: 1.5,\n                                                        color: COLORS.data\n                                                            .green,\n                                                        fontSize: '1.5rem',\n                                                    }}\n                                                />\n                                                Chase Again\n                                            </Typography>\n                                            <Typography\n                                                variant=\"body1\"\n                                                sx={{\n                                                    color: COLORS.text\n                                                        .secondary,\n                                                    lineHeight: 1.5,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                    ml: 4,\n                                                }}\n                                            >\n                                                Apply the calculated solution\n                                                pattern to the top row, then\n                                                chase downward to solve the\n                                                entire puzzle.\n                                            </Typography>\n                                        </Box>\n                                    </TypedGlassCard>\n                                </Box>\n                            </Grid>\n\n                            {/* Right half: Animations */}\n                            {!isLargeScreen && (\n                                <Grid\n                                    size={{ xs: 12, lg: 6 }}\n                                    sx={{\n                                        ...COMPONENT_VARIANTS.flexCenter,\n                                        }}\n                                    >\n                                        <TypedGlassCard\n                                            sx={{\n                                                width: '100%',\n                                                height: '100%',\n                                                ...COMPONENT_VARIANTS.flexCenter,\n                                                transition:\n                                                    'all 300ms cubic-bezier(0.4, 0, 0.2, 1)',\n                                            }}\n                                        >\n                                        <Example\n                                            dims={3}\n                                            size={size * 0.6}\n                                            start={[1, 3, 8]}\n                                            palette={palette}\n                                        />\n                                    </TypedGlassCard>\n                                </Grid>\n                            )}\n                        </Grid>\n\n                        {/* Bottom section: Lights Out Calculator (full width) */}\n                        <Grid container size={12} spacing={2}>\n                            <Grid size={12}>\n                                <TypedGlassCard\n                                    sx={{\n                                        textAlign: 'center',\n                                        paddingBottom: '2rem',\n                                    }}\n                                >\n                                    <Typography\n                                        variant=\"h6\"\n                                        sx={{\n                                            color: COLORS.text.primary,\n                                            fontWeight:\n                                                TYPOGRAPHY.fontWeight.semibold,\n                                            fontSize:\n                                                TYPOGRAPHY.fontSize.subheading,\n                                            lineHeight: 1.4,\n                                            letterSpacing: '0',\n                                            mb: 2,\n                                        }}\n                                    >\n                                        Interactive Calculator\n                                    </Typography>\n\n                                    {/* Input Pattern */}\n                                    <Box sx={{ mb: 2 }}>\n                                        <CustomGrid\n                                            space={0}\n                                            rows={1}\n                                            cols={cols}\n                                            size={size * 0.7}\n                                            cellProps={inputProps}\n                                        />\n                                    </Box>\n\n                                    {/* Solution Pattern */}\n                                    <Box>\n                                        <CustomGrid\n                                            space={0}\n                                            rows={1}\n                                            cols={cols}\n                                            size={size * 0.7}\n                                            cellProps={outputProps}\n                                        />\n                                    </Box>\n                                </TypedGlassCard>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Box>\n            </Box>\n        </Backdrop>\n    );\n}\n\n","import React, { useMemo, useEffect, useReducer } from 'react';\nimport { Grid } from '../../components/mui';\nimport {\n    InfoRounded,\n    CircleRounded,\n    PlayArrowRounded,\n    PauseRounded,\n} from '../../components/icons';\n\nimport { Controls, TooltipButton, RandomButton } from '../../helpers';\nimport { Board, useHandler, usePalette } from '../Board';\nimport { PAGE_TITLES, GAME_CONSTANTS } from '../../config/constants';\nimport { COLORS } from '../../config/theme';\nimport { getGrid, handleBoard, getNextMove } from './boardHandlers';\nimport { useWindow, useMobile } from '../../hooks';\nimport { convertPixels } from '../../calculate';\nimport Info from './Info';\n\ninterface Getters {\n    getColor: (row: number, col: number) => { front: string; back: string };\n    getBorder: (row: number, col: number) => React.CSSProperties;\n    getFiller: (row: number, col: number) => string;\n}\n\ninterface FrontProps {\n    onClick: () => void;\n    children: React.ReactElement;\n    backgroundColor: string;\n    color: string;\n    style: React.CSSProperties;\n    sx: {\n        '&:hover': {\n            cursor: string;\n            color: string;\n        };\n    };\n}\n\nfunction getFrontProps(getters: Getters, dispatch: (action: any) => void) {\n    const { getColor, getBorder } = getters;\n\n    const flipAdj = (row: number, col: number) => {\n        dispatch({\n            type: 'adjacent',\n            row,\n            col,\n        });\n    };\n\n    return (row: number, col: number): FrontProps => {\n        const style = getBorder(row, col);\n        const { front, back } = getColor(row, col);\n\n        return {\n            onClick: () => flipAdj(row, col),\n            children: <CircleRounded />,\n            backgroundColor: front,\n            color: front,\n            style,\n            sx: {\n                '&:hover': {\n                    cursor: 'pointer',\n                    color: back,\n                },\n            },\n        };\n    };\n}\n\nexport default function LightsOut(): React.ReactElement {\n    const { height, width } = useWindow();\n    const mobile = useMobile('sm');\n    const size = mobile\n        ? GAME_CONSTANTS.gridSizes.mobile\n        : GAME_CONSTANTS.gridSizes.desktop;\n\n    let { rows, cols } = useMemo(\n        () => convertPixels(size, height, width),\n        [size, height, width]\n    );\n\n    rows -= 1;\n    cols -= 1;\n\n    if (mobile) rows -= 2;\n\n    const initial = {\n        grid: getGrid(rows, cols),\n        score: 0,\n        rows,\n        cols,\n        auto: false,\n    };\n\n    const [state, dispatch] = useReducer(handleBoard, initial);\n\n    const [open, toggleOpen] = useReducer((open: boolean) => !open, false);\n\n    const palette = usePalette(state.score);\n\n    useEffect(() => {\n        document.title = PAGE_TITLES.lightsOut;\n    }, []);\n\n    useEffect(() => {\n        dispatch({\n            type: 'resize',\n            newRows: rows,\n            newCols: cols,\n        });\n    }, [rows, cols]);\n\n    const [moveQueue, setMoveQueue] = React.useState<\n        { row: number; col: number }[]\n    >([]);\n\n    useEffect(() => {\n        if (!state.auto) {\n            if (moveQueue.length > 0) setMoveQueue([]);\n            return;\n        }\n\n        const timeout = setTimeout(() => {\n            if (moveQueue.length > 0) {\n                const [nextMove, ...remaining] = moveQueue;\n                dispatch({\n                    type: 'adjacent',\n                    row: nextMove.row,\n                    col: nextMove.col,\n                });\n                setMoveQueue(remaining);\n            } else {\n                const moves = getNextMove(state.grid);\n                if (moves && moves.length > 0) {\n                    if (moves.length === 1) {\n                        dispatch({\n                            type: 'adjacent',\n                            row: moves[0].row,\n                            col: moves[0].col,\n                        });\n                    } else {\n                        setMoveQueue(moves);\n                    }\n                } else {\n                    dispatch({ type: 'auto' });\n                }\n            }\n        }, 300);\n        return () => clearTimeout(timeout);\n    }, [state.auto, state.grid, moveQueue]);\n\n    const getters = useHandler(state, palette);\n\n    const frontProps = getFrontProps(getters, dispatch);\n\n    const backProps = (row: number, col: number) => {\n        return {\n            backgroundColor: getters.getFiller(row, col),\n        };\n    };\n\n    return (\n        <Grid\n            container\n            minHeight=\"100vh\"\n            sx={{\n                background: COLORS.surface.background,\n                position: 'relative',\n            }}\n        >\n            <Board\n                size={size}\n                rows={rows}\n                cols={cols}\n                frontProps={frontProps as any}\n                backProps={backProps}\n            />\n            <Controls\n                handler={() => () => undefined} // No directional controls for Lights Out\n                size=\"inherit\"\n            >\n                <TooltipButton\n                    title={state.auto ? 'Pause' : 'Auto Play'}\n                    Icon={state.auto ? PauseRounded : PlayArrowRounded}\n                    onClick={() => dispatch({ type: 'auto' })}\n                />\n                <RandomButton\n                    title=\"New Game\"\n                    onClick={() => dispatch({ type: 'random' })}\n                    size=\"inherit\"\n                />\n                <TooltipButton\n                    title=\"Info\"\n                    Icon={InfoRounded}\n                    onClick={toggleOpen}\n                />\n            </Controls>\n            {(Info as any)({\n                rows,\n                cols,\n                size,\n                open,\n                palette,\n                score: state.score,\n                toggleOpen,\n            })}\n        </Grid>\n    );\n}\n","import React from 'react';\nimport {\n    Box,\n    Typography,\n    IconButton,\n    Button,\n    Grid,\n    ToggleButton,\n    ToggleButtonGroup,\n} from './mui';\nimport { GitHub, HomeRounded as Home, Refresh, SettingsRounded } from './icons';\nimport { CHART_DIMENSIONS, CHART_FORMATTING } from '../config/constants';\nimport {\n    COLORS,\n    SPACING,\n    TYPOGRAPHY,\n    COMPONENT_VARIANTS,\n} from '../config/theme';\nimport { GlassCard } from '../helpers';\nimport {\n    LineChart,\n    Line,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip as RechartsTooltip,\n    ResponsiveContainer,\n} from 'recharts';\n\ninterface ChartConfig {\n    type: string;\n    lines: Array<{\n        dataKey: string;\n        name: string;\n        color: string;\n        yAxisId?: string;\n    }>;\n    xAxisKey: string;\n    yAxisFormatter: (value: number) => string;\n    yAxisDomain: string[];\n    dualYAxis?: boolean;\n    rightYAxisFormatter?: (value: number) => string;\n    rightYAxisDomain?: string[];\n    tooltipLabelFormatter: (value: number) => string;\n    tooltipFormatter: (value: number, name: string) => [string, string];\n}\n\ninterface ViewType {\n    key: string;\n    label: string;\n    icon: React.ElementType;\n    chartTitle: string;\n    dataProcessor: (data: any[]) => any[];\n    chartConfig: ChartConfig;\n}\n\ninterface ControlOption {\n    value: number;\n    label: string;\n}\n\ninterface Control {\n    label: string;\n    icon?: React.ElementType;\n    color?: string;\n    hoverColor?: string;\n    value: number;\n    onChange: (value: number) => void;\n    options: ControlOption[];\n}\n\ninterface ResearchDemoProps {\n    title: string;\n    subtitle: string;\n    githubUrl: string;\n    chartData?: any[];\n    chartConfig?: ChartConfig;\n    viewTypes?: ViewType[];\n    currentViewType?: string;\n    onViewTypeChange?: (value: string) => void;\n    controls?: Control[];\n    loading?: boolean;\n    loadingMessage?: string;\n    onReset?: () => void;\n    resetLabel?: string;\n    chartTitle?: string | null;\n}\n\nconst ResearchDemo: React.FC<ResearchDemoProps> = ({\n    title,\n    subtitle,\n    githubUrl,\n    chartData = [],\n    chartConfig = {\n        type: 'line',\n        lines: [],\n        xAxisKey: 'x',\n        yAxisFormatter: (value: number) => value.toFixed(2),\n        yAxisDomain: ['dataMin - 0.05', 'dataMax + 0.05'],\n        dualYAxis: false,\n        rightYAxisFormatter: (value: number) => value.toFixed(2),\n        rightYAxisDomain: ['dataMin - 0.05', 'dataMax + 0.05'],\n        tooltipLabelFormatter: (value: number) => `Round ${value}`,\n        tooltipFormatter: (value: number, name: string) => [\n            value.toFixed(2),\n            name,\n        ],\n    },\n    viewTypes = [],\n    currentViewType = 'default',\n    onViewTypeChange = () => undefined,\n    controls = [],\n    loading = false,\n    loadingMessage = 'Loading data...',\n    onReset = null,\n    resetLabel = 'Reset',\n    chartTitle = null,\n}) => {\n    const getCurrentChartData = () => {\n        if (!chartData || chartData.length === 0) return [];\n\n        if (!viewTypes.length) return chartData;\n\n        const currentView = viewTypes.find(\n            view => view.key === currentViewType\n        );\n        if (!currentView || !currentView.dataProcessor) return chartData;\n\n        return currentView.dataProcessor(chartData);\n    };\n\n    const currentData = getCurrentChartData();\n    const currentChartConfig =\n        viewTypes.find(view => view.key === currentViewType)?.chartConfig ||\n        chartConfig;\n\n    return (\n        <Grid\n            container={true}\n            minHeight=\"100vh\"\n            flexDirection=\"column\"\n            sx={{\n                position: 'relative',\n                padding: SPACING.padding.md,\n                paddingBottom: {\n                    xs: SPACING.padding.md,\n                    md: 0,\n                },\n                boxSizing: 'border-box',\n                width: '100%',\n                maxWidth: '100vw',\n                overflowX: 'hidden',\n            }}\n        >\n            <Box\n                sx={{\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    background: COLORS.surface.background,\n                    zIndex: -1,\n                }}\n            />\n\n            <Grid\n                size={12}\n                flex={1}\n                sx={{\n                    ...COMPONENT_VARIANTS.flexCenter,\n                    flexDirection: 'column',\n                    zIndex: 1,\n                    padding: 0,\n                    minHeight: 0,\n                }}\n            >\n                <Box\n                    sx={{\n                        textAlign: 'center',\n                        maxWidth: SPACING.maxWidth.md,\n                        width: '100%',\n                        padding: {\n                            xs: '0 0.5rem',\n                            md: '0 2rem',\n                        },\n                        boxSizing: 'border-box',\n                        overflow: 'hidden',\n                    }}\n                >\n                    <Grid\n                        container={true}\n                        alignItems=\"center\"\n                        justifyContent=\"space-between\"\n                        sx={{ marginBottom: 2 }}\n                    >\n                        <Grid size=\"auto\">\n                            <Typography\n                                variant=\"h1\"\n                                sx={{\n                                    color: COLORS.text.primary,\n                                    fontWeight: TYPOGRAPHY.fontWeight.bold,\n                                    fontSize: TYPOGRAPHY.fontSize.h2,\n                                }}\n                            >\n                                {title}\n                            </Typography>\n                        </Grid>\n                        <Grid size=\"auto\" sx={{ display: 'flex', gap: 1 }}>\n                            <IconButton\n                                href={githubUrl}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <GitHub\n                                    sx={{\n                                        fontSize: {\n                                            xs: TYPOGRAPHY.fontSize.h2,\n                                            md: '2rem',\n                                        },\n                                    }}\n                                />\n                            </IconButton>\n                            <IconButton component=\"a\" href=\"/\">\n                                <Home\n                                    sx={{\n                                        fontSize: {\n                                            xs: TYPOGRAPHY.fontSize.h2,\n                                            md: '2rem',\n                                        },\n                                    }}\n                                />\n                            </IconButton>\n                        </Grid>\n                    </Grid>\n\n                    <Typography\n                        variant=\"h5\"\n                        sx={{\n                            color: COLORS.text.secondary,\n                            marginTop: 2,\n                            marginBottom: 4,\n                            fontWeight: TYPOGRAPHY.fontWeight.normal,\n                            fontSize: TYPOGRAPHY.fontSize.subheading,\n                        }}\n                    >\n                        {subtitle}\n                    </Typography>\n\n                    <GlassCard\n                        sx={{\n                            marginBottom: 3,\n                            width: '100%',\n                            boxSizing: 'border-box',\n                            overflow: 'hidden',\n                        }}\n                    >\n                        <Typography\n                            variant=\"subtitle1\"\n                            sx={{\n                                color: COLORS.text.secondary,\n                                marginBottom: 2,\n                                textAlign: 'center',\n                                fontWeight: TYPOGRAPHY.fontWeight.medium,\n                                fontSize: TYPOGRAPHY.fontSize.subheading,\n                            }}\n                        >\n                            {chartTitle ||\n                                (viewTypes.length\n                                    ? viewTypes.find(\n                                          view => view.key === currentViewType\n                                      )?.chartTitle || 'Data Visualization'\n                                    : 'Data Visualization')}\n                        </Typography>\n                        <Box sx={{ height: CHART_DIMENSIONS.height }}>\n                            {loading ? (\n                                <Box\n                                    sx={{\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        height: '100%',\n                                        color: COLORS.text.secondary,\n                                    }}\n                                >\n                                    <Typography>{loadingMessage}</Typography>\n                                </Box>\n                            ) : (\n                                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                    <LineChart data={currentData}>\n                                        <CartesianGrid\n                                            strokeDasharray={\n                                                CHART_FORMATTING.lines\n                                                    .strokeDashArray\n                                            }\n                                            stroke={COLORS.border.subtle}\n                                        />\n                                        <XAxis\n                                            dataKey={\n                                                currentChartConfig.xAxisKey\n                                            }\n                                            stroke={COLORS.text.secondary}\n                                            tick={{\n                                                fill: COLORS.text.secondary,\n                                            }}\n                                        />\n                                        <YAxis\n                                            yAxisId=\"left\"\n                                            stroke={COLORS.text.secondary}\n                                            tick={{\n                                                fill: COLORS.text.secondary,\n                                            }}\n                                            tickFormatter={\n                                                currentChartConfig.yAxisFormatter\n                                            }\n                                            domain={\n                                                currentChartConfig.yAxisDomain\n                                            }\n                                        />\n                                        {currentChartConfig.dualYAxis && (\n                                            <YAxis\n                                                yAxisId=\"right\"\n                                                orientation=\"right\"\n                                                stroke={COLORS.text.secondary}\n                                                tick={{\n                                                    fill: COLORS.text.secondary,\n                                                }}\n                                                tickFormatter={\n                                                    currentChartConfig.rightYAxisFormatter\n                                                }\n                                                domain={\n                                                    currentChartConfig.rightYAxisDomain\n                                                }\n                                            />\n                                        )}\n                                        <RechartsTooltip\n                                            contentStyle={{\n                                                backgroundColor:\n                                                    'hsla(0, 0%, 5%, 0.95)',\n                                                border: `1px solid ${COLORS.border.subtle}`,\n                                                borderRadius:\n                                                    SPACING.borderRadius.lg,\n                                                color: COLORS.text.primary,\n                                            }}\n                                            labelFormatter={\n                                                currentChartConfig.tooltipLabelFormatter\n                                            }\n                                            formatter={\n                                                currentChartConfig.tooltipFormatter as any\n                                            }\n                                        />\n                                        {currentChartConfig.lines.map(\n                                            (line, index) => (\n                                                <Line\n                                                    key={line.dataKey}\n                                                    yAxisId={\n                                                        line.yAxisId || 'left'\n                                                    }\n                                                    type=\"monotone\"\n                                                    dataKey={line.dataKey}\n                                                    stroke={line.color}\n                                                    strokeWidth={\n                                                        CHART_DIMENSIONS.strokeWidth\n                                                    }\n                                                    name={line.name}\n                                                    dot={{\n                                                        fill: line.color,\n                                                        strokeWidth:\n                                                            CHART_FORMATTING\n                                                                .lines\n                                                                .defaultStrokeWidth,\n                                                        r: CHART_DIMENSIONS.dotRadius,\n                                                    }}\n                                                />\n                                            )\n                                        )}\n                                    </LineChart>\n                                </ResponsiveContainer>\n                            )}\n                        </Box>\n                    </GlassCard>\n\n                    {viewTypes.length > 1 && (\n                        <GlassCard\n                            sx={{\n                                marginBottom: 3,\n                                width: '100%',\n                                boxSizing: 'border-box',\n                                overflow: 'hidden',\n                                paddingBottom: SPACING.padding.md,\n                            }}\n                        >\n                            <Box\n                                sx={{\n                                    display: 'flex',\n                                    justifyContent: 'space-between',\n                                    alignItems: 'center',\n                                    marginBottom: 2,\n                                }}\n                            >\n                                <Box\n                                    sx={{\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        gap: 1,\n                                    }}\n                                >\n                                    <SettingsRounded\n                                        sx={{\n                                            color: COLORS.primary.light,\n                                            fontSize: '1.25rem',\n                                        }}\n                                    />\n                                    <Typography\n                                        variant=\"body1\"\n                                        sx={{\n                                            color: COLORS.primary.light,\n                                            fontWeight:\n                                                TYPOGRAPHY.fontWeight.semibold,\n                                        }}\n                                    >\n                                        Chart Views\n                                    </Typography>\n                                </Box>\n                            </Box>\n\n                            <Box\n                                sx={{\n                                    display: 'grid',\n                                    gridTemplateColumns: {\n                                        xs: 'repeat(2, minmax(0, 1fr))',\n                                        md: `repeat(${Math.min(viewTypes.length, 4)}, 1fr)`,\n                                    },\n                                    gap: 1.5,\n                                    width: '100%',\n                                    margin: 0,\n                                }}\n                            >\n                                {viewTypes.map(viewType => {\n                                    const IconComponent = viewType.icon;\n                                    return (\n                                        <Button\n                                            key={viewType.key}\n                                            variant=\"outlined\"\n                                            size=\"small\"\n                                            startIcon={\n                                                IconComponent ? (\n                                                    <IconComponent />\n                                                ) : null\n                                            }\n                                            onClick={() =>\n                                                onViewTypeChange(viewType.key)\n                                            }\n                                            sx={{\n                                                width: '100%',\n                                                color:\n                                                    currentViewType ===\n                                                    viewType.key\n                                                        ? COLORS.text.primary\n                                                        : COLORS.text.secondary,\n                                                backgroundColor:\n                                                    currentViewType ===\n                                                    viewType.key\n                                                        ? COLORS.primary.main\n                                                        : 'transparent',\n                                                borderColor:\n                                                    COLORS.border.subtle,\n                                                borderWidth: '1px',\n                                                borderStyle: 'solid',\n                                                borderRadius:\n                                                    SPACING.borderRadius.lg,\n                                                minHeight: '36px',\n                                                padding: '0.4rem 0.8rem',\n                                                fontSize: '0.8rem',\n                                                fontWeight:\n                                                    TYPOGRAPHY.fontWeight\n                                                        .medium,\n                                                transition:\n                                                    'transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease',\n                                                '&:hover': {\n                                                    backgroundColor:\n                                                        currentViewType ===\n                                                        viewType.key\n                                                            ? COLORS.primary\n                                                                  .dark\n                                                            : COLORS.interactive\n                                                                  .hover,\n                                                    transform:\n                                                        'translateY(-1px)',\n                                                    boxShadow:\n                                                        '0 4px 8px rgba(0,0,0,0.1)',\n                                                },\n                                            }}\n                                        >\n                                            {viewType.label}\n                                        </Button>\n                                    );\n                                })}\n                            </Box>\n                        </GlassCard>\n                    )}\n\n                    {controls.length > 0 && (\n                        <GlassCard\n                            sx={{\n                                marginBottom: 0,\n                                width: '100%',\n                                boxSizing: 'border-box',\n                                overflow: 'hidden',\n                                paddingBottom: SPACING.padding.md,\n                            }}\n                        >\n                            <Box\n                                sx={{\n                                    display: 'flex',\n                                    justifyContent: 'space-between',\n                                    alignItems: 'center',\n                                    marginBottom: 2,\n                                }}\n                            >\n                                <Box\n                                    sx={{\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        gap: 1,\n                                    }}\n                                >\n                                    <SettingsRounded\n                                        sx={{\n                                            color: COLORS.primary.light,\n                                            fontSize: '1.25rem',\n                                        }}\n                                    />\n                                    <Typography\n                                        variant=\"body1\"\n                                        sx={{\n                                            color: COLORS.primary.light,\n                                            fontWeight:\n                                                TYPOGRAPHY.fontWeight.semibold,\n                                        }}\n                                    >\n                                        Parameters\n                                    </Typography>\n                                </Box>\n                                {onReset && (\n                                    <Button\n                                        variant=\"outlined\"\n                                        size=\"small\"\n                                        startIcon={<Refresh />}\n                                        onClick={onReset}\n                                        sx={{\n                                            color: COLORS.text.secondary,\n                                            borderColor: COLORS.border.subtle,\n                                            borderRadius:\n                                                SPACING.borderRadius.lg,\n                                            padding: '0.25rem 1rem',\n                                            fontSize: '0.875rem',\n                                            fontWeight:\n                                                TYPOGRAPHY.fontWeight.medium,\n                                            transition: 'all 0.2s ease-in-out',\n                                            '&:hover': {\n                                                borderColor:\n                                                    COLORS.primary.main,\n                                                backgroundColor:\n                                                    COLORS.interactive.hover,\n                                                transform: 'translateY(-1px)',\n                                                boxShadow:\n                                                    '0 4px 8px rgba(0,0,0,0.1)',\n                                            },\n                                        }}\n                                    >\n                                        {resetLabel}\n                                    </Button>\n                                )}\n                            </Box>\n\n                            <Grid container={true} spacing={2.5}>\n                                {controls.map((control, index) => (\n                                    <Grid key={index} size={{ xs: 12, md: 4 }}>\n                                        <Box\n                                            sx={{\n                                                marginBottom: 0,\n                                                padding: '1rem',\n                                                backgroundColor:\n                                                    'rgba(255, 255, 255, 0.02)',\n                                                borderRadius:\n                                                    SPACING.borderRadius.lg,\n                                                border: `1px solid ${COLORS.border.subtle}`,\n                                            }}\n                                        >\n                                            <Box\n                                                sx={{\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    gap: 1,\n                                                    mb: 2,\n                                                }}\n                                            >\n                                                {control.icon && (\n                                                    <control.icon\n                                                        sx={{\n                                                            color:\n                                                                control.color ||\n                                                                COLORS.primary\n                                                                    .light,\n                                                            fontSize: '1.1rem',\n                                                        }}\n                                                    />\n                                                )}\n                                                <Typography\n                                                    variant=\"body2\"\n                                                    sx={{\n                                                        color: COLORS.text\n                                                            .secondary,\n                                                        fontWeight:\n                                                            TYPOGRAPHY\n                                                                .fontWeight\n                                                                .medium,\n                                                    }}\n                                                >\n                                                    {control.label}\n                                                </Typography>\n                                            </Box>\n                                            <ToggleButtonGroup\n                                                value={control.value}\n                                                exclusive\n                                                onChange={(e, newValue) => {\n                                                    if (newValue !== null) {\n                                                        control.onChange(\n                                                            newValue\n                                                        );\n                                                    }\n                                                }}\n                                                size=\"small\"\n                                                sx={{\n                                                    width: '100%',\n                                                    borderRadius:\n                                                        SPACING.borderRadius.lg,\n                                                    overflow: 'hidden',\n                                                    border: `1px solid ${COLORS.border.subtle}`,\n                                                    '& .MuiToggleButtonGroup-grouped':\n                                                        {\n                                                            margin: 0,\n                                                            border: 0,\n                                                            borderRadius: 0,\n                                                            '&:not(:first-of-type)':\n                                                                {\n                                                                    borderLeft: `1px solid ${COLORS.border.subtle}`,\n                                                                },\n                                                        },\n                                                    '& .MuiToggleButton-root': {\n                                                        color: COLORS.text\n                                                            .secondary,\n                                                        borderColor:\n                                                            COLORS.border\n                                                                .subtle,\n                                                        padding:\n                                                            '0.6rem 0.8rem',\n                                                        flex: 1,\n                                                        fontSize: '0.85rem',\n                                                        fontWeight:\n                                                            TYPOGRAPHY\n                                                                .fontWeight\n                                                                .medium,\n                                                        borderRadius: 0,\n                                                        transition:\n                                                            'all 0.2s ease-in-out',\n                                                        '&.Mui-selected': {\n                                                            backgroundColor:\n                                                                control.color ||\n                                                                COLORS.primary\n                                                                    .main,\n                                                            color: COLORS.text\n                                                                .primary,\n                                                            borderColor:\n                                                                control.color ||\n                                                                COLORS.primary\n                                                                    .main,\n                                                            '&:hover': {\n                                                                backgroundColor:\n                                                                    control.hoverColor ||\n                                                                    (control.color ===\n                                                                    COLORS\n                                                                        .primary\n                                                                        .main\n                                                                        ? COLORS\n                                                                              .primary\n                                                                              .dark\n                                                                        : control.color ===\n                                                                            COLORS\n                                                                                .data\n                                                                                .green\n                                                                          ? 'hsl(141, 64%, 39%)'\n                                                                          : control.color ===\n                                                                              COLORS\n                                                                                  .data\n                                                                                  .amber\n                                                                            ? 'hsl(34, 95%, 48%)'\n                                                                            : control.color ||\n                                                                              COLORS\n                                                                                  .primary\n                                                                                  .dark),\n                                                                borderColor:\n                                                                    control.hoverColor ||\n                                                                    (control.color ===\n                                                                    COLORS\n                                                                        .primary\n                                                                        .main\n                                                                        ? COLORS\n                                                                              .primary\n                                                                              .dark\n                                                                        : control.color ===\n                                                                            COLORS\n                                                                                .data\n                                                                                .green\n                                                                          ? 'hsl(141, 64%, 39%)'\n                                                                          : control.color ===\n                                                                              COLORS\n                                                                                  .data\n                                                                                  .amber\n                                                                            ? 'hsl(34, 95%, 48%)'\n                                                                            : control.color ||\n                                                                              COLORS\n                                                                                  .primary\n                                                                                  .dark),\n                                                                transform:\n                                                                    'translateY(-1px)',\n                                                                boxShadow:\n                                                                    '0 4px 8px rgba(0,0,0,0.1)',\n                                                            },\n                                                        },\n                                                        '&:hover': {\n                                                            backgroundColor:\n                                                                COLORS\n                                                                    .interactive\n                                                                    .hover,\n                                                            transform:\n                                                                'translateY(-1px)',\n                                                        },\n                                                    },\n                                                }}\n                                            >\n                                                {control.options.map(option => (\n                                                    <ToggleButton\n                                                        key={option.value}\n                                                        value={option.value}\n                                                    >\n                                                        {option.label}\n                                                    </ToggleButton>\n                                                ))}\n                                            </ToggleButtonGroup>\n                                        </Box>\n                                    </Grid>\n                                ))}\n                            </Grid>\n                        </GlassCard>\n                    )}\n                </Box>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default ResearchDemo;\n","import React, { useState, useEffect } from 'react';\nimport {\n    BarChartRounded,\n    TrendingUpRounded,\n    ShowChartRounded,\n    AnalyticsRounded,\n} from '../components/icons';\nimport {\n    URLS,\n    PAGE_TITLES,\n    ZSHARP_DEFAULTS,\n    PERCENTAGE,\n} from '../config/constants';\nimport { COLORS } from '../config/theme';\nimport ResearchDemo from '../components/ResearchDemo';\n\ninterface DataPoint {\n    epoch: number;\n    sgd: number;\n    zsharp: number;\n    sgdLoss: number;\n    zsharpLoss: number;\n}\n\ninterface ProcessedDataPoint {\n    epoch: number;\n    sgd?: number;\n    zsharp?: number;\n    gap?: number;\n}\n\ninterface RealData {\n    'SGD Baseline'?: {\n        train_accuracies?: number[];\n        train_losses?: number[];\n    };\n    'ZSharp'?: {\n        train_accuracies?: number[];\n        train_losses?: number[];\n    };\n}\n\ninterface ViewType {\n    key: string;\n    label: string;\n    icon: React.ElementType;\n    chartTitle: string;\n    dataProcessor: (data: DataPoint[]) => ProcessedDataPoint[];\n    chartConfig: {\n        type: string;\n        xAxisKey: string;\n        yAxisFormatter: (value: number) => string;\n        yAxisDomain: string[];\n        tooltipLabelFormatter: (value: number) => string;\n        tooltipFormatter: (value: number, name: string) => [string, string];\n        lines: Array<{\n            dataKey: string;\n            name: string;\n            color: string;\n        }>;\n    };\n}\n\nconst loadRealZSharpData = async (): Promise<DataPoint[]> => {\n    try {\n        if (typeof DecompressionStream === 'undefined') {\n            throw new Error('DecompressionStream not supported');\n        }\n\n        const response = await fetch('/zsharp_data.json.gz');\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const compressedData = await response.arrayBuffer();\n        const decompressedData = await new Response(\n            new ReadableStream({\n                start(controller) {\n                    const decompressionStream = new DecompressionStream('gzip');\n                    const writer = decompressionStream.writable.getWriter();\n                    const reader = decompressionStream.readable.getReader();\n\n                    writer.write(compressedData).then(() => writer.close());\n\n                    function pump(): Promise<void> {\n                        return reader.read().then(({ done, value }: { done: boolean; value: Uint8Array | undefined }) => {\n                            if (done) {\n                                controller.close();\n                                return;\n                            }\n                            controller.enqueue(value);\n                            return pump();\n                        });\n                    }\n                    return pump();\n                },\n            })\n        ).text();\n        const realData: RealData = JSON.parse(decompressedData);\n\n        const data: DataPoint[] = [];\n        const sgdAccuracies = realData['SGD Baseline']?.train_accuracies || [];\n        const zsharpAccuracies = realData['ZSharp']?.train_accuracies || [];\n        const sgdLosses = realData['SGD Baseline']?.train_losses || [];\n        const zsharpLosses = realData['ZSharp']?.train_losses || [];\n\n        const maxEpochs = Math.max(\n            sgdAccuracies.length,\n            zsharpAccuracies.length\n        );\n\n        for (let i = 0; i < maxEpochs; i++) {\n            data.push({\n                epoch: i + 1,\n                sgd: (sgdAccuracies[i] || 0) / PERCENTAGE.divisor,\n                zsharp: (zsharpAccuracies[i] || 0) / PERCENTAGE.divisor,\n                sgdLoss: sgdLosses[i] || 0,\n                zsharpLoss: zsharpLosses[i] || 0,\n            });\n        }\n\n        return data;\n    } catch (error) {\n        return generateFallbackData();\n    }\n};\n\nconst generateFallbackData = (): DataPoint[] => {\n    const data: DataPoint[] = [];\n    for (let i = 0; i <= ZSHARP_DEFAULTS.maxEpochs; i++) {\n        const sgdAccuracy =\n            ZSHARP_DEFAULTS.baseAccuracy +\n            (i / ZSHARP_DEFAULTS.maxEpochs) *\n                (ZSHARP_DEFAULTS.maxAccuracy - ZSHARP_DEFAULTS.baseAccuracy);\n        const zsharpAccuracy = sgdAccuracy + ZSHARP_DEFAULTS.improvement;\n        const sgdLoss =\n            ZSHARP_DEFAULTS.baseLoss -\n            (i / ZSHARP_DEFAULTS.maxEpochs) *\n                (ZSHARP_DEFAULTS.baseLoss - ZSHARP_DEFAULTS.minLoss);\n        const zsharpLoss = sgdLoss - ZSHARP_DEFAULTS.lossReduction;\n\n        data.push({\n            epoch: i + 1,\n            sgd: sgdAccuracy,\n            zsharp: zsharpAccuracy,\n            sgdLoss: sgdLoss,\n            zsharpLoss: zsharpLoss,\n        });\n    }\n    return data;\n};\n\nconst ZSharp: React.FC = () => {\n    const [chartData, setChartData] = useState<DataPoint[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [viewType, setViewType] = useState<string>('accuracy');\n\n    useEffect(() => {\n        document.title = PAGE_TITLES.zsharp;\n\n        const loadData = async () => {\n            setLoading(true);\n            try {\n                const data = await loadRealZSharpData();\n                setChartData(data);\n            } catch (error) {\n                console.error('Error loading ZSharp data in component:', error);\n                setChartData(generateFallbackData());\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        loadData();\n    }, []);\n\n    const viewTypes: ViewType[] = [\n        {\n            key: 'accuracy',\n            label: 'Accuracy',\n            icon: BarChartRounded,\n            chartTitle: 'Performance Comparison',\n            dataProcessor: (data: DataPoint[]) => data,\n            chartConfig: {\n                type: 'line',\n                xAxisKey: 'epoch',\n                yAxisFormatter: (value: number) =>\n                    `${(value * PERCENTAGE.multiplier).toFixed(1)}%`,\n                yAxisDomain: ['dataMin - 0.05', 'dataMax + 0.05'],\n                tooltipLabelFormatter: (value: number) => `Epoch ${value}`,\n                tooltipFormatter: (value: number, name: string) => [\n                    `${(value * PERCENTAGE.multiplier).toFixed(1)}%`,\n                    name,\n                ],\n                lines: [\n                    { dataKey: 'sgd', name: 'SGD', color: COLORS.primary.main },\n                    {\n                        dataKey: 'zsharp',\n                        name: 'ZSharp',\n                        color: COLORS.data.green,\n                    },\n                ],\n            },\n        },\n        {\n            key: 'loss',\n            label: 'Loss',\n            icon: TrendingUpRounded,\n            chartTitle: 'Loss Evaluation',\n            dataProcessor: (data: DataPoint[]) =>\n                data.map((point): ProcessedDataPoint => ({\n                    epoch: point.epoch,\n                    sgd: point.sgdLoss,\n                    zsharp: point.zsharpLoss,\n                })),\n            chartConfig: {\n                type: 'line',\n                xAxisKey: 'epoch',\n                yAxisFormatter: (value: number) => value.toFixed(3),\n                yAxisDomain: ['dataMin - 0.1', 'dataMax + 0.1'],\n                tooltipLabelFormatter: (value: number) => `Epoch ${value}`,\n                tooltipFormatter: (value: number, name: string) => [value.toFixed(3), name],\n                lines: [\n                    {\n                        dataKey: 'sgd',\n                        name: 'SGD Loss',\n                        color: COLORS.primary.main,\n                    },\n                    {\n                        dataKey: 'zsharp',\n                        name: 'ZSharp Loss',\n                        color: COLORS.data.green,\n                    },\n                ],\n            },\n        },\n        {\n            key: 'learning_curve',\n            label: 'Learning Gap',\n            icon: ShowChartRounded,\n            chartTitle: 'Learning Progress',\n            dataProcessor: (data: DataPoint[]) =>\n                data.map((point): ProcessedDataPoint => ({\n                    epoch: point.epoch,\n                    gap: point.zsharp - point.sgd,\n                })),\n            chartConfig: {\n                type: 'line',\n                xAxisKey: 'epoch',\n                yAxisFormatter: (value: number) =>\n                    `${(value * PERCENTAGE.multiplier).toFixed(1)}%`,\n                yAxisDomain: ['dataMin - 0.005', 'dataMax + 0.005'],\n                tooltipLabelFormatter: (value: number) => `Epoch ${value}`,\n                tooltipFormatter: (value: number, name: string) => [\n                    `${(value * PERCENTAGE.multiplier).toFixed(2)}%`,\n                    name,\n                ],\n                lines: [\n                    {\n                        dataKey: 'gap',\n                        name: 'Accuracy Gap',\n                        color: COLORS.data.amber,\n                    },\n                ],\n            },\n        },\n        {\n            key: 'convergence',\n            label: 'Convergence',\n            icon: AnalyticsRounded,\n            chartTitle: 'Convergence Analysis',\n            dataProcessor: (data: DataPoint[]) =>\n                data.map((point, index): ProcessedDataPoint => {\n                    if (index === 0)\n                        return { epoch: point.epoch, sgd: 0, zsharp: 0 };\n                    const prevPoint = data[index - 1];\n                    return {\n                        epoch: point.epoch,\n                        sgd: point.sgd - prevPoint.sgd,\n                        zsharp: point.zsharp - prevPoint.zsharp,\n                    };\n                }),\n            chartConfig: {\n                type: 'line',\n                xAxisKey: 'epoch',\n                yAxisFormatter: (value: number) =>\n                    `${(value * PERCENTAGE.multiplier).toFixed(1)}%`,\n                yAxisDomain: ['dataMin - 0.005', 'dataMax + 0.005'],\n                tooltipLabelFormatter: (value: number) => `Epoch ${value}`,\n                tooltipFormatter: (value: number, name: string) => [\n                    `${(value * PERCENTAGE.multiplier).toFixed(3)}%`,\n                    name,\n                ],\n                lines: [\n                    {\n                        dataKey: 'sgd',\n                        name: 'SGD Rate',\n                        color: COLORS.primary.main,\n                    },\n                    {\n                        dataKey: 'zsharp',\n                        name: 'ZSharp Rate',\n                        color: COLORS.data.green,\n                    },\n                ],\n            },\n        },\n    ];\n\n    return (\n        <ResearchDemo\n            title=\"ZSharp\"\n            subtitle=\"Neural Network Optimization Research\"\n            githubUrl={URLS.zsharpRepo}\n            chartData={chartData as any}\n            viewTypes={viewTypes as any}\n            currentViewType={viewType}\n            onViewTypeChange={setViewType as any}\n            loading={loading}\n            loadingMessage=\"Loading real experiment data...\"\n        />\n    );\n};\n\nexport default ZSharp;\n\n","import React, { useState, useEffect } from 'react';\nimport { URLS, PAGE_TITLES, GAME_CONSTANTS } from '../config/constants';\nimport { COLORS } from '../config/theme';\nimport {\n    BusinessRounded,\n    TrendingUpRounded,\n    AttachMoneyRounded,\n} from '../components/icons';\nimport ResearchDemo from '../components/ResearchDemo';\n\ninterface MatrixItem {\n    round: number;\n    price: number;\n    hhi: number;\n    collusion?: boolean;\n    num_firms?: number;\n    model_type?: string;\n    demand_elasticity?: number;\n    base_price?: number;\n    collusion_enabled?: boolean;\n}\n\ninterface MarketDataPoint {\n    round: number;\n    price: number;\n    hhi: number;\n    collusion?: boolean;\n}\n\ninterface ControlOption {\n    value: number;\n    label: string;\n}\n\ninterface Control {\n    label: string;\n    icon: React.ElementType;\n    color: string;\n    value: number;\n    onChange: (value: number) => void;\n    options: ControlOption[];\n}\n\nconst loadRealSimulationMatrix = async (): Promise<MatrixItem[]> => {\n    try {\n        const response = await fetch('/oligopoly_data.json.gz');\n        if (!response.ok) {\n            throw new Error(\n                `HTTP error! status: ${response.status} - Failed to load Oligopoly data`\n            );\n        }\n\n        if (typeof DecompressionStream === 'undefined') {\n            throw new Error(\n                'DecompressionStream not supported in this browser'\n            );\n        }\n\n        const compressedData = await response.arrayBuffer();\n        const decompressedData = await new Response(\n            new ReadableStream({\n                start(controller) {\n                    const decompressionStream = new DecompressionStream('gzip');\n                    const writer = decompressionStream.writable.getWriter();\n                    const reader = decompressionStream.readable.getReader();\n\n                    writer.write(compressedData).then(() => writer.close());\n\n                    function pump(): Promise<void> {\n                        return reader.read().then(({ done, value }: { done: boolean; value: Uint8Array | undefined }) => {\n                            if (done) {\n                                controller.close();\n                                return;\n                            }\n                            controller.enqueue(value);\n                            return pump();\n                        });\n                    }\n                    return pump();\n                },\n            })\n        ).text();\n        const matrixData: MatrixItem[] = JSON.parse(decompressedData);\n\n        if (!Array.isArray(matrixData)) {\n            throw new Error('Invalid data format: expected array');\n        }\n\n        return matrixData;\n    } catch (error) {\n        console.error('Error loading Oligopoly data:', error);\n        return [];\n    }\n};\n\nconst filterMatrixData = (\n    matrixData: MatrixItem[],\n    numFirms: number,\n    modelType: string,\n    demandElasticity: number,\n    basePrice: number,\n    collusionEnabled: boolean\n): MarketDataPoint[] => {\n    if (!matrixData || matrixData.length === 0) {\n        return generateFallbackOligopolyData();\n    }\n\n    const filtered = matrixData.filter(\n        item =>\n            item.num_firms === numFirms &&\n            item.model_type === modelType &&\n            item.demand_elasticity === demandElasticity &&\n            item.base_price === basePrice &&\n            item.collusion_enabled === collusionEnabled\n    );\n\n    if (filtered.length === 0) {\n        const closest = matrixData.filter(\n            item => item.num_firms === numFirms && item.model_type === modelType\n        );\n        const sorted = closest.sort((a, b) => a.round - b.round);\n        return sorted.slice(0, GAME_CONSTANTS.oligopoly.maxRounds);\n    }\n\n    const sorted = filtered.sort((a, b) => a.round - b.round);\n    return sorted.slice(0, 15);\n};\n\nconst generateFallbackOligopolyData = (): MarketDataPoint[] => {\n    const data: MarketDataPoint[] = [];\n    for (let i = 1; i <= GAME_CONSTANTS.oligopoly.maxRounds; i++) {\n        const sim = GAME_CONSTANTS.oligopoly.simulation;\n        data.push({\n            round: i,\n            price:\n                sim.fallbackPrice +\n                Math.sin(i * sim.priceFrequency) * sim.priceAmplitude,\n            hhi:\n                sim.fallbackHHI +\n                Math.sin(i * sim.hhiFrequency) * sim.hhiAmplitude,\n            collusion: i > sim.collusionStart && i < sim.collusionEnd,\n        });\n    }\n    return data;\n};\n\nconst Oligopoly: React.FC = () => {\n    const [numFirms, setNumFirms] = useState(\n        GAME_CONSTANTS.oligopoly.defaultFirms\n    );\n    const [demandElasticity, setDemandElasticity] = useState(\n        GAME_CONSTANTS.oligopoly.defaultElasticity\n    );\n    const [basePrice, setBasePrice] = useState(\n        GAME_CONSTANTS.oligopoly.defaultBasePrice\n    );\n    const [marketData, setMarketData] = useState<MarketDataPoint[]>([]);\n    const [matrixData, setMatrixData] = useState<MatrixItem[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    const modelType = GAME_CONSTANTS.modelTypes.cournot;\n    const collusionEnabled = false;\n\n    useEffect(() => {\n        document.title = PAGE_TITLES.oligopoly;\n\n        const loadData = async () => {\n            setLoading(true);\n            try {\n                const data = await loadRealSimulationMatrix();\n                setMatrixData(data);\n                const initialData = filterMatrixData(\n                    data,\n                    numFirms,\n                    modelType,\n                    demandElasticity,\n                    basePrice,\n                    collusionEnabled\n                );\n                setMarketData(initialData);\n            } catch (error) {\n                console.error(\n                    'Error loading Oligopoly data in component:',\n                    error\n                );\n                setMarketData(generateFallbackOligopolyData());\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        loadData();\n    }, [numFirms, demandElasticity, basePrice, collusionEnabled, modelType]);\n\n    useEffect(() => {\n        if (matrixData.length > 0) {\n            const filteredData = filterMatrixData(\n                matrixData,\n                numFirms,\n                modelType,\n                demandElasticity,\n                basePrice,\n                collusionEnabled\n            );\n            setMarketData(filteredData);\n        }\n    }, [\n        numFirms,\n        demandElasticity,\n        basePrice,\n        matrixData,\n        modelType,\n        collusionEnabled,\n    ]);\n\n    const resetToDefaults = () => {\n        setNumFirms(GAME_CONSTANTS.oligopoly.defaultFirms);\n        setDemandElasticity(GAME_CONSTANTS.oligopoly.defaultElasticity);\n        setBasePrice(GAME_CONSTANTS.oligopoly.defaultBasePrice);\n    };\n\n    const controls: Control[] = [\n        {\n            label: 'Number of Firms',\n            icon: BusinessRounded,\n            color: COLORS.primary.main,\n            value: numFirms,\n            onChange: setNumFirms,\n            options: [\n                { value: 2, label: '2' },\n                { value: 3, label: '3' },\n                { value: 4, label: '4' },\n                { value: 5, label: '5' },\n            ],\n        },\n        {\n            label: 'Demand Elasticity',\n            icon: TrendingUpRounded,\n            color: COLORS.data.green,\n            value: demandElasticity,\n            onChange: setDemandElasticity,\n            options: [\n                { value: 1.5, label: '1.5' },\n                { value: 2.0, label: '2.0' },\n                { value: 2.5, label: '2.5' },\n            ],\n        },\n        {\n            label: 'Base Price',\n            icon: AttachMoneyRounded,\n            color: COLORS.data.amber,\n            value: basePrice,\n            onChange: setBasePrice,\n            options: [\n                { value: 30, label: '$30' },\n                { value: 40, label: '$40' },\n                { value: 50, label: '$50' },\n            ],\n        },\n    ];\n\n    const chartConfig = {\n        type: 'line',\n        xAxisKey: 'round',\n        yAxisFormatter: (value: number) => `$${value.toFixed(2)}`,\n        yAxisDomain: ['dataMin - 5', 'dataMax + 5'],\n        dualYAxis: true,\n        rightYAxisFormatter: (value: number) => value.toFixed(2),\n        rightYAxisDomain: ['dataMin - 0.05', 'dataMax + 0.05'],\n        tooltipLabelFormatter: (value: number) => `Round ${value}`,\n        tooltipFormatter: (value: number, name: string) => [\n            name === 'Market Price' ? `$${value.toFixed(2)}` : value.toFixed(2),\n            name,\n        ],\n        lines: [\n            {\n                dataKey: 'price',\n                name: 'Market Price',\n                color: COLORS.primary.main,\n                yAxisId: 'left',\n            },\n            {\n                dataKey: 'hhi',\n                name: 'HHI Concentration',\n                color: COLORS.data.amber,\n                yAxisId: 'right',\n            },\n        ],\n    };\n\n    return (\n        <ResearchDemo\n            title=\"Oligopoly\"\n            subtitle=\"Agent-Based Economic Competition Analysis\"\n            githubUrl={URLS.oligopolyRepo}\n            chartData={marketData as any}\n            chartConfig={chartConfig as any}\n            chartTitle=\"Market Dynamics\"\n            controls={controls as any}\n            loading={loading}\n            loadingMessage=\"Loading Cournot simulation data...\"\n            onReset={resetToDefaults}\n            resetLabel=\"Reset\"\n        />\n    );\n};\n\nexport default Oligopoly;\n\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Grid, Typography, Box, IconButton, Fade } from '../components/mui';\nimport {\n    GitHub,\n    HomeRounded as Home,\n    GridView,\n    TextFields,\n} from '../components/icons';\nimport { URLS, PAGE_TITLES } from '../config/constants';\nimport {\n    COLORS,\n    SPACING,\n    TYPOGRAPHY,\n    COMPONENT_VARIANTS,\n} from '../config/theme';\nimport { GlassCard } from '../helpers';\n\ninterface Interpreter {\n    name: string;\n    path: string;\n    description: string;\n    icon: React.ReactElement;\n    category: string;\n}\n\n// Type assertion for GlassCard component\nconst TypedGlassCard = GlassCard as React.ComponentType<{\n    children?: React.ReactNode;\n    sx?: Record<string, unknown>;\n}>;\n\nexport default function Interpreters(): React.ReactElement {\n    useEffect(() => {\n        document.title = PAGE_TITLES.interpreters;\n    }, []);\n\n    const interpreters: Interpreter[] = [\n        {\n            name: 'Stun Step',\n            path: '/Stun_Step',\n            description:\n                'Ultra-minimal tape-based language with only four commands for basic computation',\n            icon: <TextFields />,\n            category: 'Text',\n        },\n        {\n            name: 'Suffolk',\n            path: '/Suffolk',\n            description:\n                'Register-based language with input/output capabilities and looping behavior',\n            icon: <TextFields />,\n            category: 'Text',\n        },\n        {\n            name: 'WII2D',\n            path: '/WII2D',\n            description:\n                '2D grid language with directional movement, arithmetic operations, and teleportation',\n            icon: <GridView />,\n            category: 'Grid',\n        },\n        {\n            name: 'Back',\n            path: '/Back',\n            description:\n                'Grid-based language with mirror reflections, tape manipulation, and conditional logic',\n            icon: <GridView />,\n            category: 'Grid',\n        },\n    ];\n\n    return (\n        <Grid\n            container\n            minHeight=\"100vh\"\n            flexDirection=\"column\"\n            sx={{\n                position: 'relative',\n                padding: { xs: '1rem', md: '2rem' },\n                boxSizing: 'border-box',\n                width: '100%',\n                maxWidth: '100vw',\n                overflowX: 'hidden',\n            }}\n        >\n            {/* Background Elements */}\n            <Box\n                sx={{\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    background: COLORS.surface.background,\n                    zIndex: -2,\n                }}\n            />\n\n            {/* Main Content */}\n            <Grid\n                flex={1}\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n                flexDirection=\"column\"\n                sx={{\n                    zIndex: 1,\n                    padding: {\n                        xs: '0.5rem 0',\n                        md: `${SPACING.padding.md} 0`,\n                    },\n                    minHeight: 0,\n                }}\n            >\n                <Box\n                    sx={{\n                        textAlign: 'center',\n                        maxWidth: SPACING.maxWidth.md,\n                        width: '100%',\n                        padding: {\n                            xs: '0 0.5rem',\n                            md: `0 ${SPACING.padding.md}`,\n                        },\n                        boxSizing: 'border-box',\n                        overflow: 'hidden',\n                    }}\n                >\n                    {/* Header */}\n                    <Grid\n                        container\n                        direction=\"row\"\n                        justifyContent=\"space-between\"\n                        alignItems=\"center\"\n                        sx={{\n                            marginBottom: 4,\n                        }}\n                    >\n                        <Typography\n                            variant=\"h4\"\n                            sx={{\n                                color: COLORS.text.primary,\n                                fontWeight: TYPOGRAPHY.fontWeight.semibold,\n                                fontSize: {\n                                    xs: TYPOGRAPHY.fontSize.subheading,\n                                    md: TYPOGRAPHY.fontSize.h2,\n                                },\n                            }}\n                        >\n                            Esolang Interpreters\n                        </Typography>\n                        <Box sx={{ display: 'flex', gap: 1 }}>\n                            <IconButton\n                                href={URLS.esolangsRepo}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <GitHub\n                                    sx={{\n                                        fontSize: { xs: '1.5rem', md: '2rem' },\n                                    }}\n                                />\n                            </IconButton>\n                            <IconButton component={Link} to=\"/\">\n                                <Home\n                                    sx={{\n                                        fontSize: { xs: '1.5rem', md: '2rem' },\n                                    }}\n                                />\n                            </IconButton>\n                        </Box>\n                    </Grid>\n\n                    {/* Interpreters Grid */}\n                    <Box\n                        sx={{\n                            display: 'grid',\n                            gridTemplateColumns: {\n                                xs: '1fr',\n                                md: '1fr 1fr',\n                            },\n                            gap: { xs: 2, md: 3 },\n                            marginTop: 4,\n                        }}\n                    >\n                        {interpreters.map((interpreter, index) => (\n                            <Fade\n                                in\n                                timeout={800 + index * 150}\n                                key={interpreter.name}\n                            >\n                                <Box\n                                    component={Link}\n                                    to={interpreter.path}\n                                    sx={{\n                                        textDecoration: 'none',\n                                        position: 'relative',\n                                        overflow: 'hidden',\n                                        ...COMPONENT_VARIANTS.interactiveCard,\n                                        '&:hover .glass-card': {\n                                            backgroundColor:\n                                                COLORS.interactive.selected,\n                                        },\n                                    }}\n                                >\n                                    <TypedGlassCard sx={{ border: 'none' }}>\n                                        <Box\n                                            sx={{\n                                                ...COMPONENT_VARIANTS.flexCenter,\n                                                gap: 1,\n                                                marginBottom: 2,\n                                            }}\n                                        >\n                                            <Box\n                                                sx={{\n                                                    color: COLORS.primary.main,\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                }}\n                                            >\n                                                {interpreter.icon}\n                                            </Box>\n                                            <Typography\n                                                variant=\"h6\"\n                                                sx={{\n                                                    color: COLORS.primary.main,\n                                                    fontWeight:\n                                                        TYPOGRAPHY.fontWeight\n                                                            .semibold,\n                                                    fontSize:\n                                                        TYPOGRAPHY.fontSize\n                                                            .body,\n                                                }}\n                                            >\n                                                {interpreter.name}\n                                            </Typography>\n                                        </Box>\n                                        <Typography\n                                            variant=\"body2\"\n                                            sx={{\n                                                color: COLORS.text.secondary,\n                                                wordWrap: 'break-word',\n                                                overflowWrap: 'break-word',\n                                                lineHeight: 1.5,\n                                            }}\n                                        >\n                                            {interpreter.description}\n                                        </Typography>\n                                    </TypedGlassCard>\n                                </Box>\n                            </Fade>\n                        ))}\n                    </Box>\n                </Box>\n            </Grid>\n        </Grid>\n    );\n}\n\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport {\n    Box,\n    Typography,\n    Container,\n    Grid,\n    Button,\n    Fade,\n    TextField,\n    Chip,\n    Stack,\n    MenuItem,\n    Select,\n    FormControl,\n    InputLabel,\n    IconButton,\n    LinearProgress,\n    Card,\n    CardContent,\n} from '@mui/material';\nimport {\n    ArrowBackRounded as ArrowBackIcon,\n    RefreshRounded as RefreshIcon,\n    CheckCircleRounded as CheckCircleIcon,\n    CancelRounded as CancelIcon,\n    InfoRounded as InfoIcon,\n    HomeRounded as HomeIcon,\n} from '@mui/icons-material';\nimport {\n    COLORS,\n    SPACING,\n    TYPOGRAPHY,\n    ANIMATIONS,\n    COMPONENT_VARIANTS,\n} from '../config/theme';\nimport cctldsData from '../data/cctlds.json';\n\nimport { Grid as MuiGrid } from '../components/mui';\n\n// --- Types ---\n\ninterface CCTLD {\n    code: string;\n    country: string;\n    origin_explanation: string;\n    language: string;\n}\n\ntype GameMode = 'toCountry' | 'toCode';\ntype GameState = 'menu' | 'playing' | 'summary';\n\ninterface QuizSettings {\n    mode: GameMode;\n    allowRepeats: boolean;\n    filterLetter: string;\n    filterLanguage: string;\n    maxQuestions: number | 'All';\n}\n\ninterface Question {\n    cctld: CCTLD;\n    userAnswer: string;\n    isCorrect: boolean | null;\n}\n\n// --- Constants ---\n\nconst LANGUAGES = Array.from(\n    new Set(cctldsData.map(item => item.language))\n).sort();\nconst NON_ENGLISH_LANGUAGES = LANGUAGES.filter(l => l !== 'English');\n\n// --- Helper Functions ---\n\nconst normalize = (str: string) => {\n    return str\n        .toLowerCase()\n        .normalize('NFD')\n        .replace(/[\\u0300-\\u036f]/g, '') // Remove accents/diacritics\n        .replace(/\\bst\\.(?=\\s|$)/g, 'saint')\n        .replace(/^the\\s+/g, '')\n        .replace(/[^\\w\\s\\.]/g, '') // Keep dots for .codes\n        .trim();\n};\n\nconst isSmartMatch = (input: string, expected: string) => {\n    const ni = normalize(input);\n    const ne = normalize(expected);\n\n    // 1. Exact normalized match\n    if (ni === ne) return true;\n\n    // 2. Predefined Aliases\n    const aliases: Record<string, string[]> = {\n        'united arab emirates': ['uae'],\n        'united states': ['us', 'usa'],\n        'united kingdom': ['uk'],\n        'democratic republic of the congo': ['drc', 'congo dr'],\n        'republic of the congo': ['congo'],\n        'central african republic': ['car'],\n        'british indian ocean territory': ['biot'],\n        'saint vincent and the grenadines': ['st vincent'],\n        'saint kitts and nevis': ['st kitts'],\n        'antigua and barbuda': ['antigua'],\n        'trinidad and tobago': ['trinidad'],\n        'bosnia and herzegovina': ['bosnia'],\n        'sao tome and principe': ['sao tome'],\n        'turks and caicos islands': ['turks and caicos'],\n    };\n\n    if (aliases[ne]?.map(a => normalize(a)).includes(ni)) return true;\n\n    // 3. Parentheses handling: \"Cocos (Keeling) Islands\" -> \"Cocos Islands\"\n    const withoutParens = normalize(\n        expected.replace(/\\s*\\(.*?\\)\\s*/g, ' ').replace(/\\s+/g, ' ')\n    );\n    if (ni === withoutParens) return true;\n\n    // Also check first part before parens\n    const firstPartParens = normalize(expected.split('(')[0]);\n    if (ni === firstPartParens) return true;\n\n    // 4. \"And\" handling: Match the first part before \"and\"\n    if (ne.includes(' and ')) {\n        const firstPart = normalize(expected.split(' and ')[0]);\n        if (ni === firstPart) return true;\n    }\n\n    return false;\n};\n\n// --- Components ---\n\nconst SettingsPanel = ({\n    settings,\n    onUpdate,\n    onStart,\n}: {\n    settings: QuizSettings;\n    onUpdate: (s: QuizSettings) => void;\n    onStart: () => void;\n}) => {\n    const commonSelectProps = {\n        MenuProps: {\n            BackdropProps: {\n                sx: { backdropFilter: 'none', backgroundColor: 'transparent' },\n            },\n        },\n    };\n\n    return (\n        <Card\n            sx={{\n                ...COMPONENT_VARIANTS.card,\n                p: 3,\n                mb: 4,\n                width: '100%',\n                maxWidth: 800,\n                mx: 'auto',\n            }}\n        >\n            <Typography variant=\"h5\" sx={{ mb: 3, textAlign: 'center' }}>\n                Game Settings\n            </Typography>\n            <Grid container spacing={3}>\n                <Grid item xs={12} md={6}>\n                    <FormControl fullWidth>\n                        <InputLabel>Game Mode</InputLabel>\n                        <Select\n                            value={settings.mode}\n                            label=\"Game Mode\"\n                            onChange={e =>\n                                onUpdate({\n                                    ...settings,\n                                    mode: e.target.value as GameMode,\n                                })\n                            }\n                            sx={{\n                                color: COLORS.text.primary,\n                                '.MuiOutlinedInput-notchedOutline': {\n                                    borderColor: COLORS.border.subtle,\n                                },\n                            }}\n                            {...commonSelectProps}\n                        >\n                            <MenuItem value=\"toCountry\">\n                                Guess Country (from Code)\n                            </MenuItem>\n                            <MenuItem value=\"toCode\">\n                                Guess Code (from Country)\n                            </MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <FormControl fullWidth>\n                        <InputLabel>Language Filter</InputLabel>\n                        <Select\n                            value={settings.filterLanguage}\n                            label=\"Language Filter\"\n                            onChange={e =>\n                                onUpdate({\n                                    ...settings,\n                                    filterLanguage: e.target.value,\n                                })\n                            }\n                            sx={{\n                                color: COLORS.text.primary,\n                                '.MuiOutlinedInput-notchedOutline': {\n                                    borderColor: COLORS.border.subtle,\n                                },\n                            }}\n                            {...commonSelectProps}\n                        >\n                            <MenuItem value=\"All\">All Origins</MenuItem>\n                            <MenuItem value=\"Non-English\">\n                                Non-English Origins\n                            </MenuItem>\n                            {LANGUAGES.map(lang => (\n                                <MenuItem key={lang} value={lang}>\n                                    {lang}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <TextField\n                        fullWidth\n                        label=\"Filter by Letter(s)\"\n                        value={settings.filterLetter}\n                        onChange={e =>\n                            onUpdate({\n                                ...settings,\n                                filterLetter: e.target.value,\n                            })\n                        }\n                        helperText=\"Comma separated (e.g. a, b)\"\n                        InputLabelProps={{\n                            style: { color: COLORS.text.secondary },\n                        }}\n                        onKeyDown={e => {\n                            if (e.key === 'Enter') {\n                                onStart();\n                            }\n                        }}\n                        sx={{\n                            input: { color: COLORS.text.primary },\n                            label: { color: COLORS.text.secondary },\n                            '& .MuiOutlinedInput-root': {\n                                '& fieldset': {\n                                    borderColor: COLORS.border.subtle,\n                                },\n                                '&:hover fieldset': {\n                                    borderColor: COLORS.primary.main,\n                                },\n                            },\n                        }}\n                    />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <FormControl fullWidth>\n                        <InputLabel>Question Limit</InputLabel>\n                        <Select\n                            value={settings.maxQuestions}\n                            label=\"Question Limit\"\n                            onChange={e =>\n                                onUpdate({\n                                    ...settings,\n                                    maxQuestions: e.target.value as\n                                        | number\n                                        | 'All',\n                                })\n                            }\n                            sx={{\n                                color: COLORS.text.primary,\n                                '.MuiOutlinedInput-notchedOutline': {\n                                    borderColor: COLORS.border.subtle,\n                                },\n                            }}\n                            {...commonSelectProps}\n                        >\n                            <MenuItem value=\"All\">All Questions</MenuItem>\n                            <MenuItem value={5}>5 Questions</MenuItem>\n                            <MenuItem value={10}>10 Questions</MenuItem>\n                            <MenuItem value={20}>20 Questions</MenuItem>\n                            <MenuItem value={50}>50 Questions</MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n            </Grid>\n        </Card>\n    );\n};\n\nconst QuizGame = ({\n    settings,\n    onEndGame,\n    onBackToMenu,\n}: {\n    settings: QuizSettings;\n    onEndGame: (history: Question[], score: number) => void;\n    onBackToMenu: () => void;\n}) => {\n    const [history, setHistory] = useState<Question[]>([]);\n    const [currentQuestion, setCurrentQuestion] = useState<CCTLD | null>(null);\n    const [inputValue, setInputValue] = useState('');\n    const [showFeedback, setShowFeedback] = useState(false);\n    const [feedbackMessage, setFeedbackMessage] = useState('');\n    const [feedbackColor, setFeedbackColor] = useState('');\n    const [pool, setPool] = useState<CCTLD[]>([]);\n    const [totalQuestions, setTotalQuestions] = useState(0);\n    const [showHint, setShowHint] = useState(false);\n    const [score, setScore] = useState(0);\n\n    // Refs for real-time access during callbacks (prevents stale closure issues)\n    const historyRef = React.useRef(history);\n    const scoreRef = React.useRef(score);\n\n    useEffect(() => {\n        historyRef.current = history;\n    }, [history]);\n\n    useEffect(() => {\n        scoreRef.current = score;\n    }, [score]);\n\n    // Initialize Pool\n    useEffect(() => {\n        let filtered = cctldsData;\n        if (settings.filterLanguage !== 'All') {\n            if (settings.filterLanguage === 'Non-English') {\n                filtered = filtered.filter(item => item.language !== 'English');\n            } else {\n                filtered = filtered.filter(\n                    item => item.language === settings.filterLanguage\n                );\n            }\n        }\n        if (settings.filterLetter) {\n            const letters = settings.filterLetter\n                .toLowerCase()\n                .split(',')\n                .map(l => l.trim())\n                .filter(l => l);\n            if (letters.length > 0) {\n                filtered = filtered.filter(item => {\n                    const text =\n                        settings.mode === 'toCountry'\n                            ? item.code.toLowerCase().replace('.', '')\n                            : item.country.toLowerCase();\n                    return letters.some(l => text.startsWith(l));\n                });\n            }\n        }\n        // Shuffle\n        let shuffled = [...filtered].sort(() => Math.random() - 0.5);\n\n        // Apply Question Limit\n        if (settings.maxQuestions !== 'All') {\n            shuffled = shuffled.slice(0, settings.maxQuestions);\n        }\n\n        setPool(shuffled);\n        setTotalQuestions(shuffled.length);\n    }, [settings]);\n\n    const nextQuestion = useCallback(() => {\n        setPool(prevPool => {\n            if (prevPool.length === 0) {\n                onEndGame(historyRef.current, scoreRef.current);\n                return [];\n            }\n\n            const next = prevPool[0];\n            setCurrentQuestion(next);\n            setInputValue('');\n            setShowFeedback(false);\n            setShowHint(false);\n            return prevPool.slice(1);\n        });\n    }, [onEndGame]);\n\n    // Initial Start\n    useEffect(() => {\n        if (!currentQuestion && pool.length > 0) {\n            // First question\n            const next = pool[0];\n            setCurrentQuestion(next);\n            setPool(p => p.slice(1));\n        } else if (\n            !currentQuestion &&\n            pool.length === 0 &&\n            history.length > 0\n        ) {\n            // Game over trigger from within render cycle? better to handle in nextQuestion logic or effect\n            // but nextQuestion logic above handles it via storage\n        }\n    }, [pool, currentQuestion, history.length]);\n\n    const handleHint = () => {\n        setShowHint(!showHint);\n    };\n\n    const handleSkip = () => {\n        if (!currentQuestion || showFeedback) return;\n\n        const expected =\n            settings.mode === 'toCountry'\n                ? currentQuestion.country\n                : currentQuestion.code;\n\n        const newHistory = [\n            ...history,\n            { cctld: currentQuestion, userAnswer: '', isCorrect: false },\n        ];\n        setHistory(newHistory);\n\n        setFeedbackMessage(`${expected}`);\n        setFeedbackColor(COLORS.data.amber);\n        setShowFeedback(true);\n        setTimeout(() => {\n            nextQuestion();\n        }, 3000);\n    };\n\n    const handleSubmit = (e?: React.FormEvent) => {\n        e?.preventDefault();\n        if (!currentQuestion || showFeedback) return;\n\n        let correct = false;\n        let expected = '';\n\n        if (settings.mode === 'toCountry') {\n            expected = currentQuestion.country;\n            correct = isSmartMatch(inputValue, expected);\n        } else {\n            expected = currentQuestion.code;\n            let input = inputValue.trim();\n            if (!input.startsWith('.')) input = '.' + input;\n            correct = normalize(input) === normalize(expected);\n        }\n\n        const newHistory = [\n            ...history,\n            {\n                cctld: currentQuestion,\n                userAnswer: inputValue,\n                isCorrect: correct,\n            },\n        ];\n        setHistory(newHistory);\n\n        const newScore = correct ? score + 1 : score;\n        setScore(newScore);\n\n        if (correct) {\n            setFeedbackMessage('Correct!');\n            setFeedbackColor(COLORS.data.green);\n            setShowFeedback(true);\n            setTimeout(() => {\n                nextQuestion();\n            }, 1000);\n        } else {\n            setFeedbackMessage(`${expected}`);\n            setFeedbackColor(COLORS.data.amber);\n            setShowFeedback(true);\n            setTimeout(() => {\n                nextQuestion();\n            }, 3000); // More time to read explanation if incorrect\n        }\n    };\n\n    if (!currentQuestion && pool.length > 0)\n        return <Typography>Loading...</Typography>;\n    if (!currentQuestion)\n        return <Typography>No questions found with these settings.</Typography>;\n\n    return (\n        <Box\n            sx={{\n                width: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                mt: 4,\n            }}\n        >\n            <Box sx={{ width: '100%', maxWidth: 600, mx: 'auto' }}>\n                <Box\n                    sx={{\n                        mb: 4,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        width: '100%',\n                        maxWidth: 600,\n                        mx: 'auto',\n                    }}\n                >\n                    <Box\n                        sx={{\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'center',\n                            mb: 1,\n                        }}\n                    >\n                        <Typography\n                            variant=\"caption\"\n                            color=\"textSecondary\"\n                            sx={{\n                                letterSpacing: '0.1em',\n                                textTransform: 'uppercase',\n                                fontWeight: 'bold',\n                                opacity: 0.6,\n                            }}\n                        >\n                            {settings.mode === 'toCountry'\n                                ? 'Guessing Country'\n                                : 'Guessing Code'}\n                        </Typography>\n                        <Button\n                            size=\"small\"\n                            variant=\"text\"\n                            startIcon={<ArrowBackIcon />}\n                            onClick={onBackToMenu}\n                            sx={{\n                                color: COLORS.text.secondary,\n                                opacity: 0.6,\n                                '&:hover': {\n                                    opacity: 1,\n                                    backgroundColor: 'transparent',\n                                    color: COLORS.primary.main,\n                                },\n                                fontSize: '0.75rem',\n                                textTransform: 'none',\n                                p: 0,\n                            }}\n                        >\n                            Quit Quiz\n                        </Button>\n                    </Box>\n                    <Box\n                        sx={{\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'baseline',\n                            mb: 1.5,\n                        }}\n                    >\n                        <Typography variant=\"h6\" sx={{ fontWeight: 'medium' }}>\n                            Question{' '}\n                            {Math.min(history.length + 1, totalQuestions)} of{' '}\n                            {totalQuestions}\n                        </Typography>\n                        <Typography\n                            variant=\"h5\"\n                            sx={{\n                                fontWeight: 'bold',\n                                color: COLORS.primary.main,\n                            }}\n                        >\n                            {score}{' '}\n                            <Typography\n                                component=\"span\"\n                                variant=\"caption\"\n                                color=\"textSecondary\"\n                                sx={{ fontWeight: 'normal' }}\n                            >\n                                PTS\n                            </Typography>\n                        </Typography>\n                    </Box>\n                    <LinearProgress\n                        variant=\"determinate\"\n                        value={\n                            (Math.min(history.length, totalQuestions) /\n                                totalQuestions) *\n                            100\n                        }\n                        sx={{\n                            height: 4,\n                            borderRadius: 2,\n                            backgroundColor: COLORS.interactive.hover,\n                            '& .MuiLinearProgress-bar': {\n                                borderRadius: 2,\n                                background: `linear-gradient(90deg, ${COLORS.primary.main}, ${COLORS.primary.light})`,\n                            },\n                        }}\n                    />\n                </Box>\n\n                <Card\n                    sx={{\n                        ...COMPONENT_VARIANTS.card,\n                        p: 4,\n                        pt: 6,\n                        mb: 4,\n                        minHeight: 360,\n                        width: '100%',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'flex-start',\n                        flexDirection: 'column',\n                    }}\n                >\n                    <Typography\n                        variant=\"body1\"\n                        color=\"textSecondary\"\n                        sx={{ mb: 2 }}\n                    >\n                        {settings.mode === 'toCountry'\n                            ? 'What country belongs to:'\n                            : 'What is the ccTLD for:'}\n                    </Typography>\n\n                    <Fade in key={currentQuestion.code}>\n                        <Typography\n                            variant=\"h1\"\n                            sx={{\n                                mb: 4,\n                                fontWeight: 'bold',\n                                textAlign: 'center',\n                            }}\n                        >\n                            {settings.mode === 'toCountry'\n                                ? currentQuestion.code\n                                : currentQuestion.country}\n                        </Typography>\n                    </Fade>\n\n                    <Box\n                        component=\"form\"\n                        onSubmit={handleSubmit}\n                        sx={{\n                            width: '100%',\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center',\n                        }}\n                    >\n                        <TextField\n                            value={inputValue}\n                            onChange={e => setInputValue(e.target.value)}\n                            placeholder={\n                                settings.mode === 'toCountry'\n                                    ? 'Type country name...'\n                                    : 'Type code (e.g. .us)...'\n                            }\n                            disabled={showFeedback}\n                            autoComplete=\"off\"\n                            sx={{\n                                input: {\n                                    textAlign: 'center',\n                                    fontSize: '1.2rem',\n                                },\n                                width: '100%',\n                                maxWidth: 450,\n                                '& .MuiOutlinedInput-root': {\n                                    '& fieldset': {\n                                        borderColor: COLORS.border.subtle,\n                                    },\n                                    '&:hover fieldset': {\n                                        borderColor: COLORS.primary.main,\n                                    },\n                                    '&.Mui-focused fieldset': {\n                                        borderColor: COLORS.primary.main,\n                                    },\n                                    '&.Mui-disabled fieldset': {\n                                        borderColor: `${COLORS.border.subtle} !important`,\n                                    },\n                                },\n                            }}\n                            variant=\"outlined\"\n                        />\n                        <Stack\n                            direction=\"row\"\n                            spacing={2}\n                            sx={{\n                                mt: 4,\n                                justifyContent: 'center',\n                                width: '100%',\n                                maxWidth: 450,\n                            }}\n                        >\n                            <Button\n                                variant=\"outlined\"\n                                sx={{\n                                    py: 1.5,\n                                    flex: 1,\n                                    borderColor: COLORS.border.subtle,\n                                    color: COLORS.text.secondary,\n                                    whiteSpace: 'nowrap',\n                                    '&.Mui-disabled': {\n                                        borderColor: COLORS.border.subtle,\n                                        opacity: 0.6,\n                                    },\n                                }}\n                                onClick={handleSkip}\n                                disabled={showFeedback}\n                            >\n                                Skip\n                            </Button>\n                            <Button\n                                variant=\"outlined\"\n                                onClick={handleHint}\n                                disabled={showFeedback}\n                                sx={{\n                                    py: 1.5,\n                                    flex: 1,\n                                    borderColor: COLORS.border.subtle,\n                                    whiteSpace: 'nowrap',\n                                    '&.Mui-disabled': {\n                                        borderColor: COLORS.border.subtle,\n                                        opacity: 0.6,\n                                    },\n                                }}\n                            >\n                                {showHint ? 'Hide Hint' : 'Show Hint'}\n                            </Button>\n                            <Button\n                                type=\"submit\"\n                                variant=\"contained\"\n                                sx={{\n                                    py: 1.5,\n                                    flex: 1,\n                                    whiteSpace: 'nowrap',\n                                    '&.Mui-disabled': {\n                                        backgroundColor:\n                                            'rgba(255, 255, 255, 0.05)',\n                                        color: 'rgba(255, 255, 255, 0.3)',\n                                        borderColor: 'transparent',\n                                    },\n                                }}\n                                disabled={!inputValue || showFeedback}\n                            >\n                                Submit\n                            </Button>\n                        </Stack>\n                    </Box>\n\n                    {showHint && !showFeedback && (\n                        <Fade in>\n                            <Box\n                                sx={{\n                                    mt: 3,\n                                    p: 2,\n                                    borderRadius: 1,\n                                    border: `1px dashed ${COLORS.primary.main}40`,\n                                    width: '100%',\n                                    maxWidth: 450,\n                                }}\n                            >\n                                <Typography\n                                    variant=\"body2\"\n                                    color=\"textSecondary\"\n                                    sx={{\n                                        textAlign: 'center',\n                                        fontStyle: 'italic',\n                                    }}\n                                >\n                                    Hint: {currentQuestion.language} origin\n                                </Typography>\n                            </Box>\n                        </Fade>\n                    )}\n\n                    {showFeedback && (\n                        <Fade in={showFeedback}>\n                            <Box sx={{ mt: 3, width: '100%' }}>\n                                <Typography\n                                    variant=\"h5\"\n                                    sx={{\n                                        color: feedbackColor,\n                                        fontWeight: 'bold',\n                                        textShadow: '0 0 20px rgba(0,0,0,0.5)',\n                                        mb: 1,\n                                        textAlign: 'center',\n                                    }}\n                                >\n                                    {feedbackMessage}\n                                </Typography>\n                                {!history[history.length - 1]?.isCorrect && (\n                                    <Typography\n                                        variant=\"body2\"\n                                        color=\"textSecondary\"\n                                        sx={{\n                                            fontStyle: 'italic',\n                                            textAlign: 'center',\n                                        }}\n                                    >\n                                        Origin:{' '}\n                                        {currentQuestion.origin_explanation}\n                                    </Typography>\n                                )}\n                            </Box>\n                        </Fade>\n                    )}\n                </Card>\n            </Box>\n        </Box>\n    );\n};\n\nconst CctldQuizPage: React.FC = () => {\n    const [gameState, setGameState] = useState<GameState>('menu');\n    const [settings, setSettings] = useState<QuizSettings>({\n        mode: 'toCountry',\n        allowRepeats: false,\n        filterLetter: '',\n        filterLanguage: 'All',\n        maxQuestions: 'All',\n    });\n    const [lastScore, setLastScore] = useState(0);\n    const [lastHistory, setLastHistory] = useState<Question[]>([]);\n\n    const handleStart = () => {\n        setGameState('playing');\n    };\n\n    const handleEndGame = (history: Question[], score: number) => {\n        setLastHistory(history);\n        setLastScore(score);\n        setGameState('summary');\n    };\n\n    const handleBackToMenu = () => {\n        setGameState('menu');\n    };\n\n    return (\n        <Grid\n            container\n            minHeight=\"100vh\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n            sx={{\n                background: COLORS.surface.background,\n                py: 8,\n                px: 2,\n                width: '100%',\n            }}\n        >\n            <Box\n                sx={{\n                    mb: 6,\n                    textAlign: 'center',\n                    width: '100%',\n                    maxWidth: 800,\n                    mx: 'auto',\n                    marginBottom: 0,\n                }}\n            >\n                <MuiGrid\n                    container={true}\n                    alignItems=\"center\"\n                    justifyContent=\"space-between\"\n                    sx={{ marginBottom: 4 }}\n                >\n                    <MuiGrid size=\"auto\">\n                        <Typography\n                            variant=\"h1\"\n                            sx={{\n                                color: COLORS.text.primary,\n                                fontWeight: TYPOGRAPHY.fontWeight.bold,\n                                fontSize: TYPOGRAPHY.fontSize.h2,\n                            }}\n                        >\n                            ccTLD Mastery\n                        </Typography>\n                    </MuiGrid>\n                    <MuiGrid size=\"auto\" sx={{ display: 'flex', gap: 1 }}>\n                        <IconButton\n                            href=\"https://en.wikipedia.org/wiki/Country_code_top-level_domain\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            <InfoIcon\n                                sx={{\n                                    fontSize: {\n                                        xs: TYPOGRAPHY.fontSize.h2,\n                                        md: '2rem',\n                                    },\n                                }}\n                            />\n                        </IconButton>\n                        <IconButton component=\"a\" href=\"/\">\n                            <HomeIcon\n                                sx={{\n                                    fontSize: {\n                                        xs: TYPOGRAPHY.fontSize.h2,\n                                        md: '2rem',\n                                    },\n                                }}\n                            />\n                        </IconButton>\n                    </MuiGrid>\n                </MuiGrid>\n\n                <Typography\n                    variant=\"h5\"\n                    sx={{\n                        color: COLORS.text.secondary,\n                        marginTop: 2,\n                        marginBottom: 4,\n                        fontWeight: TYPOGRAPHY.fontWeight.normal,\n                        fontSize: TYPOGRAPHY.fontSize.subheading,\n                    }}\n                >\n                    Test your knowledge of Internet country codes\n                </Typography>\n            </Box>\n\n            {gameState === 'menu' && (\n                <Fade in>\n                    <Box\n                        sx={{\n                            width: '100%',\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center',\n                        }}\n                    >\n                        <SettingsPanel\n                            settings={settings}\n                            onUpdate={setSettings}\n                            onStart={handleStart}\n                        />\n                        <Box\n                            sx={{\n                                display: 'flex',\n                                justifyContent: 'center',\n                                mt: 2,\n                            }}\n                        >\n                            <Button\n                                variant=\"contained\"\n                                size=\"large\"\n                                onClick={handleStart}\n                                sx={{\n                                    px: 8,\n                                    py: 1.5,\n                                    fontSize: '1.2rem',\n                                    borderRadius: SPACING.borderRadius.full,\n                                    fontWeight: 'bold',\n                                    letterSpacing: '0.05em',\n                                }}\n                            >\n                                Start Quiz\n                            </Button>\n                        </Box>\n                    </Box>\n                </Fade>\n            )}\n\n            {gameState === 'playing' && (\n                <QuizGame\n                    settings={settings}\n                    onEndGame={handleEndGame}\n                    onBackToMenu={handleBackToMenu}\n                />\n            )}\n\n            {gameState === 'summary' && (\n                <Fade in>\n                    <Box\n                        sx={{\n                            width: '100%',\n                            maxWidth: 600,\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center',\n                            mx: 'auto',\n                        }}\n                    >\n                        <Card\n                            sx={{\n                                ...COMPONENT_VARIANTS.card,\n                                p: 4,\n                                mb: 4,\n                                width: '100%',\n                            }}\n                        >\n                            <Typography variant=\"h4\" sx={{ mb: 2 }}>\n                                Quiz Complete!\n                            </Typography>\n                            <Typography\n                                variant=\"h2\"\n                                sx={{ color: COLORS.primary.main, mb: 4 }}\n                            >\n                                {lastScore} / {lastHistory.length}\n                            </Typography>\n\n                            <Box\n                                sx={{\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                    gap: 2,\n                                }}\n                            >\n                                <Button\n                                    variant=\"outlined\"\n                                    startIcon={<RefreshIcon />}\n                                    onClick={handleStart}\n                                >\n                                    Play Again\n                                </Button>\n                                <Button\n                                    variant=\"text\"\n                                    startIcon={<ArrowBackIcon />}\n                                    onClick={handleBackToMenu}\n                                >\n                                    Menu\n                                </Button>\n                            </Box>\n                        </Card>\n\n                        <Typography\n                            variant=\"h6\"\n                            align=\"left\"\n                            sx={{ mb: 2, width: '100%' }}\n                        >\n                            History\n                        </Typography>\n                        <Stack\n                            spacing={2}\n                            sx={{\n                                maxHeight: 400,\n                                overflow: 'auto',\n                                pr: 1,\n                                width: '100%',\n                            }}\n                        >\n                            {lastHistory.map((q, i) => (\n                                <Card\n                                    key={i}\n                                    sx={{\n                                        p: 2,\n                                        display: 'flex',\n                                        justifyContent: 'space-between',\n                                        alignItems: 'center',\n                                        bgcolor: q.isCorrect\n                                            ? 'rgba(76, 175, 80, 0.05)'\n                                            : 'rgba(239, 83, 80, 0.05)',\n                                    }}\n                                >\n                                    <Box textAlign=\"left\">\n                                        <Typography\n                                            variant=\"body1\"\n                                            fontWeight=\"bold\"\n                                        >\n                                            {settings.mode === 'toCountry'\n                                                ? q.cctld.code\n                                                : q.cctld.country}\n                                        </Typography>\n                                        <Typography\n                                            variant=\"body2\"\n                                            color=\"textSecondary\"\n                                        >\n                                            Ans:{' '}\n                                            {settings.mode === 'toCountry'\n                                                ? q.cctld.country\n                                                : q.cctld.code}\n                                        </Typography>\n                                        {!q.isCorrect && (\n                                            <Typography\n                                                variant=\"caption\"\n                                                sx={{\n                                                    fontStyle: 'italic',\n                                                    display: 'block',\n                                                    mt: 0.5,\n                                                    opacity: 0.8,\n                                                }}\n                                            >\n                                                Origin:{' '}\n                                                {q.cctld.origin_explanation}\n                                            </Typography>\n                                        )}\n                                    </Box>\n                                    <Box textAlign=\"right\">\n                                        <Typography\n                                            variant=\"body2\"\n                                            sx={{\n                                                color: q.isCorrect\n                                                    ? COLORS.data.green\n                                                    : COLORS.data.amber,\n                                                fontWeight: q.isCorrect\n                                                    ? 'normal'\n                                                    : 'bold',\n                                            }}\n                                        >\n                                            {q.userAnswer || '(skipped)'}\n                                        </Typography>\n                                        {q.isCorrect ? (\n                                            <CheckCircleIcon\n                                                fontSize=\"small\"\n                                                color=\"success\"\n                                                sx={{ mt: 0.5 }}\n                                            />\n                                        ) : (\n                                            <CancelIcon\n                                                fontSize=\"small\"\n                                                color=\"error\"\n                                                sx={{ mt: 0.5 }}\n                                            />\n                                        )}\n                                    </Box>\n                                </Card>\n                            ))}\n                        </Stack>\n                    </Box>\n                </Fade>\n            )}\n        </Grid>\n    );\n};\n\nexport default CctldQuizPage;\n","import { ROUTES } from '../config/constants';\n\nexport { default as Home } from './Home';\nexport { default as Error } from './Error';\nexport { default as Snake } from './Snake';\nexport { default as Lights_Out } from './Lights/LightsOut';\nexport { default as ZSharp } from './ZSharp';\nexport { default as Oligopoly } from './Oligopoly';\nexport { default as Interpreters } from './Interpreters';\nexport { default as CCTLDQuiz } from './CctldQuizPage';\n\nexport const pages = ROUTES.pages;\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { useMediaQuery } from './components/mui';\nimport { PROCESSING } from './config/constants';\n\ninterface Size {\n    width: number;\n    height: number;\n}\n\ninterface RefObject<T> {\n    current: T | null;\n}\n\nfunction getWindow(): Size {\n    const { innerWidth: width, innerHeight: height } = window;\n\n    return { width, height };\n}\n\nfunction getContainer(container: RefObject<HTMLElement> | null): Size {\n    if (!container || !container.current) return getWindow();\n\n    const { offsetHeight: height, offsetWidth: width } = container.current;\n\n    return { width, height };\n}\n\nfunction useSize(getSize: () => Size) {\n    const [size, setSize] = useState<Size>(getSize());\n\n    const { addEventListener: addEvent, removeEventListener: removeEvent } =\n        window;\n\n    useEffect(() => {\n        function handleResize() {\n            setSize(getSize());\n        }\n\n        addEvent('resize', handleResize);\n\n        return () => removeEvent('resize', handleResize);\n    }, [getSize, addEvent, removeEvent]);\n\n    return { size, setSize };\n}\n\nexport function useContainer(container: RefObject<HTMLElement> | null): Size {\n    const initialSize = getContainer(container);\n    const [size, setSize] = useState<Size>(initialSize);\n    const prevSizeRef = useRef<Size>(initialSize);\n\n    useEffect(() => {\n        const newSize = getContainer(container);\n        // Only update if values actually changed\n        if (\n            newSize.width !== prevSizeRef.current.width ||\n            newSize.height !== prevSizeRef.current.height\n        ) {\n            prevSizeRef.current = newSize;\n            setSize(newSize);\n        }\n    }, [container]);\n\n    useEffect(() => {\n        function handleResize() {\n            const newSize = getContainer(container);\n            setSize(prevSize => {\n                // Only update if values actually changed\n                if (\n                    newSize.width !== prevSize.width ||\n                    newSize.height !== prevSize.height\n                ) {\n                    return newSize;\n                }\n                return prevSize;\n            });\n        }\n\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, [container]);\n\n    return size;\n}\n\nexport function useWindow(): Size {\n    const { size } = useSize(getWindow);\n\n    return size;\n}\n\nexport function useMobile(size: string): boolean {\n    return useMediaQuery((theme: unknown) => {\n        const muiTheme = theme as {\n            breakpoints: { down: (size: string) => string };\n        };\n        return muiTheme.breakpoints.down(size);\n    });\n}\n\n// Global timer reference to handle React StrictMode multiple instances\nlet globalTimer: NodeJS.Timeout | null = null;\nlet globalRepeat: (() => void) | null = null;\nlet globalSpeed = 200;\n\ninterface TimerConfig {\n    repeat?: (() => void) | null;\n    speed?: number;\n}\n\nexport function useTimer(delay: number) {\n    const repeat = useRef<(() => void) | null>(null);\n    const speed = useRef<number>(delay);\n\n    const create = useCallback(\n        ({ repeat: newRepeat, speed: newSpeed }: TimerConfig) => {\n            // Clear any existing timer first\n            if (globalTimer !== null) {\n                clearInterval(globalTimer);\n            }\n\n            globalRepeat = newRepeat || globalRepeat;\n            globalSpeed = newSpeed || globalSpeed;\n            repeat.current = globalRepeat;\n            speed.current = globalSpeed;\n\n            // Only create timer if we have a valid repeat function\n            if (globalRepeat) {\n                globalTimer = setInterval(globalRepeat, globalSpeed);\n            }\n        },\n        []\n    );\n\n    const clear = useCallback(() => {\n        if (globalTimer !== null) {\n            clearInterval(globalTimer);\n            globalTimer = null;\n        }\n    }, []);\n\n    useEffect(() => {\n        return () => {\n            if (globalTimer !== null) {\n                clearInterval(globalTimer);\n                globalTimer = null;\n            }\n        };\n    }, []);\n\n    return { create, clear };\n}\n\nexport function useKeys() {\n    const oldHandler = useRef<((event: KeyboardEvent) => void) | null>(null);\n\n    const create = useCallback((handler: (event: KeyboardEvent) => void) => {\n        oldHandler.current = handler;\n\n        document.addEventListener('keydown', handler);\n    }, []);\n\n    const clear = useCallback((handler?: (event: KeyboardEvent) => void) => {\n        const targetHandler = handler || oldHandler.current;\n\n        if (targetHandler) {\n            document.removeEventListener('keydown', targetHandler);\n        }\n    }, []);\n\n    useEffect(() => {\n        return () => {\n            if (oldHandler.current) {\n                document.removeEventListener('keydown', oldHandler.current);\n            }\n        };\n    }, []);\n\n    return { create, clear };\n}\n\ninterface CacheAction {\n    type: 'next' | 'prev' | 'clear';\n    payload: unknown;\n}\n\nexport function useCache(getState: (state: unknown) => unknown) {\n    const cache = useRef<unknown[]>([]);\n    const index = useRef<number>(0);\n    const processingRef = useRef<boolean>(false);\n    const getStateRef = useRef(getState);\n\n    // Update the ref whenever getState changes\n    useEffect(() => {\n        getStateRef.current = getState;\n    }, [getState]);\n\n    return useCallback(({ type, payload }: CacheAction): unknown => {\n        const states = cache.current;\n\n        switch (type) {\n            case 'next':\n                // Prevent double processing in React StrictMode\n                if (\n                    PROCESSING.doubleProcessingPrevention &&\n                    processingRef.current\n                ) {\n                    return { ...(states[index.current] as object) };\n                }\n\n                if (PROCESSING.doubleProcessingPrevention) {\n                    processingRef.current = true;\n                }\n\n                const curr = index.current;\n\n                if (curr + 1 === states.length) {\n                    const state = states[curr];\n                    const next = getStateRef.current(state);\n\n                    if (next === state) {\n                        // No change, stay at current position\n                    } else {\n                        // Add new state and move to it\n                        states.push(next);\n                        index.current++;\n                    }\n                } else {\n                    index.current++;\n                }\n\n                const result = { ...(states[index.current] as object) };\n\n                // Reset processing flag after a short delay\n                if (PROCESSING.doubleProcessingPrevention) {\n                    setTimeout(() => {\n                        processingRef.current = false;\n                    }, PROCESSING.resetDelay);\n                }\n\n                return result;\n            case 'prev':\n                // Prevent double processing in React StrictMode\n                if (\n                    PROCESSING.doubleProcessingPrevention &&\n                    processingRef.current\n                ) {\n                    return { ...(states[index.current] as object) };\n                }\n\n                if (PROCESSING.doubleProcessingPrevention) {\n                    processingRef.current = true;\n                }\n\n                if (index.current) index.current--;\n\n                const prevResult = { ...(states[index.current] as object) };\n\n                // Reset processing flag after a short delay\n                if (PROCESSING.doubleProcessingPrevention) {\n                    setTimeout(() => {\n                        processingRef.current = false;\n                    }, PROCESSING.resetDelay);\n                }\n\n                return prevResult;\n            case 'clear':\n                cache.current = [{ ...(payload as object) }];\n                index.current = 0;\n\n                break;\n            default:\n                break;\n        }\n\n        return payload;\n    }, []);\n}\n"],"names":["Section","_ref","children","id","paddingY","SPACING","padding","lg","paddingX","maxWidth","props","_objectWithoutProperties","_excluded","_jsx","Container","_objectSpread","sx","Box","margin","HeroContainer","_ref3","paddingBottom","_excluded3","flex","COMPONENT_VARIANTS","flexCenter","paddingTop","xs","sm","md","overflowX","PROJECT_CATEGORIES","research","title","icon","Psychology","color","COLORS","data","green","projects","ZSharp","path","description","technology","Oligopoly","games","GamepadRounded","primary","main","Snake","Lights_Out","CCTLD_Quiz","tools","Code","amber","Interpreters","ProjectDropdown","Object","entries","map","categoryKey","category","IconComponent","_jsxs","marginBottom","display","alignItems","gap","position","content","bottom","left","right","height","backgroundColor","fontSize","opacity","Typography","fontWeight","textTransform","letterSpacing","fontFamily","_ref2","projectName","project","MenuItem","component","Link","to","borderRadius","minHeight","transition","flexDirection","transform","outline","ring","ringOffset","lineHeight","replace","MenuButton","anchor","setAnchor","useState","handleClick","event","currentTarget","clickHandler","handleClose","closeHandler","open","Boolean","define","value","undefined","TooltipButton","Icon","ViewModuleRounded","onClick","interactive","hover","Menu","anchorEl","disableAutoFocusItem","BackdropProps","backdropFilter","marginLeft","marginTop","width","border","boxShadow","onClose","MenuListProps","transformOrigin","horizontal","vertical","anchorOrigin","Home","useEffect","document","PAGE_TITLES","home","Grid","container","background","surface","boxSizing","top","zIndex","justifyContent","href","URLS","githubProfile","target","rel","GitHub","spacing","size","Fade","in","timeout","TYPOGRAPHY","body","semibold","text","bold","wordBreak","hyphens","PERSONAL_INFO","name","secondary","LocationOn","medium","location","flexWrap","element","getElementById","scrollIntoView","behavior","block","inline","selected","full","ANIMATIONS","cursor","ArrowForward","GlassCard","subheading","gridTemplateColumns","SKILLS","skill","index","ICON_MAP","Work","minWidth","overflow","whiteSpace","textOverflow","flexShrink","Button","variant","startIcon","textDecoration","endIcon","h2","textAlign","PUBLICATIONS","publication","url","interactiveCard","caption","OpenInNew","conference","PROJECTS","Error","error","concat","HomeButton","getRandom","max","Math","floor","random","mapBoard","board","change","newBoard","cell","handleResize","state","rows","cols","head","next","length","reduceBoard","velocity","buffer","gridMove","exclude","pos","addNext","first","rest","handleAction","action","type","payload","getDirection","key","create","createTimer","useTimer","createKeys","useKeys","useWindow","GAME_CONSTANTS","snake","initialLength","segmentSize","randomMovesEnabled","setRandomMovesEnabled","randomMovesRef","useRef","showArrows","setShowArrows","useMemo","convertPixels","initial","initialVelocity","dispatch","useReducer","controlHandler","useCallback","controls","arrowPrefix","chooseColor","row","col","dark","repeat","wrapDispatch","current","speed","CustomGrid","cellProps","Controls","handler","onRandom","randomEnabled","hide","ArrowsButton","show","setShow","Board","frontProps","backProps","Centered","space","useGetters","getTile","palette","getColor","front","back","getBorder","self","upCheck","downCheck","leftCheck","rightCheck","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","borderHandler","getFiller","topLeft","topRight","botLeft","botRight","total","Number","fillerHandler","getGrid","Array","fill","flipAdj","grid","newGrid","randomize","r","c","solverCache","getNextMove","lastRow","some","solution","i","topRowIndices","push","bottomStr","join","currentBottomStr","solveLastRow","handleBoard","moves","score","auto","flat","flatMap","includes","forEach","m","newRows","newCols","countBits","num","count","multiplySym","matrixA","matrixB","output","rowA","outputRow","getIdentity","symmetricPow","matrix","power","k","addSym","sortMatrices","identity","sorted","keys","sort","a","b","getProduct","input","getMatrix","product","poly","degree","evalPolynomial","curr","prev","double","getPolynomial","inverse","original","inverted","pow","alt","invertMatrix","binary","parseInt","chaseLights","states","dims","newStates","at","fillRow","blank","inputStates","outputStates","last","extendBack","extend","getStates","boardStates","before","unshift","after","propHandler","getter","frames","percent","getFrames","animation","getRange","rowTiles","dRange","lRange","Bifold","Title","Example","start","mobile","useMobile","boardTiles","gridTiles","inputTiles","outputTiles","getRow","s","getBoard","getInput","getOutput","TypedGlassCard","useHandler","Info","toggleOpen","isMobile","isLargeScreen","setRow","newRow","res","inputGetters","outputGetters","inputProps","getters","toggleTile","style","CircleRounded","stopPropagation","outputProps","Backdrop","card","maxHeight","mx","subtle","pt","pb","px","gutterBottom","mb","KeyboardArrowDown","mr","ml","Calculate","Replay","getFrontProps","LightsOut","gridSizes","desktop","lightsOut","moveQueue","setMoveQueue","React","setTimeout","nextMove","remaining","clearTimeout","PauseRounded","PlayArrowRounded","RandomButton","InfoRounded","_viewTypes$find","_viewTypes$find2","subtitle","githubUrl","chartData","chartConfig","lines","xAxisKey","yAxisFormatter","toFixed","yAxisDomain","dualYAxis","rightYAxisFormatter","rightYAxisDomain","tooltipLabelFormatter","tooltipFormatter","viewTypes","currentViewType","onViewTypeChange","loading","loadingMessage","onReset","resetLabel","chartTitle","currentData","getCurrentChartData","currentView","find","view","dataProcessor","currentChartConfig","IconButton","normal","CHART_DIMENSIONS","ResponsiveContainer","LineChart","CartesianGrid","strokeDasharray","CHART_FORMATTING","strokeDashArray","stroke","XAxis","dataKey","tick","YAxis","yAxisId","tickFormatter","domain","orientation","RechartsTooltip","contentStyle","labelFormatter","formatter","line","Line","strokeWidth","dot","defaultStrokeWidth","dotRadius","SettingsRounded","light","min","viewType","borderColor","borderWidth","borderStyle","label","Refresh","control","ToggleButtonGroup","exclusive","onChange","e","newValue","borderLeft","hoverColor","options","option","ToggleButton","generateFallbackData","ZSHARP_DEFAULTS","maxEpochs","sgdAccuracy","baseAccuracy","maxAccuracy","zsharpAccuracy","improvement","sgdLoss","baseLoss","minLoss","zsharpLoss","lossReduction","epoch","sgd","zsharp","setChartData","setLoading","setViewType","async","_realData$SGDBaselin","_realData$ZSharp","_realData$SGDBaselin2","_realData$ZSharp2","DecompressionStream","response","fetch","ok","status","compressedData","arrayBuffer","decompressedData","Response","ReadableStream","controller","decompressionStream","writer","writable","getWriter","reader","readable","getReader","write","then","close","pump","read","done","enqueue","realData","JSON","parse","sgdAccuracies","train_accuracies","zsharpAccuracies","sgdLosses","train_losses","zsharpLosses","PERCENTAGE","divisor","loadRealZSharpData","console","loadData","BarChartRounded","multiplier","TrendingUpRounded","point","ShowChartRounded","AnalyticsRounded","prevPoint","ResearchDemo","zsharpRepo","filterMatrixData","matrixData","numFirms","modelType","demandElasticity","basePrice","collusionEnabled","generateFallbackOligopolyData","filtered","filter","item","num_firms","model_type","demand_elasticity","base_price","collusion_enabled","round","slice","oligopoly","maxRounds","sim","simulation","price","fallbackPrice","sin","priceFrequency","priceAmplitude","hhi","fallbackHHI","hhiFrequency","hhiAmplitude","collusion","collusionStart","collusionEnd","setNumFirms","defaultFirms","setDemandElasticity","defaultElasticity","setBasePrice","defaultBasePrice","marketData","setMarketData","setMatrixData","modelTypes","cournot","isArray","loadRealSimulationMatrix","initialData","filteredData","BusinessRounded","AttachMoneyRounded","oligopolyRepo","resetToDefaults","interpreters","TextFields","GridView","direction","esolangsRepo","interpreter","wordWrap","overflowWrap","LANGUAGES","from","Set","cctldsData","language","normalize","l","str","toLowerCase","trim","SettingsPanel","settings","onUpdate","onStart","commonSelectProps","MenuProps","Card","p","FormControl","fullWidth","InputLabel","Select","mode","filterLanguage","lang","TextField","filterLetter","helperText","InputLabelProps","onKeyDown","maxQuestions","QuizGame","_history","onEndGame","onBackToMenu","history","setHistory","currentQuestion","setCurrentQuestion","inputValue","setInputValue","showFeedback","setShowFeedback","feedbackMessage","setFeedbackMessage","feedbackColor","setFeedbackColor","pool","setPool","totalQuestions","setTotalQuestions","showHint","setShowHint","setScore","historyRef","scoreRef","letters","split","code","country","startsWith","shuffled","nextQuestion","prevPool","mt","ArrowBackIcon","LinearProgress","onSubmit","preventDefault","correct","expected","isSmartMatch","_aliases$ne","ni","ne","newHistory","cctld","userAnswer","isCorrect","placeholder","disabled","autoComplete","Stack","py","handleSkip","handleHint","fontStyle","textShadow","origin_explanation","CctldQuizPage","gameState","setGameState","setSettings","allowRepeats","lastScore","setLastScore","lastHistory","setLastHistory","handleStart","handleBackToMenu","MuiGrid","InfoIcon","HomeIcon","handleEndGame","RefreshIcon","align","pr","q","bgcolor","CheckCircleIcon","CancelIcon","ROUTES","pages","getWindow","innerWidth","innerHeight","window","getContainer","offsetHeight","offsetWidth","useContainer","initialSize","setSize","prevSizeRef","newSize","prevSize","addEventListener","removeEventListener","getSize","addEvent","removeEvent","useSize","useMediaQuery","theme","breakpoints","down","globalTimer","globalRepeat","globalSpeed","delay","newRepeat","newSpeed","clearInterval","setInterval","clear","oldHandler","targetHandler","useCache","getState","cache","processingRef","getStateRef","PROCESSING","doubleProcessingPrevention","result","resetDelay","prevResult"],"sourceRoot":""}