bun test v1.3.9 (cf6cdbbb)

src/__tests__/utils.test.tsx:
(pass) Test Utilities > createTestTheme > creates a valid Material-UI theme [0.64ms]
(pass) Test Utilities > createTestTheme > creates theme with correct color palette [0.29ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:44:13)
(fail) Test Utilities > TestWrapper > renders children with theme provider [0.94ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:57:13)
(fail) Test Utilities > TestWrapper > accepts custom theme [0.50ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:67:13)
(fail) Test Utilities > TestWrapper > provides router context [0.15ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:80:13)
(fail) Test Utilities > renderWithProviders > renders component with providers [0.45ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:89:13)
(fail) Test Utilities > renderWithProviders > accepts custom theme option [0.41ms]
91 |             expect(screen.getByTestId('mock-component')).toBeInTheDocument();
92 |         });
93 | 
94 |         test('passes through render options', () => {
95 |             renderWithProviders(<MockComponent />, {
96 |                 container: document.body,
                                ^
ReferenceError: document is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:96:28)
(fail) Test Utilities > renderWithProviders > passes through render options [0.12ms]
(pass) Test Utilities > mockData > provides valid ZSharp data structure [0.03ms]
(pass) Test Utilities > mockData > provides valid Oligopoly data structure [0.12ms]
(pass) Test Utilities > mockData > has correct data types [0.03ms]
(pass) Test Utilities > mockFetchResponses > success response returns valid structure [0.19ms]
(pass) Test Utilities > mockFetchResponses > error response rejects with error [0.04ms]
(pass) Test Utilities > mockFetchResponses > success response encodes data correctly [0.16ms]
162 | 
163 |     describe('testUtils', () => {
164 |         test('createMockFunction returns vitest mock', () => {
165 |             const mockFn = testUtils.createMockFunction();
166 | 
167 |             expect(vi.isMockFunction(mockFn)).toBe(true);
                            ^
TypeError: vi.isMockFunction is not a function. (In 'vi.isMockFunction(mockFn)', 'vi.isMockFunction' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:167:23)
(fail) Test Utilities > testUtils > createMockFunction returns vitest mock [0.08ms]
169 | 
170 |         test('suppressConsoleWarnings suppresses console methods', () => {
171 |             const restore = testUtils.suppressConsoleWarnings();
172 | 
173 |             // Console methods should be mocked
174 |             expect(vi.isMockFunction(console.warn)).toBe(true);
                            ^
TypeError: vi.isMockFunction is not a function. (In 'vi.isMockFunction(console.warn)', 'vi.isMockFunction' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:174:23)
(fail) Test Utilities > testUtils > suppressConsoleWarnings suppresses console methods [0.08ms]
(pass) Test Utilities > testUtils > suppressConsoleWarnings allows calling console methods [0.04ms]
(pass) Test Utilities > testDataGenerators > generateChartData creates array of correct length [0.05ms]
(pass) Test Utilities > testDataGenerators > generateChartData creates valid data structure [0.02ms]
(pass) Test Utilities > testDataGenerators > generateChartData uses default length [0.05ms]
(pass) Test Utilities > testDataGenerators > generateUserData creates valid user object
(pass) Test Utilities > testDataGenerators > generateUserData accepts overrides [0.06ms]
(pass) Test Utilities > testDataGenerators > generateUserData handles empty overrides
257 |             const userData = testDataGenerators.generateUserData({
258 |                 name: 'Integration Test',
259 |             });
260 | 
261 |             expect(theme).toBeDefined();
262 |             expect(vi.isMockFunction(mockFn)).toBe(true);
                            ^
TypeError: vi.isMockFunction is not a function. (In 'vi.isMockFunction(mockFn)', 'vi.isMockFunction' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:262:23)
(fail) Test Utilities > Integration Tests > all utilities work together [0.30ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/__tests__/utils.test.tsx:274:13)
(fail) Test Utilities > Integration Tests > renderWithProviders works with mock data [0.23ms]
(pass) Test Utilities > Integration Tests > mock fetch responses work with async operations [0.07ms]
(pass) Test Utilities > Error Handling > handles invalid chart data length
(pass) Test Utilities > Error Handling > handles negative chart data length
(pass) Test Utilities > Error Handling > handles null overrides in generateUserData

src/utils/__tests__/DSU.test.ts:
(pass) DSU > should initialize with each element as its own parent [0.77ms]
(pass) DSU > should unite sets and find the same root [0.05ms]
(pass) DSU > should return false when uniting elements already in the same set
(pass) DSU > should correctly report "connected" status [0.08ms]
(pass) DSU > should throw error for out of bounds access [0.07ms]
(pass) DSU > should implement path compression [0.02ms]

src/utils/__tests__/objectUtils.test.ts:
(pass) mergeDefaults > returns defaults when overrides is empty
(pass) mergeDefaults > applies defined overrides on top of defaults
(pass) mergeDefaults > drops undefined values so they do not clobber defaults
(pass) mergeDefaults > preserves explicit null overrides
(pass) mergeDefaults > preserves explicit falsy overrides (0, empty string, false)

src/utils/__tests__/muiUtils.test.ts:
(pass) muiUtils > toSxArray > should return empty array for undefined
(pass) muiUtils > toSxArray > should wrap object in array [0.44ms]
(pass) muiUtils > toSxArray > should return the same array if already an array

src/utils/__tests__/gameUtils.test.ts:
(pass) gameUtils > getPosKey > should return correct key for given coordinates
(pass) gameUtils > createGameReducer > should handle custom actions via customHandler
(pass) gameUtils > createGameReducer > should handle resize action
(pass) gameUtils > createGameReducer > should handle new/next/reset actions
(pass) gameUtils > createGameReducer > should handle restore/hydrate actions
(pass) gameUtils > createGameReducer > should return current state for unknown actions
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/utils/__tests__/gameUtils.test.ts:89:42)
(fail) gameUtils > useCellFactory > should return memoized cell factory [0.03ms]
(pass) gameUtils > createGameReducer - edge cases > should handle partial resize properties
(pass) gameUtils > createGameReducer - edge cases > should return state for resize without props
(pass) gameUtils > createGameReducer - edge cases > should return state for restore/hydrate without state prop
(pass) gameUtils > createGameReducer - edge cases > should work without customHandler

src/hooks/__tests__/useThemePreference.test.ts:
 5 | 
 6 | describe('useThemePreference', () => {
 7 |     let matchMediaListeners: ((e: { matches: boolean }) => void)[];
 8 | 
 9 |     beforeEach(() => {
10 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useThemePreference.test.ts:10:9)
(fail) useThemePreference > defaults to system mode [0.10ms]
 5 | 
 6 | describe('useThemePreference', () => {
 7 |     let matchMediaListeners: ((e: { matches: boolean }) => void)[];
 8 | 
 9 |     beforeEach(() => {
10 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useThemePreference.test.ts:10:9)
(fail) useThemePreference > resolves system mode based on matchMedia [0.04ms]
 5 | 
 6 | describe('useThemePreference', () => {
 7 |     let matchMediaListeners: ((e: { matches: boolean }) => void)[];
 8 | 
 9 |     beforeEach(() => {
10 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useThemePreference.test.ts:10:9)
(fail) useThemePreference > toggles through light -> dark -> system -> light [0.05ms]
 5 | 
 6 | describe('useThemePreference', () => {
 7 |     let matchMediaListeners: ((e: { matches: boolean }) => void)[];
 8 | 
 9 |     beforeEach(() => {
10 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useThemePreference.test.ts:10:9)
(fail) useThemePreference > persists mode to localStorage [0.05ms]
 5 | 
 6 | describe('useThemePreference', () => {
 7 |     let matchMediaListeners: ((e: { matches: boolean }) => void)[];
 8 | 
 9 |     beforeEach(() => {
10 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useThemePreference.test.ts:10:9)
(fail) useThemePreference > restores mode from localStorage [0.03ms]
 5 | 
 6 | describe('useThemePreference', () => {
 7 |     let matchMediaListeners: ((e: { matches: boolean }) => void)[];
 8 | 
 9 |     beforeEach(() => {
10 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useThemePreference.test.ts:10:9)
(fail) useThemePreference > updates data-theme attribute on document [0.06ms]

src/hooks/__tests__/useMobileContext.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useMobileContext.test.tsx:26:28)
(fail) MobileProvider / useMobileContext > provides sm and md breakpoint flags [1.00ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useMobileContext.test.tsx:37:28)
(fail) MobileProvider / useMobileContext > returns false for both when viewport is large
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useMobileContext.test.tsx:48:28)
(fail) MobileProvider / useMobileContext > returns true for both when viewport is very small
52 |     });
53 | 
54 |     it('throws when used outside MobileProvider', () => {
55 |         expect(() => {
56 |             renderHook(() => useMobileContext());
57 |         }).toThrow('useMobileContext must be used within a MobileProvider');
                ^
error: expect(received).toThrow(expected)

Expected substring: "useMobileContext must be used within a MobileProvider"
Received message: "document is not defined"

      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useMobileContext.test.tsx:57:12)
(fail) MobileProvider / useMobileContext > throws when used outside MobileProvider [0.34ms]

src/hooks/__tests__/useStableCallback.test.ts:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useStableCallback.test.ts:9:38)
(fail) useStableCallback > returns a function with stable identity across renders [0.19ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useStableCallback.test.ts:21:38)
(fail) useStableCallback > always delegates to the latest callback version
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useStableCallback.test.ts:35:28)
(fail) useStableCallback > forwards all arguments to the underlying callback
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useStableCallback.test.ts:45:38)
(fail) useStableCallback > returns the latest callback value even after many re-renders [0.27ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useStableCallback.test.ts:58:38)
(fail) useStableCallback > preserves identity when callback changes on every render

src/hooks/__tests__/useTheme.test.tsx:
 8 |     let matchMediaSpy: MockInstance;
 9 |     let addListener: Mock;
10 |     let removeListener: Mock;
11 | 
12 |     beforeEach(() => {
13 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:13:9)
29 |                 dispatchEvent: vi.fn(),
30 |             }));
31 |     });
32 | 
33 |     afterEach(() => {
34 |         matchMediaSpy.mockRestore();
             ^
TypeError: undefined is not an object (evaluating 'matchMediaSpy.mockRestore')
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:34:9)
(fail) useTheme (ThemeProvider and useThemeContext) > initializes with system mode and light resolvedMode if system is light
 8 |     let matchMediaSpy: MockInstance;
 9 |     let addListener: Mock;
10 |     let removeListener: Mock;
11 | 
12 |     beforeEach(() => {
13 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:13:9)
29 |                 dispatchEvent: vi.fn(),
30 |             }));
31 |     });
32 | 
33 |     afterEach(() => {
34 |         matchMediaSpy.mockRestore();
             ^
TypeError: undefined is not an object (evaluating 'matchMediaSpy.mockRestore')
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:34:9)
(fail) useTheme (ThemeProvider and useThemeContext) > initializes with dark resolvedMode if system is dark
 8 |     let matchMediaSpy: MockInstance;
 9 |     let addListener: Mock;
10 |     let removeListener: Mock;
11 | 
12 |     beforeEach(() => {
13 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:13:9)
29 |                 dispatchEvent: vi.fn(),
30 |             }));
31 |     });
32 | 
33 |     afterEach(() => {
34 |         matchMediaSpy.mockRestore();
             ^
TypeError: undefined is not an object (evaluating 'matchMediaSpy.mockRestore')
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:34:9)
(fail) useTheme (ThemeProvider and useThemeContext) > initializes from localStorage
 8 |     let matchMediaSpy: MockInstance;
 9 |     let addListener: Mock;
10 |     let removeListener: Mock;
11 | 
12 |     beforeEach(() => {
13 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:13:9)
29 |                 dispatchEvent: vi.fn(),
30 |             }));
31 |     });
32 | 
33 |     afterEach(() => {
34 |         matchMediaSpy.mockRestore();
             ^
TypeError: undefined is not an object (evaluating 'matchMediaSpy.mockRestore')
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:34:9)
(fail) useTheme (ThemeProvider and useThemeContext) > toggles themes in order: system -> light -> dark -> system
 8 |     let matchMediaSpy: MockInstance;
 9 |     let addListener: Mock;
10 |     let removeListener: Mock;
11 | 
12 |     beforeEach(() => {
13 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:13:9)
29 |                 dispatchEvent: vi.fn(),
30 |             }));
31 |     });
32 | 
33 |     afterEach(() => {
34 |         matchMediaSpy.mockRestore();
             ^
TypeError: undefined is not an object (evaluating 'matchMediaSpy.mockRestore')
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:34:9)
(fail) useTheme (ThemeProvider and useThemeContext) > persists mode to localStorage and updates data-theme attribute [0.42ms]
 8 |     let matchMediaSpy: MockInstance;
 9 |     let addListener: Mock;
10 |     let removeListener: Mock;
11 | 
12 |     beforeEach(() => {
13 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:13:9)
29 |                 dispatchEvent: vi.fn(),
30 |             }));
31 |     });
32 | 
33 |     afterEach(() => {
34 |         matchMediaSpy.mockRestore();
             ^
TypeError: undefined is not an object (evaluating 'matchMediaSpy.mockRestore')
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:34:9)
(fail) useTheme (ThemeProvider and useThemeContext) > responds to system theme changes in system mode [0.01ms]
 8 |     let matchMediaSpy: MockInstance;
 9 |     let addListener: Mock;
10 |     let removeListener: Mock;
11 | 
12 |     beforeEach(() => {
13 |         localStorage.clear();
             ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:13:9)
29 |                 dispatchEvent: vi.fn(),
30 |             }));
31 |     });
32 | 
33 |     afterEach(() => {
34 |         matchMediaSpy.mockRestore();
             ^
TypeError: undefined is not an object (evaluating 'matchMediaSpy.mockRestore')
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useTheme.test.tsx:34:9)
(fail) useTheme (ThemeProvider and useThemeContext) > throws error if used outside of provider

src/hooks/__tests__/useDebouncedEffect.test.ts:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useDebouncedEffect.test.ts:18:9)
(fail) useDebouncedEffect > fires the callback after the specified delay [0.14ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useDebouncedEffect.test.ts:32:9)
(fail) useDebouncedEffect > does not fire before the delay elapses [0.02ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useDebouncedEffect.test.ts:45:30)
(fail) useDebouncedEffect > resets the timer when dependencies change
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useDebouncedEffect.test.ts:65:29)
(fail) useDebouncedEffect > cleans up the timer on unmount
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useDebouncedEffect.test.ts:79:9)
(fail) useDebouncedEffect > respects different delay values [0.23ms]

src/hooks/__tests__/useLocalStorage.test.ts:
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > returns the default value when nothing is stored
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > returns the stored value when one exists
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > persists value changes to localStorage
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > supports functional updates
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > falls back to default when stored JSON is corrupt
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > accepts a custom serializer [0.57ms]
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > accepts a custom deserializer
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > falls back to default when deserializer returns undefined
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > silently ignores storage errors on write
3 | 
4 | import { useLocalStorage } from '../useLocalStorage';
5 | 
6 | describe('useLocalStorage', () => {
7 |     beforeEach(() => {
8 |         localStorage.clear();
            ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useLocalStorage.test.ts:8:9)
(fail) useLocalStorage > returns a stable setter reference across renders

src/hooks/__tests__/layout.test.ts:

# Unhandled error between tests
-------------------------------
 7 | // Mock useMediaQuery
 8 | vi.mock('@mui/material', () => ({
 9 |     useMediaQuery: vi.fn(),
10 | }));
11 | 
12 | describe('Layout Hooks and Helpers', () => {
     ^
ReferenceError: describe is not defined
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/layout.test.ts:12:1
      at loadAndEvaluateModule (2:1)
-------------------------------


src/hooks/__tests__/useDocumentTitle.test.ts:

# Unhandled error between tests
-------------------------------
2 | import { describe, it, expect, beforeEach } from 'vitest';
3 | 
4 | import { useDocumentTitle } from '../useDocumentTitle';
5 | 
6 | describe('useDocumentTitle', () => {
7 |     const originalTitle = document.title;
                              ^
ReferenceError: document is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useDocumentTitle.test.ts:7:27)
-------------------------------


src/hooks/__tests__/useAsync.test.ts:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useAsync.test.ts:11:28)
(fail) useAsync > starts in loading state with fallback data [0.21ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useAsync.test.ts:22:28)
(fail) useAsync > resolves data on successful load [0.17ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useAsync.test.ts:36:28)
(fail) useAsync > falls back to default data and sets error on failure [0.12ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useAsync.test.ts:50:28)
(fail) useAsync > handles non-Error rejection with generic message [0.10ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useAsync.test.ts:64:38)
(fail) useAsync > only calls loader once (on mount) [0.07ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useAsync.test.ts:86:28)
(fail) useAsync > exposes a refetch callback that re-runs the loader [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/hooks/__tests__/useAsync.test.ts:113:37)
(fail) useAsync > cancels stale requests on unmount [0.12ms]

src/components/ui/__tests__/common.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:28:13)
(fail) Helper Components > TooltipButton > renders with icon and title [0.95ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:43:13)
(fail) Helper Components > TooltipButton > passes through props [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:59:13)
(fail) Helper Components > TooltipButton > renders with size small [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:70:13)
(fail) Helper Components > TooltipButton > renders with size medium [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:85:13)
(fail) Helper Components > TooltipButton > renders with size inherit [0.05ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:101:13)
(fail) Helper Components > GlassCard > renders children with glass-card className [0.08ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:113:13)
(fail) Helper Components > GlassCard > applies custom padding via data attribute [0.05ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:125:13)
(fail) Helper Components > GlassCard > applies interactive class when specified
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:139:13)
(fail) Helper Components > GlassCard > forwards ref correctly [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:149:13)
(fail) Helper Components > GlassCard > applies custom className [0.23ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:161:13)
(fail) Helper Components > GlassCard > applies sx as array [0.21ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:178:13)
(fail) Helper Components > HomeButton > renders when not hidden [0.14ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:190:13)
(fail) Helper Components > HomeButton > does not render when hidden [0.45ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:208:13)
(fail) Helper Components > CustomGrid > renders grid with correct dimensions [0.15ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:225:13)
(fail) Helper Components > CustomGrid > calls cellProps for each cell [0.10ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:242:13)
(fail) Helper Components > CustomGrid > uses custom space when provided [0.15ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:261:35)
(fail) Helper Components > CustomGrid > cell with transition false prop [0.13ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:280:35)
(fail) Helper Components > CustomGrid > cell with custom transition string [0.08ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:298:35)
(fail) Helper Components > CustomGrid > cell with default transition prop [0.08ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:317:9)
(fail) Helper Components > uses auto space when space not provided [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:330:31)
(fail) Helper Components > cell with transition string prop [0.16ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:342:31)
(fail) RefreshButton branch > returns null when hide is true [0.10ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:351:9)
(fail) Navigation > renders navigation container [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:361:9)
(fail) Navigation > renders children with correct aria-label [0.04ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:374:9)
(fail) Navigation > has correct aria-label [0.07ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/common.test.tsx:387:9)
(fail) Navigation > stops click propagation [0.13ms]

src/components/ui/__tests__/ThemeToggle.test.tsx:
10 |     useThemeContext: vi.fn(),
11 | }));
12 | 
13 | describe('ThemeToggle', () => {
14 |     it('should show dark mode icon and correct title in light mode', () => {
15 |         vi.mocked(useThemeContext).mockReturnValue({
                ^
TypeError: vi.mocked is not a function. (In 'vi.mocked(useThemeContext)', 'vi.mocked' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ThemeToggle.test.tsx:15:12)
(fail) ThemeToggle > should show dark mode icon and correct title in light mode [0.07ms]
22 |         const button = screen.getByRole('button');
23 |         expect(button).toHaveAttribute('aria-label', 'Switch to dark mode');
24 |     });
25 | 
26 |     it('should show system theme icon and correct title in dark mode', () => {
27 |         vi.mocked(useThemeContext).mockReturnValue({
                ^
TypeError: vi.mocked is not a function. (In 'vi.mocked(useThemeContext)', 'vi.mocked' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ThemeToggle.test.tsx:27:12)
(fail) ThemeToggle > should show system theme icon and correct title in dark mode [0.41ms]
34 |         const button = screen.getByRole('button');
35 |         expect(button).toHaveAttribute('aria-label', 'Switch to system theme');
36 |     });
37 | 
38 |     it('should show light mode icon and correct title in system mode', () => {
39 |         vi.mocked(useThemeContext).mockReturnValue({
                ^
TypeError: vi.mocked is not a function. (In 'vi.mocked(useThemeContext)', 'vi.mocked' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ThemeToggle.test.tsx:39:12)
(fail) ThemeToggle > should show light mode icon and correct title in system mode
47 |         expect(button).toHaveAttribute('aria-label', 'Switch to light mode');
48 |     });
49 | 
50 |     it('should call toggleTheme on click', () => {
51 |         const toggleTheme = vi.fn();
52 |         vi.mocked(useThemeContext).mockReturnValue({
                ^
TypeError: vi.mocked is not a function. (In 'vi.mocked(useThemeContext)', 'vi.mocked' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ThemeToggle.test.tsx:52:12)
(fail) ThemeToggle > should call toggleTheme on click

src/components/ui/__tests__/ErrorCard.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ErrorCard.test.tsx:8:9)
(fail) ErrorCard > renders title [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ErrorCard.test.tsx:13:9)
(fail) ErrorCard > renders message when provided
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ErrorCard.test.tsx:18:31)
(fail) ErrorCard > omits message element when not provided [0.18ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ErrorCard.test.tsx:24:9)
(fail) ErrorCard > renders detail content
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ErrorCard.test.tsx:31:9)
(fail) ErrorCard > renders action buttons passed as children
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/ui/__tests__/ErrorCard.test.tsx:42:9)
(fail) ErrorCard > has alert role for accessibility

src/components/layout/__tests__/ErrorFallback.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorFallback.test.tsx:21:9)
(fail) ErrorFallback > renders main error message [0.28ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorFallback.test.tsx:29:9)
(fail) ErrorFallback > calls onReload when Reload button is clicked [0.37ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorFallback.test.tsx:35:9)
(fail) ErrorFallback > renders Return to Home link [0.09ms]
39 | 
40 |     describe('Development mode details', () => {
41 |         const originalEnv = process.env['NODE_ENV'];
42 | 
43 |         beforeEach(() => {
44 |             vi.resetModules();
                    ^
TypeError: vi.resetModules is not a function. (In 'vi.resetModules()', 'vi.resetModules' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorFallback.test.tsx:44:16)
(fail) ErrorFallback > Development mode details > shows error details in development [0.09ms]
39 | 
40 |     describe('Development mode details', () => {
41 |         const originalEnv = process.env['NODE_ENV'];
42 | 
43 |         beforeEach(() => {
44 |             vi.resetModules();
                    ^
TypeError: vi.resetModules is not a function. (In 'vi.resetModules()', 'vi.resetModules' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorFallback.test.tsx:44:16)
(fail) ErrorFallback > Development mode details > hides error details in production [0.04ms]

src/components/layout/__tests__/ErrorBoundary.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorBoundary.test.tsx:35:9)
(fail) ErrorBoundary > renders children when no error occurs [0.39ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorBoundary.test.tsx:45:9)
(fail) ErrorBoundary > renders ErrorFallback when a child crashes [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorBoundary.test.tsx:55:9)
(fail) ErrorBoundary > componentDidCatch logs to console [0.03ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorBoundary.test.tsx:97:9)
(fail) ErrorBoundary > resets state when resetErrorBoundary is called in FallbackComponent
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorBoundary.test.tsx:114:9)
(fail) ErrorBoundary > triggers reload without crashing
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorBoundary.test.tsx:133:9)
(fail) ErrorBoundary > componentDidCatch in production environment
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorBoundary.test.tsx:153:9)
(fail) ErrorBoundary > renders custom FallbackComponent on error [0.17ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorBoundary.test.tsx:169:9)
(fail) ErrorBoundary > renders simple fallback prop on error [0.04ms]

src/components/layout/__tests__/FeatureErrorFallback.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/FeatureErrorFallback.test.tsx:16:9)
(fail) FeatureErrorFallback > renders default title and error message [0.18ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/FeatureErrorFallback.test.tsx:24:9)
(fail) FeatureErrorFallback > renders custom title and reset label
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/FeatureErrorFallback.test.tsx:36:9)
(fail) FeatureErrorFallback > calls resetErrorBoundary on reset button click [0.12ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/FeatureErrorFallback.test.tsx:42:9)
(fail) FeatureErrorFallback > renders Return to Home link
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/FeatureErrorFallback.test.tsx:48:9)
(fail) FeatureErrorFallback > shows fallback message when error is null

src/components/layout/__tests__/ErrorPage.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorPage.test.tsx:8:9)
(fail) Error Page > renders 404 and error message
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorPage.test.tsx:21:9)
(fail) Error Page > sets document title [0.22ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/__tests__/ErrorPage.test.tsx:30:9)
(fail) Error Page > contains link to home [0.01ms]

src/features/research/components/__tests__/MathText.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/MathText.test.tsx:9:9)
(fail) MathText > renders plain text without superscripts [0.22ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/MathText.test.tsx:14:31)
(fail) MathText > renders text with single superscript [0.08ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/MathText.test.tsx:25:31)
(fail) MathText > renders text with multiple superscripts [0.07ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/MathText.test.tsx:39:9)
(fail) MathText > converts notation in aria-label for accessibility [0.22ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/MathText.test.tsx:48:31)
(fail) MathText > handles empty text [0.27ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/MathText.test.tsx:54:9)
(fail) MathText > handles malformed superscript notation [0.13ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/MathText.test.tsx:59:31)
(fail) MathText > applies correct styling to superscript [0.09ms]

src/features/research/components/__tests__/ResearchDemo.test.tsx:

# Unhandled error between tests
-------------------------------
 6 | 
 7 | import { URLS } from '@/config/constants';
 8 | 
 9 | // Mock the icons
10 | vi.mock('@/components/icons', async importOriginal => {
11 |     const original = await importOriginal<Record<string, any>>();
                                ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/ResearchDemo.test.tsx:11:28)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/ResearchDemo.test.tsx:10:4
      at loadAndEvaluateModule (2:1)
-------------------------------


# Unhandled error between tests
-------------------------------
 6 | 
 7 | import { URLS } from '@/config/constants';
 8 | 
 9 | // Mock the icons
10 | vi.mock('@/components/icons', async importOriginal => {
11 |     const original = await importOriginal<Record<string, any>>();
                                ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/ResearchDemo.test.tsx:11:28)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/components/__tests__/ResearchDemo.test.tsx:10:4
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/research/hooks/__tests__/useResearchDemoDefaults.test.ts:
(pass) resolveResearchDemoDefaults > returns sensible defaults when no props are provided [0.10ms]
(pass) resolveResearchDemoDefaults > passes through chart props when provided [0.02ms]
(pass) resolveResearchDemoDefaults > passes through view props when provided
(pass) resolveResearchDemoDefaults > passes through controls, onReset, and resetLabel

src/features/research/pages/__tests__/ZSharp.test.tsx:

# Unhandled error between tests
-------------------------------
54 | const MOCK_ZSHARP_DATA = [
55 |     { epoch: 1, sgd: 0.8, zsharp: 0.82, sgdLoss: 0.5, zsharpLoss: 0.45 },
56 |     { epoch: 2, sgd: 0.85, zsharp: 0.87, sgdLoss: 0.4, zsharpLoss: 0.35 },
57 | ];
58 | 
59 | describe('ZSharp Component', () => {
     ^
ReferenceError: describe is not defined
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/pages/__tests__/ZSharp.test.tsx:59:1
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/research/pages/__tests__/Oligopoly.test.tsx:

# Unhandled error between tests
-------------------------------
60 |     base_price: 40,
61 |     collusion_enabled: false,
62 |     ...overrides,
63 | });
64 | 
65 | describe('Oligopoly Component', () => {
     ^
ReferenceError: describe is not defined
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/research/pages/__tests__/Oligopoly.test.tsx:65:1
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/home/components/__tests__/FeaturedWork.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/components/__tests__/FeaturedWork.test.tsx:27:13)
(fail) FeaturedWork Components > FeaturedWork > renders featured work sections [0.19ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/components/__tests__/FeaturedWork.test.tsx:38:13)
(fail) FeaturedWork Components > PublicationCard > renders publication details [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/components/__tests__/FeaturedWork.test.tsx:48:13)
(fail) FeaturedWork Components > ProjectCard > renders project details

src/features/home/components/__tests__/HeroSection.test.tsx:

# Unhandled error between tests
-------------------------------
3 | import { HeroSection } from '../HeroSection';
4 | 
5 | import { PERSONAL_INFO } from '@/config/constants';
6 | 
7 | // Mock scrollIntoView
8 | globalThis.HTMLElement.prototype.scrollIntoView = vi.fn();
               ^
TypeError: undefined is not an object (evaluating 'globalThis.HTMLElement.prototype')
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/components/__tests__/HeroSection.test.tsx:8:12
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/home/components/__tests__/Layout.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/components/__tests__/Layout.test.tsx:9:13)
(fail) Layout Components > Section > renders children with default padding and maxWidth [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/components/__tests__/Layout.test.tsx:22:13)
(fail) Layout Components > Section > applies custom id prop
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/components/__tests__/Layout.test.tsx:29:13)
(fail) Layout Components > Section > applies custom paddingY and paddingX props
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/components/__tests__/Layout.test.tsx:42:13)
(fail) Layout Components > HeroContainer > renders children with flex centering [0.31ms]

src/features/home/pages/__tests__/Home.test.tsx:

# Unhandled error between tests
-------------------------------
32 |     </BrowserRouter>
33 | );
34 | 
35 | // Mock Material-UI icons
36 | vi.mock('@mui/icons-material', async importOriginal => {
37 |     const original = await importOriginal<Record<string, any>>();
                                ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/pages/__tests__/Home.test.tsx:37:28)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/pages/__tests__/Home.test.tsx:36:4
      at loadAndEvaluateModule (2:1)
-------------------------------


# Unhandled error between tests
-------------------------------
32 |     </BrowserRouter>
33 | );
34 | 
35 | // Mock Material-UI icons
36 | vi.mock('@mui/icons-material', async importOriginal => {
37 |     const original = await importOriginal<Record<string, any>>();
                                ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/pages/__tests__/Home.test.tsx:37:28)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/home/pages/__tests__/Home.test.tsx:36:4
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/games/components/__tests__/GameControls.test.tsx:
(pass) GameControls Logic > correctly identifies when at minimum size
(pass) GameControls Logic > correctly identifies when not at minimum size
(pass) GameControls Logic > correctly identifies when only one dimension is at minimum
(pass) GameControls Logic > correctly identifies when at maximum size (both >= maxSize) [0.09ms]
(pass) GameControls Logic > correctly identifies when at dynamic size limit
(pass) GameControls Logic > correctly identifies when below limits
(pass) GameControls Logic > correctly identifies when only one dimension at maximum size
(pass) GameControls Logic > correctly identifies when at partial dynamic size
(pass) GameControls Logic > correctly handles disabled prop logic
(pass) GameControls Logic > correctly disables button when disabled prop is true
(pass) GameControls Logic > correctly disables button when at minimum
(pass) GameControls Logic > correctly disables button when both conditions true
(pass) GameControls Logic > handles rendering with children
(pass) GameControls Logic > handles rendering without children

src/features/games/components/__tests__/Board.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:23:9)
(fail) Board Component > renders overlay and cell grids correctly
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:44:31)
(fail) Board Component > renders with correct layout styles
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:60:31)
(fail) Board Component > handles decorative layers via explicit boolean props
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:87:28)
(fail) usePalette > returns primary and secondary colors based on theme
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:104:28)
(fail) useGetters > getColor returns correct front/back colors based on tile value
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:125:28)
(fail) useGetters > getBorder calculates border radius correctly
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:139:28)
(fail) useGetters > getBorder handles boundaries correctly [0.66ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:156:34)
(fail) useGetters > getFiller determines filler color correctly
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:183:28)
(fail) useHandler > getTile returns correct values from grid state [0.13ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/Board.test.tsx:199:28)
(fail) useHandler > getTile returns -1 for out of bounds [0.03ms]

src/features/games/components/__tests__/TrophyOverlay.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/TrophyOverlay.test.tsx:16:31)
(fail) TrophyOverlay > should be non-interactive (pointer-events: none)
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/TrophyOverlay.test.tsx:22:31)
(fail) TrophyOverlay > should display Solved! label when shown
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/TrophyOverlay.test.tsx:27:31)
(fail) TrophyOverlay > should not be visible when show is false
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/components/__tests__/TrophyOverlay.test.tsx:36:31)
(fail) TrophyOverlay > should use secondary color if useSecondary is true

src/features/games/hooks/__tests__/useGridSize.test.ts:

# Unhandled error between tests
-------------------------------
 5 | 
 6 | import { useWindow } from '@/hooks';
 7 | 
 8 | // Mock the base hooks
 9 | vi.mock('@/hooks', async importOriginal => {
10 |     const actual = await importOriginal<Record<string, unknown>>();
                              ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGridSize.test.ts:10:26)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGridSize.test.ts:9:4
      at loadAndEvaluateModule (2:1)
-------------------------------


# Unhandled error between tests
-------------------------------
 5 | 
 6 | import { useWindow } from '@/hooks';
 7 | 
 8 | // Mock the base hooks
 9 | vi.mock('@/hooks', async importOriginal => {
10 |     const actual = await importOriginal<Record<string, unknown>>();
                              ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGridSize.test.ts:10:26)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGridSize.test.ts:9:4
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/games/hooks/__tests__/useDrag.test.ts:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:28:28)
(fail) useDrag > should handle mouse down and drag [0.23ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:53:28)
(fail) useDrag > should handle right click drag [0.16ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:69:28)
(fail) useDrag > should stop dragging on mouse up (global listener) [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:89:28)
(fail) useDrag > should handle touch start [0.08ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:104:28)
(fail) useDrag > should handle keyboard activation [0.07ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:130:28)
(fail) useDrag > should ignore repeated key presses during keyboard drag [0.05ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:155:28)
(fail) useDrag > should toggle cells on focus during keyboard drag [0.07ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:178:28)
(fail) useDrag > should use reverse direction for Enter keyboard drag [0.05ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:200:28)
(fail) useDrag > should stop keyboard drag on keyup [0.04ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:224:28)
(fail) useDrag > should not trigger onFocus toggle when not keyboard dragging
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:235:28)
(fail) useDrag > should respect checkEnabled [0.15ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:252:28)
(fail) useDrag > should handle touch move using elementFromPoint
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:279:28)
(fail) useDrag > should handle touch move when elementFromPoint returns null [0.12ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:299:28)
(fail) useDrag > should handle touch move when closest returns null [0.03ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:322:28)
(fail) useDrag > should handle touch move when getAttribute returns null [0.10ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:347:28)
(fail) useDrag > should not call action when dragging to already-dragged position [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:370:28)
(fail) useDrag > should filter middle mouse button (button=1) [0.03ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:385:28)
(fail) useDrag > should debounce mouse events after touch [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:418:32)
(fail) useDrag > should allow mouse events after touch timeout [0.08ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:451:28)
(fail) useDrag > should respect preventDefault option
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:468:28)
(fail) useDrag > should handle onContextMenu with preventDefault option
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:484:28)
(fail) useDrag > should use custom posAttribute
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:494:28)
(fail) useDrag > should handle checkEnabled returning false
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:514:38)
(fail) useDrag > should not continue dragging if checkEnabled becomes false on hover [0.20ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:546:28)
(fail) useDrag > should use default checkEnabled if not provided [0.05ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:560:28)
(fail) useDrag > should handle onContextMenu with preventDefault: true [0.06ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:576:28)
(fail) useDrag > should not trigger action for other keys in onKeyDown [0.04ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useDrag.test.ts:590:28)
(fail) useDrag > should handle right-click touch move (hypothetically) [0.03ms]

src/features/games/hooks/__tests__/useWinTransition.test.ts:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useWinTransition.test.ts:10:9)
(fail) useWinTransition > should not trigger callback if not solved [0.14ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useWinTransition.test.ts:25:9)
(fail) useWinTransition > should trigger callback after delay when solved [0.22ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useWinTransition.test.ts:46:29)
(fail) useWinTransition > should clear timeout on unmount [0.11ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useWinTransition.test.ts:63:30)
(fail) useWinTransition > should clear timeout if solved becomes false before delay [0.14ms]

src/features/games/hooks/__tests__/boardSizeUtils.test.ts:
(pass) calculateBoardSize > should calculate cell size with numeric boardPadding [0.01ms]
(pass) calculateBoardSize > should calculate cell size with object boardPadding [0.10ms]
(pass) calculateBoardSize > should respect mobile headerOffset [0.01ms]

src/features/games/hooks/__tests__/useBoardSize.test.ts:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useBoardSize.test.ts:31:28)
(fail) useBoardSize > returns computed cell size from calculateBoardSize [0.07ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useBoardSize.test.ts:45:9)
(fail) useBoardSize > resolves function-based boardPadding [0.12ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useBoardSize.test.ts:61:9)
(fail) useBoardSize > applies rowOffset and colOffset [0.07ms]

src/features/games/hooks/__tests__/useBaseGame.test.ts:
41 |         },
42 |     };
43 | 
44 |     beforeEach(() => {
45 |         vi.clearAllMocks();
46 |         vi.mocked(useGridSize).mockReturnValue({
                ^
TypeError: vi.mocked is not a function. (In 'vi.mocked(useGridSize)', 'vi.mocked' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useBaseGame.test.ts:46:12)
(fail) useBaseGame > should initialize and return state [0.13ms]
41 |         },
42 |     };
43 | 
44 |     beforeEach(() => {
45 |         vi.clearAllMocks();
46 |         vi.mocked(useGridSize).mockReturnValue({
                ^
TypeError: vi.mocked is not a function. (In 'vi.mocked(useGridSize)', 'vi.mocked' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useBaseGame.test.ts:46:12)
(fail) useBaseGame > should handle onRestore from persistence [0.06ms]
41 |         },
42 |     };
43 | 
44 |     beforeEach(() => {
45 |         vi.clearAllMocks();
46 |         vi.mocked(useGridSize).mockReturnValue({
                ^
TypeError: vi.mocked is not a function. (In 'vi.mocked(useGridSize)', 'vi.mocked' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useBaseGame.test.ts:46:12)
(fail) useBaseGame > should accept function for boardPadding without error [0.03ms]

src/features/games/hooks/__tests__/useGamePersistence.test.ts:

# Unhandled error between tests
-------------------------------
18 |         localStorage.clear();
19 |         vi.clearAllMocks();
20 |         vi.useFakeTimers();
21 |     });
22 | 
23 |     afterEach(() => {
         ^
ReferenceError: afterEach is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGamePersistence.test.ts:23:5)
-------------------------------


src/features/games/hooks/__tests__/useGameInteraction.test.ts:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGameInteraction.test.ts:20:28)
(fail) useDrag grid mode (onToggle) > should call onToggle with parsed coordinates on initial click
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGameInteraction.test.ts:35:28)
(fail) useDrag grid mode (onToggle) > should handle dragging value
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGameInteraction.test.ts:56:28)
(fail) useDrag grid mode (onToggle) > should not call onToggle if disabled [0.38ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/hooks/__tests__/useGameInteraction.test.ts:74:28)
(fail) useDrag grid mode (onToggle) > should ignore invalid pos strings [0.04ms]

src/utils/math/gf2/__tests__/polynomialUtils.test.ts:
(pass) polynomialUtils > polyDegree > should return correct degree for GF(2) polynomials
(pass) polynomialUtils > polyDiv and polyMod > should perform polynomial division in GF(2)[x]
(pass) polynomialUtils > polyDiv and polyMod > should throw error for division by zero
(pass) polynomialUtils > polyDiv and polyMod > should return correct remainder with polyMod
(pass) polynomialUtils > evalPolynomial > should evaluate polynomial with matrix correctly [0.45ms]
(pass) polynomialUtils > getMinimalPolynomial > should find the minimal polynomial of a matrix [0.20ms]
(pass) polynomialUtils > getIrreducibles > should return irreducible polynomials and use cache [0.17ms]
(pass) polynomialUtils > factorPoly > should factor polynomials in GF(2)[x] [0.11ms]
(pass) polynomialUtils > factorPoly > should return empty list for 0 and 1
(pass) polynomialUtils > polyToString and toSuperscript > should format polynomials correctly [0.11ms]
(pass) polynomialUtils > polyToString and toSuperscript > should handle middle terms correctly [0.01ms]
(pass) polynomialUtils > polyToString and toSuperscript > should format superscripts correctly
(pass) polynomialUtils > getPolynomial > should return correct polynomials in the sequence
(pass) polynomialUtils > getDivisors > should compute all divisors of a number
(pass) polynomialUtils > findPattern > should find the period pattern for size 3 [0.35ms]
(pass) polynomialUtils > findPattern > should find pattern for size 1 and 2 [0.08ms]

src/utils/math/gf2/__tests__/gf2Operations.test.ts:
(pass) gf2Operations > countBits > should count bits in bigint correctly
(pass) gf2Operations > countBits > should throw error for negative bigints
(pass) gf2Operations > getIdentity > should create an identity matrix of the specified size [0.14ms]
(pass) gf2Operations > addSym > should perform XOR addition of matrices [0.04ms]
(pass) gf2Operations > multiplySym > should multiply matrices in GF(2) [0.02ms]
(pass) gf2Operations > multiplySym > should return zero matrix when multiplying by zero matrix
(pass) gf2Operations > multiplySym > should return same matrix when multiplying by identity
(pass) gf2Operations > symmetricPow > should compute matrix power correctly
(pass) gf2Operations > symmetricPow > should use cache if provided [0.09ms]
(pass) gf2Operations > isIdentity > should correctly identify identity matrices [0.02ms]
(pass) gf2Operations > isZero > should correctly identify zero matrices
(pass) gf2Operations > invertMatrix > should invert an invertible matrix
(pass) gf2Operations > invertMatrix > should invert a 3x3 matrix
(pass) gf2Operations > defensive checks and edge cases > addSym handles undefined rows
(pass) gf2Operations > defensive checks and edge cases > multiplySym handles undefined rows
(pass) gf2Operations > defensive checks and edge cases > sortMatrices handles undefined rows
(pass) gf2Operations > defensive checks and edge cases > sortMatrices handles equal values
(pass) gf2Operations > defensive checks and edge cases > invertMatrix handles singular matrices (not fully, but defensive checks should be hit)

src/utils/math/gf2/__tests__/matrixOperations.test.ts:
(pass) matrixOperations > getMatrix > should generate correct 1D adjacency matrix for size 3
(pass) matrixOperations > getMatrix > should handle size 1
(pass) matrixOperations > getKernelBasis > should find empty kernel for invertible matrix [0.50ms]
(pass) matrixOperations > getKernelBasis > should find non-empty kernel for singular matrix [0.02ms]
(pass) matrixOperations > getKernelBasis > should handle matrix where some columns have no pivot
(pass) matrixOperations > getImageBasis > should return full basis for invertible matrix [0.07ms]
(pass) matrixOperations > getImageBasis > should return reduced basis for singular matrix [0.01ms]
(pass) matrixOperations > getMinWeightSolution > should find solution for invertible system [0.11ms]
(pass) matrixOperations > getMinWeightSolution > should return -1n for unsolvable system
(pass) matrixOperations > getMinWeightSolution > should find minimum weight solution in presence of kernel
(pass) matrixOperations > getMinWeightSolution > should return particular solution early for very large kernels [0.30ms]
(pass) matrixOperations > getImageMapping > should return correct mapping pairs [0.05ms]
(pass) matrixOperations > getImageMapping > should handle singular matrices [0.01ms]

src/utils/math/gf2/__tests__/inversion.test.ts:
(pass) inversion > should compute product for simple grid (3x3) [0.51ms]
(pass) inversion > should handle empty input [0.04ms]
(pass) inversion > should use cache on subsequent calls [0.03ms]

src/components/layout/ProjectMenu/__tests__/ProjectMenu.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/components/layout/ProjectMenu/__tests__/ProjectMenu.test.tsx:8:9)
(fail) ProjectMenu > renders menu button and toggles menu [0.88ms]

src/features/home/components/HeroSection/__tests__/TechStack.test.tsx:
(pass) TechStack Logic > SKILLS array contains expected skills
(pass) TechStack Logic > all skills have name and icon properties [0.06ms]
(pass) TechStack Logic > contains expected skills in SKILLS config [0.05ms]
(pass) TechStack Logic > uses valid icon names from ICON_MAP
(pass) TechStack Logic > handles fallback icon mapping for unknown icons
(pass) TechStack Logic > validates icon names from SKILLS against ICON_MAP
(pass) TechStack Logic > renders with grid layout structure (3 columns)
(pass) TechStack Logic > wraps content in GlassCard (logic test)
(pass) TechStack Logic > has correct heading text for Tech Stack [0.16ms]

src/features/games/slant/utils/__tests__/persistence.test.ts:
(pass) serializeSlantState > converts Sets to arrays [0.14ms]
(pass) serializeSlantState > preserves other state fields
(pass) isSavedSlantState > returns true for valid saved state [0.08ms]
(pass) isSavedSlantState > returns false for null [0.02ms]
(pass) isSavedSlantState > returns false for non-object
(pass) isSavedSlantState > returns false when required fields are missing
(pass) isSavedSlantState > returns false when field types are wrong [0.03ms]
(pass) isSavedSlantState > returns false when solved is not boolean
(pass) deserializeSlantState > converts arrays back to Sets
136 |     });
137 | });
138 | 
139 | describe('persistSlantState', () => {
140 |     beforeEach(() => {
141 |         localStorage.clear();
              ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/utils/__tests__/persistence.test.ts:141:9)
(fail) persistSlantState > stores serialized state under the correct key [0.09ms]
136 |     });
137 | });
138 | 
139 | describe('persistSlantState', () => {
140 |     beforeEach(() => {
141 |         localStorage.clear();
              ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/utils/__tests__/persistence.test.ts:141:9)
(fail) persistSlantState > silently ignores storage errors [0.07ms]
169 |     });
170 | });
171 | 
172 | describe('hasSavedUnsolvedPuzzle', () => {
173 |     beforeEach(() => {
174 |         localStorage.clear();
              ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/utils/__tests__/persistence.test.ts:174:9)
(fail) hasSavedUnsolvedPuzzle > returns false when nothing is saved
169 |     });
170 | });
171 | 
172 | describe('hasSavedUnsolvedPuzzle', () => {
173 |     beforeEach(() => {
174 |         localStorage.clear();
              ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/utils/__tests__/persistence.test.ts:174:9)
(fail) hasSavedUnsolvedPuzzle > returns true when an unsolved puzzle is saved
169 |     });
170 | });
171 | 
172 | describe('hasSavedUnsolvedPuzzle', () => {
173 |     beforeEach(() => {
174 |         localStorage.clear();
              ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/utils/__tests__/persistence.test.ts:174:9)
(fail) hasSavedUnsolvedPuzzle > returns false when the saved puzzle is solved
169 |     });
170 | });
171 | 
172 | describe('hasSavedUnsolvedPuzzle', () => {
173 |     beforeEach(() => {
174 |         localStorage.clear();
              ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/utils/__tests__/persistence.test.ts:174:9)
(fail) hasSavedUnsolvedPuzzle > returns false for invalid JSON
169 |     });
170 | });
171 | 
172 | describe('hasSavedUnsolvedPuzzle', () => {
173 |     beforeEach(() => {
174 |         localStorage.clear();
              ^
ReferenceError: localStorage is not defined
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/utils/__tests__/persistence.test.ts:174:9)
(fail) hasSavedUnsolvedPuzzle > returns false for non-object JSON

src/features/games/slant/utils/__tests__/boardHandlers_apply.test.ts:
(pass) handleBoard - applyAnalysis > correctly overwrites the grid with analysis moves [2.21ms]
(pass) handleBoard - applyAnalysis > re-calculates validation status after applying moves [0.41ms]
(pass) handleBoard - applyAnalysis > does nothing if moves is missing [0.33ms]

src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:247:9)
(fail) SlantAnalysisBoard > renders the grid correctly [0.24ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:256:31)
(fail) SlantAnalysisBoard > handles click interactions [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:270:31)
(fail) SlantAnalysisBoard > handles drag interactions (paint mode) [0.15ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:302:31)
(fail) SlantAnalysisBoard > propagates constraints (shallow propagation check) [0.27ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:343:31)
(fail) SlantAnalysisBoard > detects conflicts (red highlight) [0.31ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:372:31)
(fail) SlantAnalysisBoard > handles state cycling with existing moves [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:389:31)
(fail) SlantAnalysisBoard > renders control buttons when provided
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:409:30)
(fail) SlantAnalysisBoard > updates grid state when worker sends result [0.18ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:443:31)
(fail) SlantAnalysisBoard > displays empty state for missing numbers [0.19ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:454:31)
(fail) SlantAnalysisBoard > handles both desktop and mobile padding variants [0.03ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:469:31)
(fail) SlantAnalysisBoard > cycles cell states on multiple clicks [0.12ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:496:31)
(fail) SlantAnalysisBoard > shows cycle cells with distinct color [0.14ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:514:31)
(fail) SlantAnalysisBoard > color logic: user-set cells show primary color [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:538:31)
(fail) SlantAnalysisBoard > color logic: propagated cells show green [0.17ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:562:31)
(fail) SlantAnalysisBoard > number hints display when value is present [0.14ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/components/__tests__/SlantAnalysisBoard.test.tsx:576:31)
(fail) SlantAnalysisBoard > number hints are hidden when value is null [0.08ms]

src/features/games/slant/hooks/__tests__/useAnalysisSolver.test.ts:
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/hooks/__tests__/useAnalysisSolver.test.ts:82:9)
(fail) useAnalysisSolver > boots a worker and probes it on mount [0.14ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/hooks/__tests__/useAnalysisSolver.test.ts:100:28)
(fail) useAnalysisSolver > dispatches a real solve after probe succeeds [0.10ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/hooks/__tests__/useAnalysisSolver.test.ts:145:9)
(fail) useAnalysisSolver > falls back to main-thread solving when worker probe times out [0.09ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/hooks/__tests__/useAnalysisSolver.test.ts:167:9)
(fail) useAnalysisSolver > falls back when worker fires onerror [0.04ms]
251 |     throw error;
252 |   }
253 |   if (!baseElement) {
254 |     // default to document.body instead of documentElement to avoid output of potentially-large
255 |     // head elements (such as JSS style blocks) in debug output
256 |     baseElement = document.body;
                        ^
ReferenceError: document is not defined
      at render (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:256:19)
      at renderHook (/Users/bangyen/Documents/repos/bangyen.github.io/node_modules/@testing-library/react/dist/pure.js:339:7)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/hooks/__tests__/useAnalysisSolver.test.ts:185:29)
(fail) useAnalysisSolver > terminates the worker on unmount [0.04ms]

src/features/games/slant/hooks/__tests__/useSlantGame.test.ts:

# Unhandled error between tests
-------------------------------
 7 | import { useDimensionRegeneration } from '../useDimensionRegeneration';
 8 | import { useGenerationWorker } from '../useGenerationWorker';
 9 | import { useSlantGame } from '../useSlantGame';
10 | import { useSlantProps } from '../useSlantProps';
11 | 
12 | vi.mock('../../../hooks/useBaseGame');
        ^
TypeError: mock(module, fn) requires a function
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/slant/hooks/__tests__/useSlantGame.test.ts:12:4
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/games/lights-out/utils/__tests__/matrices.test.ts:
(pass) Lights Out Matrix Utilities > countBits returns correct number of set bits
(pass) Lights Out Matrix Utilities > getIdentity returns identity matrix
(pass) Lights Out Matrix Utilities > getMatrix generates correct matrix for size 3
(pass) Lights Out Matrix Utilities > addSym performs XOR addition
(pass) Lights Out Matrix Utilities > addSym satisfies A + A = 0
(pass) Lights Out Matrix Utilities > multiplySym performs matrix multiplication over GF(2) [0.33ms]
(pass) Lights Out Matrix Utilities > symmetricPow computes powers
(pass) Lights Out Matrix Utilities > getPolynomial returns correct polynomial
(pass) Lights Out Matrix Utilities > invertMatrix inverts a matrix
(pass) Lights Out Matrix Utilities > sortMatrices sorts rows based on value [0.02ms]
(pass) Lights Out Matrix Utilities > evalPolynomial evaluates poly on matrix [0.04ms]
(pass) Lights Out Matrix Utilities > getProduct returns solution vector [0.04ms]

src/features/games/lights-out/utils/__tests__/persistence.test.ts:
(pass) isBoardState > returns true for a valid BoardState
(pass) isBoardState > returns false for null
(pass) isBoardState > returns false for non-object
(pass) isBoardState > returns false when grid is not an array
(pass) isBoardState > returns false when score is not a number
(pass) isBoardState > returns false when initialized is not a boolean
(pass) isBoardState > returns false when required fields are missing

src/features/games/lights-out/utils/__tests__/chaseHandlers.test.ts:

# Unhandled error between tests
-------------------------------
15 | // Mock getProduct from matrices
16 | vi.mock('../matrices', () => ({
17 |     getProduct: vi.fn(),
18 | }));
19 | 
20 | describe('Lights Out Chase Handlers', () => {
     ^
ReferenceError: describe is not defined
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/__tests__/chaseHandlers.test.ts:20:1
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/games/lights-out/utils/__tests__/animationFrames.test.ts:
(pass) animationFrames > getBoardIconFrames > should generate empty frames if no states provided
(pass) animationFrames > getBoardIconFrames > should generate hidden frames when no match
(pass) animationFrames > getBoardIconFrames > should generate animation frames when match found
(pass) animationFrames > should generate animation frames with primary color when light is off
(pass) animationFrames > should handle speed parameter
(pass) animationFrames > should handle last state (nextState is null)
(pass) animationFrames > should handle non-matching prediction
(pass) animationFrames > getInputIconFrames > should generate hidden frames when input does not change
(pass) animationFrames > getInputIconFrames > should generate frames with different colors for input
(pass) animationFrames > getInputIconFrames > should handle last state in input

src/features/games/lights-out/utils/__tests__/renderers.test.tsx:
(pass) renderers > getFrontProps > should return props for front of cell [0.02ms]
(pass) renderers > getFrontProps > keeps border overrides as inline style and includes focus-visible styles
(pass) renderers > getBackProps > should return props for back of cell [0.23ms]
(pass) renderers > getCellVisualProps > should return visual-only props without drag handlers [0.03ms]

src/features/games/lights-out/utils/__tests__/boardHandlers.test.ts:
(pass) boardHandlers > getGrid > should create a grid of correct size initialized to 0
(pass) boardHandlers > flipAdj > should flip the target cell and adjacent neighbors [0.05ms]
(pass) boardHandlers > flipAdj > should handle corners correctly [0.02ms]
(pass) boardHandlers > handleBoard > should handle adjacent action [0.09ms]
(pass) boardHandlers > handleBoard > should handle reset action [0.04ms]
(pass) boardHandlers > handleBoard > should handle random action [0.05ms]
(pass) boardHandlers > handleBoard > should handle resize action
(pass) boardHandlers > getNextMove > should return null for empty grid
(pass) boardHandlers > getNextMove > should chase lights down
118 |         for (let i = 0; i < cols; i++) {
119 |             input.push((lastRow >> i) & 1);
120 |         }
121 | 
122 |         const result = getProduct(input, rows, cols);
123 |         for (const [idx, val] of result.entries()) {
                                       ^
TypeError: undefined is not an object (evaluating 'result.entries')
      at solveLastRow (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:123:34)
      at getNextMove (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:163:26)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/__tests__/boardHandlers.test.ts:163:27)
(fail) boardHandlers > getNextMove > should solve last row [0.29ms]
(pass) boardHandlers > getNextMove > should use precomputed solutions for last row (5x5)
(pass) boardHandlers > handleBoard - Win Condition > should increment score and randomize on next action
(pass) boardHandlers > handleBoard - Win Condition > should handle multi_adjacent
(pass) boardHandlers > getNextMove - edge cases > should return null when last row is solved (all zeros)
(pass) boardHandlers > getNextMove - edge cases > should handle single non-zero row (not last)
(pass) boardHandlers > getNextMove - edge cases > should handle alternating zero and non-zero rows
118 |         for (let i = 0; i < cols; i++) {
119 |             input.push((lastRow >> i) & 1);
120 |         }
121 | 
122 |         const result = getProduct(input, rows, cols);
123 |         for (const [idx, val] of result.entries()) {
                                       ^
TypeError: undefined is not an object (evaluating 'result.entries')
      at solveLastRow (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:123:34)
      at getNextMove (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:163:26)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/__tests__/boardHandlers.test.ts:269:27)
(fail) boardHandlers > getNextMove - edge cases > should return null when no solution exists
118 |         for (let i = 0; i < cols; i++) {
119 |             input.push((lastRow >> i) & 1);
120 |         }
121 | 
122 |         const result = getProduct(input, rows, cols);
123 |         for (const [idx, val] of result.entries()) {
                                       ^
TypeError: undefined is not an object (evaluating 'result.entries')
      at solveLastRow (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:123:34)
      at getNextMove (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:163:26)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/__tests__/boardHandlers.test.ts:279:27)
(fail) boardHandlers > getNextMove - edge cases > should use precomputed solutions for 3x3 [0.01ms]
(pass) boardHandlers > getNextMove - edge cases > should fallback to getProduct for non-precomputed sizes [0.07ms]
118 |         for (let i = 0; i < cols; i++) {
119 |             input.push((lastRow >> i) & 1);
120 |         }
121 | 
122 |         const result = getProduct(input, rows, cols);
123 |         for (const [idx, val] of result.entries()) {
                                       ^
TypeError: undefined is not an object (evaluating 'result.entries')
      at solveLastRow (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:123:34)
      at getNextMove (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:163:26)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/__tests__/boardHandlers.test.ts:302:27)
(fail) boardHandlers > getNextMove - edge cases > should handle power of 2 values in last row
118 |         for (let i = 0; i < cols; i++) {
119 |             input.push((lastRow >> i) & 1);
120 |         }
121 | 
122 |         const result = getProduct(input, rows, cols);
123 |         for (const [idx, val] of result.entries()) {
                                       ^
TypeError: undefined is not an object (evaluating 'result.entries')
      at solveLastRow (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:123:34)
      at getNextMove (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/boardHandlers.ts:163:26)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/utils/__tests__/boardHandlers.test.ts:311:27)
(fail) boardHandlers > getNextMove - edge cases > should handle all bits set in last row [0.08ms]
(pass) boardHandlers > isSolved > returns true when all rows are zero
(pass) boardHandlers > isSolved > returns false when single row has lights
(pass) boardHandlers > isSolved > returns false when alternating rows have lights
(pass) boardHandlers > handleBoard - resize action > should handle resize with explicit newRows and newCols [0.09ms]
(pass) boardHandlers > handleBoard - resize action > should handle resize with only newRows
(pass) boardHandlers > handleBoard - resize action > should handle resize with only newCols
(pass) boardHandlers > handleBoard - resize action > should handle resize with action.rows and action.cols [0.08ms]
(pass) boardHandlers > handleBoard - unknown action > should return current state for unknown action
(pass) boardHandlers > getNextMove - more edge cases > should handle undefined rows
(pass) boardHandlers > getNextMove - more edge cases > should return null when solveLastRow returns empty [0.04ms]

src/features/games/lights-out/components/__tests__/LightsOutInfo.test.tsx:

# Unhandled error between tests
-------------------------------
47 |     getProduct: vi.fn(() => [0, 0, 0]),
48 | }));
49 | 
50 | // Mock MUI components
51 | vi.mock('@mui/material', async importOriginal => {
52 |     const actual = await importOriginal<Record<string, any>>();
                              ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/components/__tests__/LightsOutInfo.test.tsx:52:26)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/components/__tests__/LightsOutInfo.test.tsx:51:4
      at loadAndEvaluateModule (2:1)
-------------------------------


# Unhandled error between tests
-------------------------------
47 |     getProduct: vi.fn(() => [0, 0, 0]),
48 | }));
49 | 
50 | // Mock MUI components
51 | vi.mock('@mui/material', async importOriginal => {
52 |     const actual = await importOriginal<Record<string, any>>();
                              ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/components/__tests__/LightsOutInfo.test.tsx:52:26)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/components/__tests__/LightsOutInfo.test.tsx:51:4
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/games/lights-out/components/__tests__/calculator.test.tsx:

# Unhandled error between tests
-------------------------------
22 |             }),
23 |         }),
24 |     ),
25 | }));
26 | 
27 | describe('Lights Out Calculator UI Helpers', () => {
     ^
ReferenceError: describe is not defined
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/components/__tests__/calculator.test.tsx:27:1
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/games/lights-out/components/__tests__/Example.test.tsx:

# Unhandled error between tests
-------------------------------
68 |             </div>
69 |         ),
70 |     ),
71 | }));
72 | 
73 | describe('Lights Out Example Component', () => {
     ^
ReferenceError: describe is not defined
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/components/__tests__/Example.test.tsx:73:1
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/games/lights-out/hooks/__tests__/useLightsOutGame.test.ts:

# Unhandled error between tests
-------------------------------
 6 | import { useGridNavigation } from '../../../hooks/useGridNavigation';
 7 | import { useSkipTransition } from '../../../hooks/useSkipTransition';
 8 | import { useLightsOutGame } from '../useLightsOutGame';
 9 | import { useLightsOutProps } from '../useLightsOutProps';
10 | 
11 | vi.mock('../../../hooks/useBaseGame');
        ^
TypeError: mock(module, fn) requires a function
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/hooks/__tests__/useLightsOutGame.test.ts:11:4
      at loadAndEvaluateModule (2:1)
-------------------------------


src/features/games/lights-out/pages/__tests__/LightsOut.test.tsx:

# Unhandled error between tests
-------------------------------
12 | import * as boardHandlers from '@/features/games/lights-out/utils/boardHandlers';
13 | import * as hooks from '@/hooks';
14 | 
15 | // Mock icons
16 | vi.mock('@/components/icons', async importOriginal => {
17 |     const actual = await importOriginal<Record<string, any>>();
                              ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/pages/__tests__/LightsOut.test.tsx:17:26)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/pages/__tests__/LightsOut.test.tsx:16:4
      at loadAndEvaluateModule (2:1)
-------------------------------


# Unhandled error between tests
-------------------------------
12 | import * as boardHandlers from '@/features/games/lights-out/utils/boardHandlers';
13 | import * as hooks from '@/hooks';
14 | 
15 | // Mock icons
16 | vi.mock('@/components/icons', async importOriginal => {
17 |     const actual = await importOriginal<Record<string, any>>();
                              ^
TypeError: importOriginal is not a function. (In 'importOriginal()', 'importOriginal' is undefined)
      at <anonymous> (/Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/pages/__tests__/LightsOut.test.tsx:17:26)
      at /Users/bangyen/Documents/repos/bangyen.github.io/src/features/games/lights-out/pages/__tests__/LightsOut.test.tsx:16:4
      at loadAndEvaluateModule (2:1)
-------------------------------


230 tests failed:
(fail) Test Utilities > TestWrapper > renders children with theme provider [0.94ms]
(fail) Test Utilities > TestWrapper > accepts custom theme [0.50ms]
(fail) Test Utilities > TestWrapper > provides router context [0.15ms]
(fail) Test Utilities > renderWithProviders > renders component with providers [0.45ms]
(fail) Test Utilities > renderWithProviders > accepts custom theme option [0.41ms]
(fail) Test Utilities > renderWithProviders > passes through render options [0.12ms]
(fail) Test Utilities > testUtils > createMockFunction returns vitest mock [0.08ms]
(fail) Test Utilities > testUtils > suppressConsoleWarnings suppresses console methods [0.08ms]
(fail) Test Utilities > Integration Tests > all utilities work together [0.30ms]
(fail) Test Utilities > Integration Tests > renderWithProviders works with mock data [0.23ms]
(fail) gameUtils > useCellFactory > should return memoized cell factory [0.03ms]
(fail) useThemePreference > defaults to system mode [0.10ms]
(fail) useThemePreference > resolves system mode based on matchMedia [0.04ms]
(fail) useThemePreference > toggles through light -> dark -> system -> light [0.05ms]
(fail) useThemePreference > persists mode to localStorage [0.05ms]
(fail) useThemePreference > restores mode from localStorage [0.03ms]
(fail) useThemePreference > updates data-theme attribute on document [0.06ms]
(fail) MobileProvider / useMobileContext > provides sm and md breakpoint flags [1.00ms]
(fail) MobileProvider / useMobileContext > returns false for both when viewport is large
(fail) MobileProvider / useMobileContext > returns true for both when viewport is very small
(fail) MobileProvider / useMobileContext > throws when used outside MobileProvider [0.34ms]
(fail) useStableCallback > returns a function with stable identity across renders [0.19ms]
(fail) useStableCallback > always delegates to the latest callback version
(fail) useStableCallback > forwards all arguments to the underlying callback
(fail) useStableCallback > returns the latest callback value even after many re-renders [0.27ms]
(fail) useStableCallback > preserves identity when callback changes on every render
(fail) useTheme (ThemeProvider and useThemeContext) > initializes with system mode and light resolvedMode if system is light
(fail) useTheme (ThemeProvider and useThemeContext) > initializes with dark resolvedMode if system is dark
(fail) useTheme (ThemeProvider and useThemeContext) > initializes from localStorage
(fail) useTheme (ThemeProvider and useThemeContext) > toggles themes in order: system -> light -> dark -> system
(fail) useTheme (ThemeProvider and useThemeContext) > persists mode to localStorage and updates data-theme attribute [0.42ms]
(fail) useTheme (ThemeProvider and useThemeContext) > responds to system theme changes in system mode [0.01ms]
(fail) useTheme (ThemeProvider and useThemeContext) > throws error if used outside of provider
(fail) useDebouncedEffect > fires the callback after the specified delay [0.14ms]
(fail) useDebouncedEffect > does not fire before the delay elapses [0.02ms]
(fail) useDebouncedEffect > resets the timer when dependencies change
(fail) useDebouncedEffect > cleans up the timer on unmount
(fail) useDebouncedEffect > respects different delay values [0.23ms]
(fail) useLocalStorage > returns the default value when nothing is stored
(fail) useLocalStorage > returns the stored value when one exists
(fail) useLocalStorage > persists value changes to localStorage
(fail) useLocalStorage > supports functional updates
(fail) useLocalStorage > falls back to default when stored JSON is corrupt
(fail) useLocalStorage > accepts a custom serializer [0.57ms]
(fail) useLocalStorage > accepts a custom deserializer
(fail) useLocalStorage > falls back to default when deserializer returns undefined
(fail) useLocalStorage > silently ignores storage errors on write
(fail) useLocalStorage > returns a stable setter reference across renders
(fail) useAsync > starts in loading state with fallback data [0.21ms]
(fail) useAsync > resolves data on successful load [0.17ms]
(fail) useAsync > falls back to default data and sets error on failure [0.12ms]
(fail) useAsync > handles non-Error rejection with generic message [0.10ms]
(fail) useAsync > only calls loader once (on mount) [0.07ms]
(fail) useAsync > exposes a refetch callback that re-runs the loader [0.09ms]
(fail) useAsync > cancels stale requests on unmount [0.12ms]
(fail) Helper Components > TooltipButton > renders with icon and title [0.95ms]
(fail) Helper Components > TooltipButton > passes through props [0.09ms]
(fail) Helper Components > TooltipButton > renders with size small [0.09ms]
(fail) Helper Components > TooltipButton > renders with size medium [0.06ms]
(fail) Helper Components > TooltipButton > renders with size inherit [0.05ms]
(fail) Helper Components > GlassCard > renders children with glass-card className [0.08ms]
(fail) Helper Components > GlassCard > applies custom padding via data attribute [0.05ms]
(fail) Helper Components > GlassCard > applies interactive class when specified
(fail) Helper Components > GlassCard > forwards ref correctly [0.06ms]
(fail) Helper Components > GlassCard > applies custom className [0.23ms]
(fail) Helper Components > GlassCard > applies sx as array [0.21ms]
(fail) Helper Components > HomeButton > renders when not hidden [0.14ms]
(fail) Helper Components > HomeButton > does not render when hidden [0.45ms]
(fail) Helper Components > CustomGrid > renders grid with correct dimensions [0.15ms]
(fail) Helper Components > CustomGrid > calls cellProps for each cell [0.10ms]
(fail) Helper Components > CustomGrid > uses custom space when provided [0.15ms]
(fail) Helper Components > CustomGrid > cell with transition false prop [0.13ms]
(fail) Helper Components > CustomGrid > cell with custom transition string [0.08ms]
(fail) Helper Components > CustomGrid > cell with default transition prop [0.08ms]
(fail) Helper Components > uses auto space when space not provided [0.09ms]
(fail) Helper Components > cell with transition string prop [0.16ms]
(fail) RefreshButton branch > returns null when hide is true [0.10ms]
(fail) Navigation > renders navigation container [0.09ms]
(fail) Navigation > renders children with correct aria-label [0.04ms]
(fail) Navigation > has correct aria-label [0.07ms]
(fail) Navigation > stops click propagation [0.13ms]
(fail) ThemeToggle > should show dark mode icon and correct title in light mode [0.07ms]
(fail) ThemeToggle > should show system theme icon and correct title in dark mode [0.41ms]
(fail) ThemeToggle > should show light mode icon and correct title in system mode
(fail) ThemeToggle > should call toggleTheme on click
(fail) ErrorCard > renders title [0.09ms]
(fail) ErrorCard > renders message when provided
(fail) ErrorCard > omits message element when not provided [0.18ms]
(fail) ErrorCard > renders detail content
(fail) ErrorCard > renders action buttons passed as children
(fail) ErrorCard > has alert role for accessibility
(fail) ErrorFallback > renders main error message [0.28ms]
(fail) ErrorFallback > calls onReload when Reload button is clicked [0.37ms]
(fail) ErrorFallback > renders Return to Home link [0.09ms]
(fail) ErrorFallback > Development mode details > shows error details in development [0.09ms]
(fail) ErrorFallback > Development mode details > hides error details in production [0.04ms]
(fail) ErrorBoundary > renders children when no error occurs [0.39ms]
(fail) ErrorBoundary > renders ErrorFallback when a child crashes [0.06ms]
(fail) ErrorBoundary > componentDidCatch logs to console [0.03ms]
(fail) ErrorBoundary > resets state when resetErrorBoundary is called in FallbackComponent
(fail) ErrorBoundary > triggers reload without crashing
(fail) ErrorBoundary > componentDidCatch in production environment
(fail) ErrorBoundary > renders custom FallbackComponent on error [0.17ms]
(fail) ErrorBoundary > renders simple fallback prop on error [0.04ms]
(fail) FeatureErrorFallback > renders default title and error message [0.18ms]
(fail) FeatureErrorFallback > renders custom title and reset label
(fail) FeatureErrorFallback > calls resetErrorBoundary on reset button click [0.12ms]
(fail) FeatureErrorFallback > renders Return to Home link
(fail) FeatureErrorFallback > shows fallback message when error is null
(fail) Error Page > renders 404 and error message
(fail) Error Page > sets document title [0.22ms]
(fail) Error Page > contains link to home [0.01ms]
(fail) MathText > renders plain text without superscripts [0.22ms]
(fail) MathText > renders text with single superscript [0.08ms]
(fail) MathText > renders text with multiple superscripts [0.07ms]
(fail) MathText > converts notation in aria-label for accessibility [0.22ms]
(fail) MathText > handles empty text [0.27ms]
(fail) MathText > handles malformed superscript notation [0.13ms]
(fail) MathText > applies correct styling to superscript [0.09ms]
(fail) FeaturedWork Components > FeaturedWork > renders featured work sections [0.19ms]
(fail) FeaturedWork Components > PublicationCard > renders publication details [0.06ms]
(fail) FeaturedWork Components > ProjectCard > renders project details
(fail) Layout Components > Section > renders children with default padding and maxWidth [0.06ms]
(fail) Layout Components > Section > applies custom id prop
(fail) Layout Components > Section > applies custom paddingY and paddingX props
(fail) Layout Components > HeroContainer > renders children with flex centering [0.31ms]
(fail) Board Component > renders overlay and cell grids correctly
(fail) Board Component > renders with correct layout styles
(fail) Board Component > handles decorative layers via explicit boolean props
(fail) usePalette > returns primary and secondary colors based on theme
(fail) useGetters > getColor returns correct front/back colors based on tile value
(fail) useGetters > getBorder calculates border radius correctly
(fail) useGetters > getBorder handles boundaries correctly [0.66ms]
(fail) useGetters > getFiller determines filler color correctly
(fail) useHandler > getTile returns correct values from grid state [0.13ms]
(fail) useHandler > getTile returns -1 for out of bounds [0.03ms]
(fail) TrophyOverlay > should be non-interactive (pointer-events: none)
(fail) TrophyOverlay > should display Solved! label when shown
(fail) TrophyOverlay > should not be visible when show is false
(fail) TrophyOverlay > should use secondary color if useSecondary is true
(fail) useDrag > should handle mouse down and drag [0.23ms]
(fail) useDrag > should handle right click drag [0.16ms]
(fail) useDrag > should stop dragging on mouse up (global listener) [0.06ms]
(fail) useDrag > should handle touch start [0.08ms]
(fail) useDrag > should handle keyboard activation [0.07ms]
(fail) useDrag > should ignore repeated key presses during keyboard drag [0.05ms]
(fail) useDrag > should toggle cells on focus during keyboard drag [0.07ms]
(fail) useDrag > should use reverse direction for Enter keyboard drag [0.05ms]
(fail) useDrag > should stop keyboard drag on keyup [0.04ms]
(fail) useDrag > should not trigger onFocus toggle when not keyboard dragging
(fail) useDrag > should respect checkEnabled [0.15ms]
(fail) useDrag > should handle touch move using elementFromPoint
(fail) useDrag > should handle touch move when elementFromPoint returns null [0.12ms]
(fail) useDrag > should handle touch move when closest returns null [0.03ms]
(fail) useDrag > should handle touch move when getAttribute returns null [0.10ms]
(fail) useDrag > should not call action when dragging to already-dragged position [0.06ms]
(fail) useDrag > should filter middle mouse button (button=1) [0.03ms]
(fail) useDrag > should debounce mouse events after touch [0.06ms]
(fail) useDrag > should allow mouse events after touch timeout [0.08ms]
(fail) useDrag > should respect preventDefault option
(fail) useDrag > should handle onContextMenu with preventDefault option
(fail) useDrag > should use custom posAttribute
(fail) useDrag > should handle checkEnabled returning false
(fail) useDrag > should not continue dragging if checkEnabled becomes false on hover [0.20ms]
(fail) useDrag > should use default checkEnabled if not provided [0.05ms]
(fail) useDrag > should handle onContextMenu with preventDefault: true [0.06ms]
(fail) useDrag > should not trigger action for other keys in onKeyDown [0.04ms]
(fail) useDrag > should handle right-click touch move (hypothetically) [0.03ms]
(fail) useWinTransition > should not trigger callback if not solved [0.14ms]
(fail) useWinTransition > should trigger callback after delay when solved [0.22ms]
(fail) useWinTransition > should clear timeout on unmount [0.11ms]
(fail) useWinTransition > should clear timeout if solved becomes false before delay [0.14ms]
(fail) useBoardSize > returns computed cell size from calculateBoardSize [0.07ms]
(fail) useBoardSize > resolves function-based boardPadding [0.12ms]
(fail) useBoardSize > applies rowOffset and colOffset [0.07ms]
(fail) useBaseGame > should initialize and return state [0.13ms]
(fail) useBaseGame > should handle onRestore from persistence [0.06ms]
(fail) useBaseGame > should accept function for boardPadding without error [0.03ms]
(fail) useDrag grid mode (onToggle) > should call onToggle with parsed coordinates on initial click
(fail) useDrag grid mode (onToggle) > should handle dragging value
(fail) useDrag grid mode (onToggle) > should not call onToggle if disabled [0.38ms]
(fail) useDrag grid mode (onToggle) > should ignore invalid pos strings [0.04ms]
(fail) ProjectMenu > renders menu button and toggles menu [0.88ms]
(fail) persistSlantState > stores serialized state under the correct key [0.09ms]
(fail) persistSlantState > silently ignores storage errors [0.07ms]
(fail) hasSavedUnsolvedPuzzle > returns false when nothing is saved
(fail) hasSavedUnsolvedPuzzle > returns true when an unsolved puzzle is saved
(fail) hasSavedUnsolvedPuzzle > returns false when the saved puzzle is solved
(fail) hasSavedUnsolvedPuzzle > returns false for invalid JSON
(fail) hasSavedUnsolvedPuzzle > returns false for non-object JSON
(fail) SlantAnalysisBoard > renders the grid correctly [0.24ms]
(fail) SlantAnalysisBoard > handles click interactions [0.09ms]
(fail) SlantAnalysisBoard > handles drag interactions (paint mode) [0.15ms]
(fail) SlantAnalysisBoard > propagates constraints (shallow propagation check) [0.27ms]
(fail) SlantAnalysisBoard > detects conflicts (red highlight) [0.31ms]
(fail) SlantAnalysisBoard > handles state cycling with existing moves [0.09ms]
(fail) SlantAnalysisBoard > renders control buttons when provided
(fail) SlantAnalysisBoard > updates grid state when worker sends result [0.18ms]
(fail) SlantAnalysisBoard > displays empty state for missing numbers [0.19ms]
(fail) SlantAnalysisBoard > handles both desktop and mobile padding variants [0.03ms]
(fail) SlantAnalysisBoard > cycles cell states on multiple clicks [0.12ms]
(fail) SlantAnalysisBoard > shows cycle cells with distinct color [0.14ms]
(fail) SlantAnalysisBoard > color logic: user-set cells show primary color [0.09ms]
(fail) SlantAnalysisBoard > color logic: propagated cells show green [0.17ms]
(fail) SlantAnalysisBoard > number hints display when value is present [0.14ms]
(fail) SlantAnalysisBoard > number hints are hidden when value is null [0.08ms]
(fail) useAnalysisSolver > boots a worker and probes it on mount [0.14ms]
(fail) useAnalysisSolver > dispatches a real solve after probe succeeds [0.10ms]
(fail) useAnalysisSolver > falls back to main-thread solving when worker probe times out [0.09ms]
(fail) useAnalysisSolver > falls back when worker fires onerror [0.04ms]
(fail) useAnalysisSolver > terminates the worker on unmount [0.04ms]
(fail) boardHandlers > getNextMove > should solve last row [0.29ms]
(fail) boardHandlers > getNextMove - edge cases > should return null when no solution exists
(fail) boardHandlers > getNextMove - edge cases > should use precomputed solutions for 3x3 [0.01ms]
(fail) boardHandlers > getNextMove - edge cases > should handle power of 2 values in last row
(fail) boardHandlers > getNextMove - edge cases > should handle all bits set in last row [0.08ms]

 194 pass
 230 fail
 21 errors
 458 expect() calls
Ran 424 tests across 63 files. [1189.00ms]
