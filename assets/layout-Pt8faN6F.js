import{r as s,j as f}from"./vendor_react-D9AZKRQJ.js";import{B as h,u as b}from"./vendor_mui_core-CcNgE9EE.js";import{T as y,a as v}from"./index-Dh9eOJXR.js";const u={calculation:{spaceDivisor:20,pixelMultiplier:16},cellSize:{divisor:4,fontSizeMultiplier:.25},layout:{editorHeight:{xs:{withCode:"300px",withoutCode:"350px"}},fieldsMinHeight:{md:"210px"},padding:{xs:"1rem",md:"2rem"}}};function w(e){return e/u.calculation.spaceDivisor}function $(e,r,n){const t=w(e),i=u.calculation.pixelMultiplier*(e+t);return{rows:Math.floor(r/i),cols:Math.floor(n/i)}}function k(e){switch(e.toLowerCase()){case"arrowup":case"w":return-2;case"arrowdown":case"s":return 2;case"arrowleft":case"a":return-1;case"arrowright":case"d":return 1;default:return 0}}function C(e,r,n,t){const i=t-1,o=n*t;switch(r){case 2:e+=t;break;case-2:e-=t;break;case 1:e%t===i?e-=i:e+=1;break;case-1:e%t===0?e+=i:e-=1}return(e+o)%o}const E=s.memo(function({size:e,children:r,...n}){const t=`${e.toString()}rem`,i=`${(e/u.cellSize.divisor).toString()}rem`,{backgroundColor:o,color:c,boxShadow:a,border:d,opacity:m,transition:l=!0,sx:p,...x}=n,S=l===!1?"none":typeof l=="string"?l:"background-color 200ms ease, color 200ms ease, opacity 200ms ease, transform 200ms ease, border-radius 200ms ease",z=s.useMemo(()=>({...v.flexCenter,borderRadius:i,height:t,width:t,fontSize:`${(e*u.cellSize.fontSizeMultiplier).toString()}rem`,fontWeight:y.fontWeight.semibold,fontFamily:"monospace"}),[i,t,e]);return f.jsx(h,{role:"gridcell",...z,...x,sx:{backgroundColor:o,color:c,boxShadow:a,border:d,opacity:m,transition:S,...p},children:r})}),M=s.memo(function({cols:e,size:r,index:n,spacing:t,cellProps:i}){return f.jsx(h,{role:"row",sx:{display:"flex",gap:t,justifyContent:"center"},children:Array.from({length:e},(o,c)=>s.createElement(E,{...i(n,c),key:`${n.toString()}_${c.toString()}`,size:r}))})}),j=s.memo(function({size:e,rows:r,cols:n,cellProps:t,space:i,sx:o,...c}){const a=w(e),d=`${(i??a).toString()}rem`;return f.jsx(h,{role:"grid","aria-label":`Grid with ${r.toString()} rows and ${n.toString()} columns`,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:d,...o},...c,children:Array.from({length:r},(m,l)=>f.jsx(M,{index:l,cols:n,size:e,spacing:d,cellProps:t},`row_${l.toString()}`))})});function L(){const{innerWidth:e,innerHeight:r}=window;return{width:e,height:r}}function g(e){if(!(e!=null&&e.current))return{width:0,height:0};const{offsetHeight:r,offsetWidth:n}=e.current;return{width:n,height:r}}function H(){const{size:e}=(function(r){const[n,t]=s.useState(r());return s.useEffect(()=>{function i(){t(r())}return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[r]),{size:n,setSize:t}})(L);return e}function W(e){return b(r=>r.breakpoints.down(e))}function D(e){const r=g(e),[n,t]=s.useState(r),i=s.useRef(r);return s.useEffect(()=>{const o=g(e);o.width===i.current.width&&o.height===i.current.height||(i.current=o,t(o))},[e]),s.useEffect(()=>{function o(){const c=g(e);t(a=>c.width!==a.width||c.height!==a.height?c:a)}return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[e]),n}export{j as C,u as G,D as a,C as b,$ as c,H as d,k as g,W as u};
