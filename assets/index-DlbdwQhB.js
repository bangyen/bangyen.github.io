import{j as s,r as e}from"./vendor_react-De-BR_RD.js";import{p as t,q as n,r,s as i,t as a,v as o,w as l,S as c,x,y as d,z as h,n as p,A as u,D as j,E as g,F as m}from"./useBaseGame-1CH692ME.js";import{d as f,T as b,B as S,M as v,g as k,I as y}from"./vendor_mui_core-BZzmbb18.js";import{N as I,h as C,e as N}from"./vendor_mui_icons-CM8DnMhM.js";import{C as B,e as z,s as _,T as O}from"./index-Dwr79pqT.js";import"./PageLayout-377jX0K6.js";import"./lazyNamed-BeJV35L3.js";function P({Icon:e,title:i,text:a}){return s.jsxs(f,{sx:{px:2},children:[s.jsxs(b,{variant:"h6",sx:t,children:[s.jsx(e,{sx:n}),i]}),s.jsx(b,{variant:"body1",sx:r,children:a})]})}function A({instructions:e,footer:t}){return s.jsxs(f,{sx:i,children:[s.jsx(f,{sx:a,children:e.map(({Icon:e,title:t,text:n})=>s.jsx(P,{Icon:e,title:t,text:n},t))}),t]})}function w({children:e}){return s.jsx(f,{sx:i,children:s.jsx(f,{sx:o,children:e})})}function F({step:e,totalSteps:t,onBack:n,onNext:r}){return s.jsxs(f,{sx:l,role:"navigation","aria-label":"Step navigation",children:[s.jsx(S,{onClick:n,disabled:0===e,startIcon:s.jsx(I,{}),"aria-label":"Previous step",sx:{visibility:0===e?"hidden":"visible",color:B.text.primary},children:"Back"}),s.jsx(f,{sx:{display:"flex",gap:1},role:"group","aria-label":`Step ${String(e+1)} of ${String(t)}`,children:Array.from({length:t},(t,n)=>s.jsx(f,{"aria-hidden":"true",sx:{width:c,height:c,borderRadius:"50%",backgroundColor:e===n?B.primary.main:B.interactive.disabled,transition:"background-color 0.3s"}},n))}),s.jsx(S,{onClick:r,disabled:e===t-1,endIcon:s.jsx(C,{}),"aria-label":"Next step",sx:{visibility:e===t-1?"hidden":"visible",color:B.text.primary},children:"Next"})]})}const T=({children:e,id:t})=>s.jsx(b,{id:t,variant:"h5",sx:{color:B.text.primary,fontWeight:O.fontWeight.bold,textAlign:"left",fontSize:O.fontSize.h2},children:e});function W({toggleOpen:t,titles:n,instructions:r,instructionsFooter:i,exampleContent:a,extraSteps:o=[],cardSx:l,contentSxOverride:c,persistenceKey:x,titleId:d}){const h=n.length,{step:b,handleNext:S,handleBack:v}=function(s,t,n){const[r,i]=e.useState(()=>{if(!n)return 0;try{const e=sessionStorage.getItem(n),t=e?parseInt(e,10):0;return isNaN(t)||t<0||t>=s?0:t}catch{return 0}});return{step:r,handleNext:e.useCallback(()=>{i(e=>{const r=e+1;return r<s?(n&&sessionStorage.setItem(n,String(r)),r):(t(),e)})},[s,t,n]),handleBack:e.useCallback(()=>{i(s=>{if(s>0){const e=s-1;return n&&sessionStorage.setItem(n,String(e)),e}return s})},[n])}}(h,t,x),k=[s.jsx(A,{instructions:r,footer:i},"instructions"),s.jsx(w,{children:a},"example"),...o],I=c?c(b):p();return s.jsxs(z,{onClick:s=>{s.stopPropagation()},sx:{..._(m),..._(l)},children:[s.jsxs(f,{sx:I,children:[s.jsxs(f,{sx:u,children:[s.jsx(T,{id:d,children:n[b]}),s.jsx(y,{onClick:t,size:"small","aria-label":"Close",sx:j,children:s.jsx(N,{})})]}),s.jsx(f,{sx:g(b),children:k[b]})]}),s.jsx(F,{step:b,totalSteps:h,onBack:v,onNext:S})]})}function $({open:e,toggleOpen:t,...n}){const r="game-info-title";return s.jsx(v,{open:e,onClose:t,"aria-labelledby":r,slots:{backdrop:k},slotProps:{backdrop:{sx:d}},sx:x,children:s.jsx(f,{sx:h,role:"document",children:s.jsx(W,{...n,toggleOpen:t,titleId:r})})})}export{$ as GameInfo,W as GameInfoContent};
