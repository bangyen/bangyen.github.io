import{r as e,j as r}from"./vendor_react-WaSaIrII.js";import{T as t,C as o}from"./index-DRVHd1NR.js";import{B as i,u as n}from"./vendor_mui_core-CC5VlWLf.js";const s={calculation:{spaceDivisor:20,pixelMultiplier:16},cellSize:{divisor:4,fontSizeMultiplier:.25},layout:{editorHeight:{xs:{withCode:"300px",withoutCode:"350px"}},fieldsMinHeight:{md:"210px"},padding:{xs:"1rem",md:"2rem"}}};function a(e){return e/s.calculation.spaceDivisor}function c(e,r,t){const o=a(e),i=s.calculation.pixelMultiplier*(e+o);return{rows:Math.floor(r/i),cols:Math.floor(t/i)}}function l(e){switch(e.toLowerCase()){case"arrowup":case"w":return-2;case"arrowdown":case"s":return 2;case"arrowleft":case"a":return-1;case"arrowright":case"d":return 1;default:return 0}}function u(e,r,t,o){const i=o-1,n=t*o;switch(r){case 2:e+=o;break;case-2:e-=o;break;case 1:e%o===i?e-=i:e+=1;break;case-1:e%o===0?e+=i:e-=1}return(e+n)%n}const d=e.memo(function({size:n,children:a,...c}){const l=`${n.toString()}rem`,u=`${(n/s.cellSize.divisor).toString()}rem`,{backgroundColor:d,color:f,boxShadow:h,border:m,opacity:g,transition:p=!0,sx:w,...x}=c,S=!1===p?"none":"string"==typeof p?p:"background-color 200ms ease, color 200ms ease, opacity 200ms ease, transform 200ms ease, border-radius 200ms ease",b=e.useMemo(()=>({...o.flexCenter,borderRadius:u,height:l,width:l,fontSize:`${(n*s.cellSize.fontSizeMultiplier).toString()}rem`,fontWeight:t.fontWeight.semibold,fontFamily:"monospace"}),[u,l,n]);return r.jsx(i,{...b,...x,sx:{backgroundColor:d,color:f,boxShadow:h,border:m,opacity:g,transition:S,...w},children:a})}),f=e.memo(function({cols:t,size:o,index:n,spacing:s,cellProps:a}){return r.jsx(i,{sx:{display:"flex",gap:s,justifyContent:"center"},children:Array.from({length:t},(r,t)=>e.createElement(d,{...a(n,t),key:`${n.toString()}_${t.toString()}`,size:o}))})}),h=e.memo(function({size:e,rows:t,cols:o,cellProps:n,space:s,sx:c,...l}){const u=a(e),d=`${(s??u).toString()}rem`;return r.jsx(i,{role:"grid","aria-label":`Grid with ${t.toString()} rows and ${o.toString()} columns`,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:d,...c},...l,children:Array.from({length:t},(t,i)=>r.jsx(f,{index:i,cols:o,size:e,spacing:d,cellProps:n},`row_${i.toString()}`))})});function m(e){if(!e?.current)return{width:0,height:0};const{offsetHeight:r,offsetWidth:t}=e.current;return{width:t,height:r}}function g(e){return n(r=>r.breakpoints.down(e))}function p(r){const t=m(r),[o,i]=e.useState(t),n=e.useRef(t);return e.useEffect(()=>{const e=m(r);e.width===n.current.width&&e.height===n.current.height||(n.current=e,i(e))},[r]),e.useEffect(()=>{function e(){const e=m(r);i(r=>e.width!==r.width||e.height!==r.height?e:r)}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[r]),o}export{h as C,s as G,p as a,u as b,c,l as g,g as u};
