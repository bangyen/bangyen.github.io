import{r as a,j as e}from"./vendor_react-WaSaIrII.js";import{p as r}from"./pako.esm-hE_UBizs.js";import{R as t,P as s,a as o}from"./ResearchDemo-BvM1cie0.js";import{d as i,a as n,U as c}from"./index-Bw6W8Thg.js";import{B as p,T as h,s as l,t as m}from"./vendor_mui_icons-D2mx3Sr-.js";import"./GlassCard-xscw10sR.js";import"./vendor_mui_core-D4-4kcvK.js";import"./GlobalHeader-D6hH8yHx.js";import"./vendor_recharts-C1M_ch-7.js";const d=()=>{const a=[];for(let e=0;e<=o.zsharp.maxEpochs;e++){const r=o.zsharp.baseAccuracy+e/o.zsharp.maxEpochs*(o.zsharp.maxAccuracy-o.zsharp.baseAccuracy),t=r+o.zsharp.improvement,s=o.zsharp.baseLoss-e/o.zsharp.maxEpochs*(o.zsharp.baseLoss-o.zsharp.minLoss),i=s-o.zsharp.lossReduction;a.push({epoch:e+1,sgd:r,zsharp:t,sgdLoss:s,zsharpLoss:i})}return a},g=()=>{const[o,g]=a.useState([]),[y,u]=a.useState(!0),[x,z]=a.useState("accuracy");a.useEffect(()=>{document.title=i.zsharp;(async()=>{u(!0);try{const a=await(async()=>{try{const a=await fetch("/zsharp_data.json.gz");if(!a.ok)throw new Error(`HTTP error! status: ${a.status.toString()}`);const e=await a.arrayBuffer(),t=new Uint8Array(e);let o;if(31===t[0]&&139===t[1]){const a=r.ungzip(t,{to:"string"});o=JSON.parse(a)}else{const a=(new TextDecoder).decode(e);o=JSON.parse(a)}const i=[],n=o["SGD Baseline"]?.train_accuracies??[],c=o.ZSharp?.train_accuracies??[],p=o["SGD Baseline"]?.train_losses??[],h=o.ZSharp?.train_losses??[],l=Math.max(n.length,c.length);for(let r=0;r<l;r++)i.push({epoch:r+1,sgd:(n[r]??0)/s.divisor,zsharp:(c[r]??0)/s.divisor,sgdLoss:p[r]??0,zsharpLoss:h[r]??0});return i}catch(a){return d()}})();g(a)}catch(a){g(d())}finally{u(!1)}})()},[]);const f=[{key:"accuracy",label:"Accuracy",icon:p,chartTitle:"Performance Comparison",dataProcessor:a=>a,chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*s.multiplier).toFixed(1)}%`,yAxisDomain:["dataMin - 0.05","dataMax + 0.05"],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,e)=>[`${(a*s.multiplier).toFixed(1)}%`,e],lines:[{dataKey:"sgd",name:"SGD",color:n.primary.main},{dataKey:"zsharp",name:"ZSharp",color:n.data.green}]}},{key:"loss",label:"Loss",icon:h,chartTitle:"Loss Evaluation",dataProcessor:a=>a.map(a=>({epoch:a.epoch,sgd:a.sgdLoss,zsharp:a.zsharpLoss})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>a.toFixed(3),yAxisDomain:["dataMin - 0.1","dataMax + 0.1"],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,e)=>[a.toFixed(3),e],lines:[{dataKey:"sgd",name:"SGD Loss",color:n.primary.main},{dataKey:"zsharp",name:"ZSharp Loss",color:n.data.green}]}},{key:"learning_curve",label:"Learning",icon:l,chartTitle:"Learning Progress",dataProcessor:a=>a.map(a=>({epoch:a.epoch,gap:a.zsharp-a.sgd})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*s.multiplier).toFixed(1)}%`,yAxisDomain:["dataMin - 0.005","dataMax + 0.005"],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,e)=>[`${(a*s.multiplier).toFixed(2)}%`,e],lines:[{dataKey:"gap",name:"Accuracy Gap",color:n.data.amber}]}},{key:"convergence",label:"Convergence",icon:m,chartTitle:"Convergence Analysis",dataProcessor:a=>a.map((e,r)=>{if(0===r)return{epoch:e.epoch,sgd:0,zsharp:0};const t=a[r-1];return t?{epoch:e.epoch,sgd:e.sgd-t.sgd,zsharp:e.zsharp-t.zsharp}:{epoch:e.epoch,sgd:0,zsharp:0}}),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*s.multiplier).toFixed(1)}%`,yAxisDomain:["dataMin - 0.005","dataMax + 0.005"],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,e)=>[`${(a*s.multiplier).toFixed(3)}%`,e],lines:[{dataKey:"sgd",name:"SGD Rate",color:n.primary.main},{dataKey:"zsharp",name:"ZSharp Rate",color:n.data.green}]}}];return e.jsx(t,{title:"ZSharp",subtitle:"Neural Network Optimization Research",githubUrl:c.zsharpRepo,chartData:o,viewTypes:f,currentViewType:x,onViewTypeChange:z,loading:y,loadingMessage:"Loading real experiment data..."})};export{g as default};
