import{f as u,a as g,b as d,R as r}from"./chartHelpers-CzaZBrEi.js";import{v as f,p as x,w as h}from"./vendor_mui_icons-DjGsc_25.js";import{C as e}from"./index-BuQIIwSz.js";import"./vendor_react-BjoZPjhv.js";import"./vendor_mui_core-Bzt2vl7i.js";const E=async()=>{const o=await u("/oligopoly_data.json.gz");if(!Array.isArray(o))throw new TypeError("Invalid data format: expected array");return o},P=(o,i,n,c,p,m)=>{if(o.length===0)return[];const s=o.filter(t=>t.num_firms===i&&t.model_type===n&&t.demand_elasticity===c&&t.base_price===p&&t.collusion_enabled===m);return s.length===0?o.filter(a=>a.num_firms===i&&a.model_type===n).sort((a,y)=>a.round-y.round).slice(0,r.oligopoly.maxRounds):s.sort((t,l)=>t.round-l.round).slice(0,15)},D={type:"line",xAxisKey:"round",yAxisFormatter:o=>`$${o.toFixed(2)}`,yAxisDomain:d(5),dualYAxis:!0,rightYAxisFormatter:o=>o.toFixed(2),rightYAxisDomain:d(r.oligopoly.hhiAxisPadding),tooltipLabelFormatter:g("Round"),tooltipFormatter:(o,i)=>[i==="Market Price"?`$${o.toFixed(2)}`:o.toFixed(2),i],lines:[{dataKey:"price",name:"Market Price",color:e.primary.main,yAxisId:"left"},{dataKey:"hhi",name:"HHI Concentration",color:e.data.amber,yAxisId:"right"}]};function M(o,i){return[{label:"Number of Firms",icon:f,color:e.primary.main,value:o.numFirms,onChange:i.setNumFirms,options:r.oligopoly.options.firms},{label:"Demand Elasticity",icon:x,color:e.data.green,value:o.demandElasticity,onChange:i.setDemandElasticity,options:r.oligopoly.options.elasticity},{label:"Base Price",icon:h,color:e.data.amber,value:o.basePrice,onChange:i.setBasePrice,options:r.oligopoly.options.price}]}export{M as buildOligopolyControls,P as filterMatrixData,E as loadRealSimulationMatrix,D as oligopolyChartConfig};
