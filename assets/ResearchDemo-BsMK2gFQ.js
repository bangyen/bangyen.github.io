const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ResearchChart-BfsgEqaa.js","assets/vendor_react-De-BR_RD.js","assets/chartHelpers-DmSP51oy.js","assets/index-BB_VRBM2.js","assets/vendor_mui_core-hUAqgBQf.js","assets/vendor_mui_icons-BTq-bsb5.js","assets/index-GLeeZWEo.css","assets/vendor_recharts-DzV5882F.js","assets/lazyNamed-Ul4ADbaG.js","assets/PageLayout-zqQjDcDy.js","assets/ErrorState-DldcMCCz.js"])))=>i.map(i=>d[i]);
import{S as e,d as r,C as t,A as o,T as n,c as a,_ as i}from"./index-BB_VRBM2.js";import{a as s,j as l,r as d}from"./vendor_react-De-BR_RD.js";import{d as c,B as x,f as m,T as h,i as u,j as g}from"./vendor_mui_core-hUAqgBQf.js";import{R as b,B as p}from"./vendor_mui_icons-BTq-bsb5.js";import{u as f,E as y,l as C}from"./lazyNamed-Ul4ADbaG.js";import{P as j}from"./PageLayout-zqQjDcDy.js";import{E as v}from"./ErrorState-DldcMCCz.js";const S=d.createContext(void 0);function w({children:e}){const r=f("sm"),t=f("md"),o=s.useMemo(()=>({sm:r,md:t}),[r,t]);return l.jsx(S.Provider,{value:o,children:e})}function T(){const e=d.useContext(S);if(void 0===e)throw new Error("useMobileContext must be used within a MobileProvider");return e}const R={type:"line",lines:[],xAxisKey:"x",yAxisFormatter:e=>e.toFixed(2),yAxisDomain:["dataMin - 0.05","dataMax + 0.05"],dualYAxis:!1,rightYAxisFormatter:e=>e.toFixed(2),rightYAxisDomain:["dataMin - 0.05","dataMax + 0.05"],tooltipLabelFormatter:e=>`Round ${String(e)}`,tooltipFormatter:(e,r)=>[e.toFixed(2),r]},k={HOVER:"hsl(141, 64%, 39%)"},I={HOVER:"hsl(34, 95%, 48%)"},_={BUTTON_HEIGHT:"36.5px",CONTROLS_SPACING:2.5,INNER_PADDING:"1rem",INNER_PADDING_SM:"0.6rem 0.8rem",FONT_SIZE_SM:"0.85rem",FONT_SIZE_MD:"0.95rem"},N={rootContainer:{marginBottom:0,width:"100%",boxSizing:"border-box",paddingBottom:e.padding.md},resetButtonContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center",mb:_.CONTROLS_SPACING},resetButton:{color:t.text.secondary,borderColor:t.border.subtle,borderRadius:e.borderRadius.lg,px:2,py:.5,fontSize:_.FONT_SIZE_MD,fontWeight:n.fontWeight.medium,transition:o.transitions.standard,"&:hover":{borderColor:t.primary.main,backgroundColor:t.interactive.hover,transform:"translateY(-1px)",boxShadow:r.sm}},controlCard:{marginBottom:0,padding:_.INNER_PADDING,backgroundColor:t.interactive.disabled,borderRadius:e.borderRadius.lg,border:`1px solid ${t.border.subtle}`},iconLabelContainer:{display:"flex",alignItems:"center",gap:1,mb:2},label:{color:t.text.secondary,fontWeight:n.fontWeight.medium}};function M(a){const i=function(e){return e.hoverColor?e.hoverColor:e.color===t.primary.main?t.primary.dark:e.color===t.data.green?k.HOVER:e.color===t.data.amber?I.HOVER:e.color??t.primary.dark}(a);return{width:"100%",borderRadius:e.borderRadius.lg,overflow:"hidden",border:`1px solid ${t.border.subtle}`,"& .MuiToggleButtonGroup-grouped":{margin:0,border:0,borderRadius:0,"&:not(:first-of-type)":{borderLeft:`1px solid ${t.border.subtle}`}},"& .MuiToggleButton-root":{color:t.text.secondary,borderColor:t.border.subtle,padding:_.INNER_PADDING_SM,flex:1,fontSize:_.FONT_SIZE_MD,fontWeight:n.fontWeight.medium,borderRadius:0,transition:o.transitions.standard,"&.Mui-selected":{backgroundColor:a.color??t.primary.main,color:t.text.primary,borderColor:a.color??t.primary.main,"&:hover":{backgroundColor:i,borderColor:i,transform:"translateY(-1px)",boxShadow:r.sm}},"&:hover":{backgroundColor:t.interactive.hover,transform:"translateY(-1px)"}}}}function D({count:e,containerRole:r="toolbar",indexAttribute:t="data-index"}){return{getItemProps:d.useCallback((o,n)=>({tabIndex:n?0:-1,[t]:o,onKeyDown:n=>{const{key:a,currentTarget:i}=n;let s=null;switch(a){case"ArrowLeft":s=Math.max(0,o-1);break;case"ArrowRight":s=Math.min(e-1,o+1);break;case"Home":s=0;break;case"End":s=e-1;break;default:return}if(s===o)return;n.preventDefault();const l=i.closest(`[role="${r}"]`);if(!l)return;const d=l.querySelector(`[${t}="${String(s)}"]`);d instanceof HTMLElement&&d.focus()}}),[e,r,t])}}function E({control:e}){const{getItemProps:r}=D({count:e.options.length,containerRole:"group"});return l.jsx(u,{value:e.value,exclusive:!0,onChange:(r,t)=>{null!==t&&e.onChange(t)},size:"small","aria-label":e.label,sx:M(e),children:e.options.map((t,o)=>l.jsx(g,{value:t.value,"aria-label":`${e.label}: ${t.label}`,...r(o,t.value===e.value),children:t.label},t.value))})}const z=s.memo(function({controls:e,onReset:r,resetLabel:o="Reset"}){return 0===e.length?null:l.jsxs(c,{sx:N.rootContainer,children:[r&&l.jsx(c,{sx:N.resetButtonContainer,children:l.jsx(x,{variant:"outlined",size:"small",startIcon:l.jsx(b,{}),onClick:r,sx:N.resetButton,children:o})}),l.jsx(m,{container:!0,spacing:_.CONTROLS_SPACING,children:e.map((e,r)=>{return l.jsx(m,{size:{xs:12,md:4},children:l.jsxs(c,{sx:N.controlCard,children:[l.jsxs(c,{sx:N.iconLabelContainer,children:[e.icon&&l.jsx(e.icon,{sx:(o=e.color,{color:o??t.primary.light,fontSize:"1.1rem"})}),l.jsx(h,{variant:"body2",sx:N.label,children:e.label})]}),l.jsx(E,{control:e})]})},e.label||r);var o})})]})}),A={color:t.text.secondary,padding:0,minWidth:0,"&:hover":{backgroundColor:"transparent",color:t.primary.main},alignSelf:{xs:"center",sm:"flex-end"},textTransform:"none",fontSize:"0.8rem"},B={...A,marginBottom:0},L={...A,marginBottom:-2},P={color:t.text.secondary,fontSize:n.fontSize.subheading,textAlign:{xs:"center",md:"right"},whiteSpace:{xs:"normal",md:"nowrap"},display:{xs:"none",sm:"block"}},O={display:"flex",flexDirection:"column",alignItems:{xs:"center",md:"flex-start"},gap:2,marginBottom:{xs:3,md:4},width:"100%"},V={display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:{xs:"center",md:"baseline"},width:"100%"},F={color:t.text.primary,fontWeight:n.fontWeight.bold,fontSize:n.fontSize.h2,textAlign:{xs:"center",md:"left"}};function W({backUrl:e,sx:r}){return l.jsx(x,{component:"a",href:`#${e}`,startIcon:l.jsx(p,{}),size:"small",sx:r,children:"Back to Simulation"})}const H=s.memo(function({title:e,subtitle:r,backUrl:t}){const{sm:o}=T(),n=t&&o?l.jsx(W,{backUrl:t,sx:B}):l.jsx(h,{variant:"h5",sx:P,children:r});return l.jsxs(c,{sx:O,children:[t&&!o&&l.jsx(W,{backUrl:t,sx:L}),l.jsxs(c,{sx:V,children:[l.jsx(h,{variant:"h1",sx:F,children:e}),n]})]})}),$={marginBottom:3,width:"100%",boxSizing:"border-box"},G=a=>({width:"100%",color:a?"inherit":t.text.secondary,backgroundColor:a?t.primary.main:t.surface.elevated,"&.MuiButton-root":{color:a?t.text.primary:t.text.secondary},borderColor:t.border.subtle,borderWidth:"1px",borderStyle:"solid",borderRadius:e.borderRadius.lg,minHeight:_.BUTTON_HEIGHT,padding:_.INNER_PADDING_SM,fontSize:_.FONT_SIZE_SM,fontWeight:n.fontWeight.medium,transition:o.transitions.standard,"&:hover":{backgroundColor:a?t.primary.dark:t.interactive.hover,transform:"translateY(-1px)",boxShadow:r.sm}}),U=s.memo(({viewTypes:e,currentViewType:r,onViewTypeChange:t})=>{const{getItemProps:o}=D({count:e.length});return e.length<=1?null:l.jsx(c,{sx:$,children:l.jsx(c,{role:"toolbar","aria-label":"View type",sx:(n=e.length,{display:"grid",gridTemplateColumns:{xs:"repeat(2, minmax(0, 1fr))",md:`repeat(${Math.min(n,4).toString()}, 1fr)`},gap:1.5,width:"100%",margin:0}),children:e.map((e,n)=>{const a=e.icon,i=r===e.key;return l.jsx(x,{variant:"outlined",size:"small",startIcon:l.jsx(a,{}),onClick:()=>{t(e.key)},"aria-label":`View ${e.label}`,"aria-pressed":i,sx:G(i),...o(n,i),children:e.label},e.key)})})});var n}),Y={position:"relative",padding:e.padding.md,paddingTop:e.padding.xl,paddingBottom:{xs:e.padding.md,md:0},boxSizing:"border-box",width:"100%",maxWidth:"100vw",overflowX:"hidden"},Z={...a.flexCenter,flexDirection:"column",zIndex:1,padding:0,minHeight:0},K={textAlign:"center",maxWidth:e.maxWidth.md,width:"100%",padding:{xs:"0 0.5rem",md:"0 2rem"},boxSizing:"border-box",overflow:"hidden"};function q({message:e="Loading...",height:r="100vh"}){return l.jsx(c,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,color:t.text.primary},children:l.jsx(h,{children:e})})}function X({children:e,height:r=400,message:o="Loading...",inline:n=!1,inlineFallback:a="",errorFallback:i}){const s=n?l.jsx(d.Suspense,{fallback:l.jsx(h,{component:"span",variant:"inherit",sx:{color:t.text.secondary,opacity:.6},children:a}),children:e}):l.jsx(d.Suspense,{fallback:l.jsx(q,{message:o,height:r}),children:e});return i?l.jsx(y,{fallback:i,children:s}):s}const J=C(()=>i(()=>import("./ResearchChart-BfsgEqaa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),"ResearchChart"),Q=l.jsx(v,{message:"Failed to load chart. Please refresh the page."}),ee=({title:e,pageTitle:r,subtitle:t,githubUrl:o,children:n,backUrl:a,...i})=>{const{chartData:s,chartConfig:x,chartTitle:h,loading:u,loadingMessage:g,viewTypes:b,currentViewType:p,onViewTypeChange:f,controls:y,onReset:C,resetLabel:v}=function({chart:e={},view:r={},controls:t=[],onReset:o,resetLabel:n="Reset"}){const{data:a=[],config:i=R,title:s=null,loading:l=!1,loadingMessage:d="Loading data..."}=e,{types:c=[],current:x="default",onChange:m=()=>{}}=r;return{chartData:a,chartConfig:i,chartTitle:s,loading:l,loadingMessage:d,viewTypes:c,currentViewType:x,onViewTypeChange:m,controls:t,onReset:o,resetLabel:n}}(i),{data:S,chartConfig:T,title:k}=function(e,r,t,o,n){return d.useMemo(()=>{const a=e.find(e=>e.key===r);return{data:0===t.length?[]:a?.dataProcessor?a.dataProcessor(t):t,chartConfig:a?.chartConfig??o,title:n??(e.length>0?a?.chartTitle??"Data Visualization":"Data Visualization")}},[e,r,t,o,n])}(b,p,s,x,h??null);return l.jsx(j,{title:r??e,githubUrl:o,children:l.jsx(w,{children:l.jsx(m,{container:!0,flex:1,flexDirection:"column",sx:Y,children:l.jsx(m,{size:{xs:12},flex:1,sx:Z,children:l.jsxs(c,{sx:K,children:[l.jsx(H,{title:e,subtitle:t,backUrl:a}),l.jsx(X,{message:"Loading Chart...",height:400,errorFallback:Q,children:l.jsx(J,{currentData:S,currentChartConfig:T,loading:u,loadingMessage:g,chartTitle:k})}),l.jsx(U,{viewTypes:b,currentViewType:p,onViewTypeChange:f}),l.jsx(z,{controls:y,onReset:C,resetLabel:v}),n]})})})})})};export{ee as R,T as u};
