import{r as a,j as r}from"./vendor_react-WaSaIrII.js";import{p as e}from"./pako.esm-hE_UBizs.js";import{R as s,P as t,a as o}from"./ResearchDemo-ug4qaFMT.js";import{d as i,a as n,U as p}from"./index-B-l19WKQ.js";import{B as c,T as h,S as d,g as l}from"./vendor_mui_icons-nmK6gwuH.js";import"./GlassCard-mrHjUWCi.js";import"./vendor_mui_core-CC5VlWLf.js";import"./GlobalHeader-BJIpmPyL.js";import"./vendor_recharts-CDIGGVwx.js";const m=()=>{const a=[];for(let r=0;r<=o.zsharp.maxEpochs;r++){const e=o.zsharp.baseAccuracy+r/o.zsharp.maxEpochs*(o.zsharp.maxAccuracy-o.zsharp.baseAccuracy),s=e+o.zsharp.improvement,t=o.zsharp.baseLoss-r/o.zsharp.maxEpochs*(o.zsharp.baseLoss-o.zsharp.minLoss),i=t-o.zsharp.lossReduction;a.push({epoch:r+1,sgd:e,zsharp:s,sgdLoss:t,zsharpLoss:i})}return a},g=()=>{const[g,y]=a.useState([]),[u,x]=a.useState(!0),[z,S]=a.useState("accuracy");a.useEffect(()=>{document.title=i.zsharp;(async()=>{x(!0);try{const a=await(async()=>{try{const a=await fetch("/zsharp_data.json.gz");if(!a.ok)throw new Error(`HTTP error! status: ${a.status.toString()}`);const r=await a.arrayBuffer(),s=new Uint8Array(r);let o;if(31===s[0]&&139===s[1]){const a=e.ungzip(s,{to:"string"});o=JSON.parse(a)}else{const a=(new TextDecoder).decode(r);o=JSON.parse(a)}const i=[],n=o["SGD Baseline"]?.train_accuracies??[],p=o.ZSharp?.train_accuracies??[],c=o["SGD Baseline"]?.train_losses??[],h=o.ZSharp?.train_losses??[],d=Math.max(n.length,p.length);for(let e=0;e<d;e++)i.push({epoch:e+1,sgd:(n[e]??0)/t.divisor,zsharp:(p[e]??0)/t.divisor,sgdLoss:c[e]??0,zsharpLoss:h[e]??0});return i}catch(a){return m()}})();y(a)}catch(a){y(m())}finally{x(!1)}})()},[]);const f=[{key:"accuracy",label:"Accuracy",icon:c,chartTitle:"Performance Comparison",dataProcessor:a=>a,chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*t.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(o.zsharp.yAxisPadding)}`,`dataMax + ${String(o.zsharp.yAxisPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*t.multiplier).toFixed(1)}%`,r],lines:[{dataKey:"sgd",name:"SGD",color:n.primary.main},{dataKey:"zsharp",name:"ZSharp",color:n.data.green}]}},{key:"loss",label:"Loss",icon:h,chartTitle:"Loss Evaluation",dataProcessor:a=>a.map(a=>({epoch:a.epoch,sgd:a.sgdLoss,zsharp:a.zsharpLoss})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>a.toFixed(3),yAxisDomain:[`dataMin - ${String(o.zsharp.lossPadding)}`,`dataMax + ${String(o.zsharp.lossPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[a.toFixed(3),r],lines:[{dataKey:"sgd",name:"SGD Loss",color:n.primary.main},{dataKey:"zsharp",name:"ZSharp Loss",color:n.data.green}]}},{key:"learning_curve",label:"Learning",icon:d,chartTitle:"Learning Progress",dataProcessor:a=>a.map(a=>({epoch:a.epoch,gap:a.zsharp-a.sgd})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*t.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(o.zsharp.gapPadding)}`,`dataMax + ${String(o.zsharp.gapPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*t.multiplier).toFixed(2)}%`,r],lines:[{dataKey:"gap",name:"Accuracy Gap",color:n.data.amber}]}},{key:"convergence",label:"Convergence",icon:l,chartTitle:"Convergence Analysis",dataProcessor:a=>a.map((r,e)=>{if(0===e)return{epoch:r.epoch,sgd:0,zsharp:0};const s=a[e-1];return s?{epoch:r.epoch,sgd:r.sgd-s.sgd,zsharp:r.zsharp-s.zsharp}:{epoch:r.epoch,sgd:0,zsharp:0}}),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*t.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(o.zsharp.convergencePadding)}`,`dataMax + ${String(o.zsharp.convergencePadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*t.multiplier).toFixed(3)}%`,r],lines:[{dataKey:"sgd",name:"SGD Rate",color:n.primary.main},{dataKey:"zsharp",name:"ZSharp Rate",color:n.data.green}]}}];return r.jsx(s,{title:"ZSharp",subtitle:"Neural Network Optimization Research",githubUrl:p.zsharpRepo,chartData:g,viewTypes:f,currentViewType:z,onViewTypeChange:S,loading:u,loadingMessage:"Loading real experiment data..."})};export{g as default};
