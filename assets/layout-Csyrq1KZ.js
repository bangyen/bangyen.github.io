import{r as a,j as f}from"./vendor_react-BC_ZxTUy.js";import{T as z,C as y}from"./index-C8P4Xo67.js";import{B as h,u as C}from"./vendor_mui_core-D6ruIU1t.js";const u={calculation:{spaceDivisor:20,pixelMultiplier:16},cellSize:{divisor:4,fontSizeMultiplier:.25},layout:{editorHeight:{xs:{withCode:"300px",withoutCode:"350px"}},fieldsMinHeight:{md:"210px"},padding:{xs:"1rem",md:"2rem"}}};function p(e){return e/u.calculation.spaceDivisor}function $(e,r,i){const t=p(e),o=u.calculation.pixelMultiplier*(e+t);return{rows:Math.floor(r/o),cols:Math.floor(i/o)}}function k(e){switch(e.toLowerCase()){case"arrowup":case"w":return-2;case"arrowdown":case"s":return 2;case"arrowleft":case"a":return-1;case"arrowright":case"d":return 1;default:return 0}}function M(e,r,i,t){const o=t-1,n=i*t;switch(r){case 2:e+=t;break;case-2:e-=t;break;case 1:e%t===o?e-=o:e+=1;break;case-1:e%t===0?e+=o:e-=1}return(e+n)%n}const v=a.memo(function({size:e,children:r,...i}){const t=`${e.toString()}rem`,o=`${(e/u.cellSize.divisor).toString()}rem`,{backgroundColor:n,color:s,boxShadow:c,border:d,opacity:g,transition:l=!0,sx:w,...x}=i,S=l===!1?"none":typeof l=="string"?l:"background-color 200ms ease, color 200ms ease, opacity 200ms ease, transform 200ms ease, border-radius 200ms ease",b=a.useMemo(()=>({...y.flexCenter,borderRadius:o,height:t,width:t,fontSize:`${(e*u.cellSize.fontSizeMultiplier).toString()}rem`,fontWeight:z.fontWeight.semibold,fontFamily:"monospace"}),[o,t,e]);return f.jsx(h,{...b,...x,sx:{backgroundColor:n,color:s,boxShadow:c,border:d,opacity:g,transition:S,...w},children:r})}),j=a.memo(function({cols:e,size:r,index:i,spacing:t,cellProps:o}){return f.jsx(h,{sx:{display:"flex",gap:t,justifyContent:"center"},children:Array.from({length:e},(n,s)=>a.createElement(v,{...o(i,s),key:`${i.toString()}_${s.toString()}`,size:r}))})}),E=a.memo(function({size:e,rows:r,cols:i,cellProps:t,space:o,sx:n,...s}){const c=p(e),d=`${(o??c).toString()}rem`;return f.jsx(h,{role:"grid","aria-label":`Grid with ${r.toString()} rows and ${i.toString()} columns`,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:d,...n},...s,children:Array.from({length:r},(g,l)=>f.jsx(j,{index:l,cols:i,size:e,spacing:d,cellProps:t},`row_${l.toString()}`))})});function m(e){if(!(e!=null&&e.current))return{width:0,height:0};const{offsetHeight:r,offsetWidth:i}=e.current;return{width:i,height:r}}function D(e){return C(r=>r.breakpoints.down(e))}function H(e){const r=m(e),[i,t]=a.useState(r),o=a.useRef(r);return a.useEffect(()=>{const n=m(e);n.width===o.current.width&&n.height===o.current.height||(o.current=n,t(n))},[e]),a.useEffect(()=>{function n(){const s=m(e);t(c=>s.width!==c.width||s.height!==c.height?s:c)}return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[e]),i}export{E as C,u as G,H as a,M as b,$ as c,k as g,D as u};
