const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ResearchChart-DOgtQa3C.js","assets/vendor_react-BjoZPjhv.js","assets/chartHelpers-CzaZBrEi.js","assets/index-BKHJR21r.js","assets/vendor_mui_icons-CLHgFD_-.js","assets/vendor_mui_core-Bzt2vl7i.js","assets/index-GLeeZWEo.css","assets/vendor_recharts-BL8sILBP.js","assets/layout-DjuNrwTn.js","assets/PageLayout-BOYuJdAS.js","assets/ErrorState-D3w5ap8w.js"])))=>i.map(i=>d[i]);
import{S as m,d as T,C as r,A as I,T as f,c as G,_ as H}from"./index-BKHJR21r.js";import{a as j,j as t,r as b}from"./vendor_react-BjoZPjhv.js";import{d as u,B as v,f as R,T as S,i as Y,j as F}from"./vendor_mui_core-Bzt2vl7i.js";import{R as W,B as V}from"./vendor_mui_icons-CLHgFD_-.js";import{u as A,E as $}from"./layout-DjuNrwTn.js";import{P as U}from"./PageLayout-BOYuJdAS.js";import{E as Z}from"./ErrorState-D3w5ap8w.js";const B=b.createContext(void 0);function K({children:e}){const o=A("sm"),n=A("md"),s=j.useMemo(()=>({sm:o,md:n}),[o,n]);return t.jsx(B.Provider,{value:s,children:e})}function q(){const e=b.useContext(B);if(e===void 0)throw new Error("useMobileContext must be used within a MobileProvider");return e}const X={type:"line",lines:[],xAxisKey:"x",yAxisFormatter:e=>e.toFixed(2),yAxisDomain:["dataMin - 0.05","dataMax + 0.05"],dualYAxis:!1,rightYAxisFormatter:e=>e.toFixed(2),rightYAxisDomain:["dataMin - 0.05","dataMax + 0.05"],tooltipLabelFormatter:e=>`Round ${String(e)}`,tooltipFormatter:(e,o)=>[e.toFixed(2),o]},x={GREEN:{HOVER:"hsl(141, 64%, 39%)"},AMBER:{HOVER:"hsl(34, 95%, 48%)"},LAYOUT:{BUTTON_HEIGHT:"36.5px",CONTROLS_SPACING:2.5,INNER_PADDING:"1rem",INNER_PADDING_SM:"0.6rem 0.8rem",FONT_SIZE_SM:"0.85rem",FONT_SIZE_MD:"0.95rem"}},C={rootContainer:{marginBottom:0,width:"100%",boxSizing:"border-box",paddingBottom:m.padding.md},resetButtonContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center",mb:x.LAYOUT.CONTROLS_SPACING},resetButton:{color:r.text.secondary,borderColor:r.border.subtle,borderRadius:m.borderRadius.lg,px:2,py:.5,fontSize:x.LAYOUT.FONT_SIZE_MD,fontWeight:f.fontWeight.medium,transition:I.transitions.standard,"&:hover":{borderColor:r.primary.main,backgroundColor:r.interactive.hover,transform:"translateY(-1px)",boxShadow:T.sm}},controlCard:{marginBottom:0,padding:x.LAYOUT.INNER_PADDING,backgroundColor:r.interactive.disabled,borderRadius:m.borderRadius.lg,border:`1px solid ${r.border.subtle}`},iconLabelContainer:{display:"flex",alignItems:"center",gap:1,mb:2},label:{color:r.text.secondary,fontWeight:f.fontWeight.medium}};function J(e){return{color:e??r.primary.light,fontSize:"1.1rem"}}function Q(e){return e.hoverColor?e.hoverColor:e.color===r.primary.main?r.primary.dark:e.color===r.data.green?x.GREEN.HOVER:e.color===r.data.amber?x.AMBER.HOVER:e.color??r.primary.dark}function ee(e){const o=Q(e);return{width:"100%",borderRadius:m.borderRadius.lg,overflow:"hidden",border:`1px solid ${r.border.subtle}`,"& .MuiToggleButtonGroup-grouped":{margin:0,border:0,borderRadius:0,"&:not(:first-of-type)":{borderLeft:`1px solid ${r.border.subtle}`}},"& .MuiToggleButton-root":{color:r.text.secondary,borderColor:r.border.subtle,padding:x.LAYOUT.INNER_PADDING_SM,flex:1,fontSize:x.LAYOUT.FONT_SIZE_MD,fontWeight:f.fontWeight.medium,borderRadius:0,transition:I.transitions.standard,"&.Mui-selected":{backgroundColor:e.color??r.primary.main,color:r.text.primary,borderColor:e.color??r.primary.main,"&:hover":{backgroundColor:o,borderColor:o,transform:"translateY(-1px)",boxShadow:T.sm}},"&:hover":{backgroundColor:r.interactive.hover,transform:"translateY(-1px)"}}}}function _({count:e,containerRole:o="toolbar",indexAttribute:n="data-index"}){return{getItemProps:b.useCallback((a,i)=>({tabIndex:i?0:-1,[n]:a,onKeyDown:l=>{const{key:c,currentTarget:h}=l;let d=null;switch(c){case"ArrowLeft":{d=Math.max(0,a-1);break}case"ArrowRight":{d=Math.min(e-1,a+1);break}case"Home":{d=0;break}case"End":{d=e-1;break}default:return}if(d===a)return;l.preventDefault();const p=h.closest(`[role="${o}"]`);if(!p)return;const g=p.querySelector(`[${n}="${String(d)}"]`);g instanceof HTMLElement&&g.focus()}}),[e,o,n])}}function te({control:e}){const{getItemProps:o}=_({count:e.options.length,containerRole:"group"});return t.jsx(Y,{value:e.value,exclusive:!0,onChange:(n,s)=>{s!==null&&e.onChange(s)},size:"small","aria-label":e.label,sx:ee(e),children:e.options.map((n,s)=>t.jsx(F,{value:n.value,"aria-label":`${e.label}: ${n.label}`,...o(s,n.value===e.value),children:n.label},n.value))})}const re=j.memo(function({controls:o,onReset:n,resetLabel:s="Reset"}){return o.length===0?null:t.jsxs(u,{sx:C.rootContainer,children:[n&&t.jsx(u,{sx:C.resetButtonContainer,children:t.jsx(v,{variant:"outlined",size:"small",startIcon:t.jsx(W,{}),onClick:n,sx:C.resetButton,children:s})}),t.jsx(R,{container:!0,spacing:x.LAYOUT.CONTROLS_SPACING,children:o.map((a,i)=>t.jsx(R,{size:{xs:12,md:4},children:t.jsxs(u,{sx:C.controlCard,children:[t.jsxs(u,{sx:C.iconLabelContainer,children:[a.icon&&t.jsx(a.icon,{sx:J(a.color)}),t.jsx(S,{variant:"body2",sx:C.label,children:a.label})]}),t.jsx(te,{control:a})]})},a.label||i))})]})}),M={color:r.text.secondary,padding:0,minWidth:0,"&:hover":{backgroundColor:"transparent",color:r.primary.main},alignSelf:{xs:"center",sm:"flex-end"},textTransform:"none",fontSize:"0.8rem"},oe={...M,marginBottom:0},ne={...M,marginBottom:-2},ae={color:r.text.secondary,fontSize:f.fontSize.subheading,textAlign:{xs:"center",md:"right"},whiteSpace:{xs:"normal",md:"nowrap"},display:{xs:"none",sm:"block"}},se={display:"flex",flexDirection:"column",alignItems:{xs:"center",md:"flex-start"},gap:2,marginBottom:{xs:3,md:4},width:"100%"},ie={display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:{xs:"center",md:"baseline"},width:"100%"},le={color:r.text.primary,fontWeight:f.fontWeight.bold,fontSize:f.fontSize.h2,textAlign:{xs:"center",md:"left"}};function N({backUrl:e,sx:o}){return t.jsx(v,{component:"a",href:`#${e}`,startIcon:t.jsx(V,{}),size:"small",sx:o,children:"Back to Simulation"})}const de=j.memo(function({title:o,subtitle:n,backUrl:s}){const{sm:a}=q(),i=s&&a?t.jsx(N,{backUrl:s,sx:oe}):t.jsx(S,{variant:"h5",sx:ae,children:n});return t.jsxs(u,{sx:se,children:[s&&!a&&t.jsx(N,{backUrl:s,sx:ne}),t.jsxs(u,{sx:ie,children:[t.jsx(S,{variant:"h1",sx:le,children:o}),i]})]})}),ce={marginBottom:3,width:"100%",boxSizing:"border-box"},xe=e=>({display:"grid",gridTemplateColumns:{xs:"repeat(2, minmax(0, 1fr))",md:`repeat(${Math.min(e,4).toString()}, 1fr)`},gap:1.5,width:"100%",margin:0}),ue=e=>({width:"100%",color:e?"inherit":r.text.secondary,backgroundColor:e?r.primary.main:r.surface.elevated,"&.MuiButton-root":{color:e?r.text.primary:r.text.secondary},borderColor:r.border.subtle,borderWidth:"1px",borderStyle:"solid",borderRadius:m.borderRadius.lg,minHeight:x.LAYOUT.BUTTON_HEIGHT,padding:x.LAYOUT.INNER_PADDING_SM,fontSize:x.LAYOUT.FONT_SIZE_SM,fontWeight:f.fontWeight.medium,transition:I.transitions.standard,"&:hover":{backgroundColor:e?r.primary.dark:r.interactive.hover,transform:"translateY(-1px)",boxShadow:T.sm}}),me=({viewTypes:e,currentViewType:o,onViewTypeChange:n})=>{const{getItemProps:s}=_({count:e.length});return e.length<=1?null:t.jsx(u,{sx:ce,children:t.jsx(u,{role:"toolbar","aria-label":"View type",sx:xe(e.length),children:e.map((a,i)=>{const l=a.icon,c=o===a.key;return t.jsx(v,{variant:"outlined",size:"small",startIcon:t.jsx(l,{}),onClick:()=>{n(a.key)},"aria-label":`View ${a.label}`,"aria-pressed":c,sx:ue(c),...s(i,c),children:a.label},a.key)})})})},he=j.memo(me),ge={position:"relative",padding:m.padding.md,paddingTop:m.padding.xl,paddingBottom:{xs:m.padding.md,md:0},boxSizing:"border-box",width:"100%",maxWidth:"100vw",overflowX:"hidden"},fe={...G.flexCenter,flexDirection:"column",zIndex:1,padding:0,minHeight:0},be={textAlign:"center",maxWidth:m.maxWidth.md,width:"100%",padding:{xs:"0 0.5rem",md:"0 2rem"},boxSizing:"border-box",overflow:"hidden"};function pe(e,o,n,s,a){return b.useMemo(()=>{const i=e.find(d=>d.key===o),l=n.length===0?[]:i?.dataProcessor?i.dataProcessor(n):n,c=i?.chartConfig??s,h=a??(e.length>0?i?.chartTitle??"Data Visualization":"Data Visualization");return{data:l,chartConfig:c,title:h}},[e,o,n,s,a])}function Ce({chart:e={},view:o={},controls:n=[],onReset:s,resetLabel:a="Reset"}){const{data:i=[],config:l=X,title:c=null,loading:h=!1,loadingMessage:d="Loading data..."}=e,{types:p=[],current:g="default",onChange:y=()=>{}}=o;return{chartData:i,chartConfig:l,chartTitle:c,loading:h,loadingMessage:d,viewTypes:p,currentViewType:g,onViewTypeChange:y,controls:n,onReset:s,resetLabel:a}}function Se({message:e="Loading...",height:o="100vh"}){return t.jsx(u,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:o,color:r.text.primary},children:t.jsx(S,{children:e})})}function ye({children:e,height:o=400,message:n="Loading...",inline:s=!1,inlineFallback:a="",errorFallback:i}){const l=s?t.jsx(b.Suspense,{fallback:t.jsx(S,{component:"span",variant:"inherit",sx:{color:r.text.secondary,opacity:.6},children:a}),children:e}):t.jsx(b.Suspense,{fallback:t.jsx(Se,{message:n,height:o}),children:e});return i?t.jsx($,{fallback:i,children:l}):l}const Re=b.lazy(()=>H(()=>import("./ResearchChart-DOgtQa3C.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>({default:e.ResearchChart}))),je=t.jsx(Z,{message:"Failed to load chart. Please refresh the page."}),_e=({title:e,pageTitle:o,subtitle:n,githubUrl:s,children:a,backUrl:i,...l})=>{const{chartData:c,chartConfig:h,chartTitle:d,loading:p,loadingMessage:g,viewTypes:y,currentViewType:E,onViewTypeChange:O,controls:k,onReset:L,resetLabel:D}=Ce(l),{data:w,chartConfig:P,title:z}=pe(y,E,c,h,d??null);return t.jsx(U,{title:o??e,githubUrl:s,children:t.jsx(K,{children:t.jsx(R,{container:!0,flex:1,flexDirection:"column",sx:ge,children:t.jsx(R,{size:{xs:12},flex:1,sx:fe,children:t.jsxs(u,{sx:be,children:[t.jsx(de,{title:e,subtitle:n,backUrl:i}),t.jsx(ye,{message:g,errorFallback:je,children:t.jsx(Re,{currentData:w,currentChartConfig:P,loading:p,loadingMessage:g,chartTitle:z})}),t.jsx(he,{viewTypes:y,currentViewType:E,onViewTypeChange:O}),t.jsx(re,{controls:k,onReset:L,resetLabel:D}),a]})})})})})};export{_e as R,q as u};
