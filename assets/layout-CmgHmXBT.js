import{r as s,j as f}from"./vendor_react-CiGj4Onb.js";import{T as b,C as y}from"./index-DNSehqC0.js";import{B as h,u as v}from"./vendor_mui_core-D3ATvS1w.js";const l={calculation:{spaceDivisor:20,pixelMultiplier:16},cellSize:{divisor:4,fontSizeMultiplier:.25},layout:{editorHeight:{xs:{withCode:"300px",withoutCode:"350px"}},fieldsMinHeight:{md:"210px"},padding:{xs:"1rem",md:"2rem"}}};function w(e){return e/l.calculation.spaceDivisor}function C(e,t,i){const r=w(e),n=l.calculation.pixelMultiplier*(e+r);return{rows:Math.floor(t/n),cols:Math.floor(i/n)}}function $(e){switch(e.toLowerCase()){case"arrowup":case"w":return-2;case"arrowdown":case"s":return 2;case"arrowleft":case"a":return-1;case"arrowright":case"d":return 1;default:return 0}}function k(e,t,i,r){const n=r-1,o=i*r;switch(t){case 2:e+=r;break;case-2:e-=r;break;case 1:e%r===n?e-=n:e+=1;break;case-1:e%r===0?e+=n:e-=1}return(e+o)%o}const E=s.memo(function({size:e,children:t,...i}){const r=`${e.toString()}rem`,n=`${(e/l.cellSize.divisor).toString()}rem`,{backgroundColor:o,color:c,boxShadow:a,border:d,opacity:m,transition:u=!0,sx:p,...x}=i,S=u===!1?"none":typeof u=="string"?u:"background-color 200ms ease, color 200ms ease, opacity 200ms ease, transform 200ms ease, border-radius 200ms ease",z=s.useMemo(()=>({...y.flexCenter,borderRadius:n,height:r,width:r,fontSize:`${(e*l.cellSize.fontSizeMultiplier).toString()}rem`,fontWeight:b.fontWeight.semibold,fontFamily:"monospace"}),[n,r,e]);return f.jsx(h,{...z,...x,sx:{backgroundColor:o,color:c,boxShadow:a,border:d,opacity:m,transition:S,...p},children:t})}),M=s.memo(function({cols:e,size:t,index:i,spacing:r,cellProps:n}){return f.jsx(h,{sx:{display:"flex",gap:r,justifyContent:"center"},children:Array.from({length:e},(o,c)=>s.createElement(E,{...n(i,c),key:`${i.toString()}_${c.toString()}`,size:t}))})}),j=s.memo(function({size:e,rows:t,cols:i,cellProps:r,space:n,sx:o,...c}){const a=w(e),d=`${(n??a).toString()}rem`;return f.jsx(h,{role:"grid","aria-label":`Grid with ${t.toString()} rows and ${i.toString()} columns`,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:d,...o},...c,children:Array.from({length:t},(m,u)=>f.jsx(M,{index:u,cols:i,size:e,spacing:d,cellProps:r},`row_${u.toString()}`))})});function L(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function g(e){if(!(e!=null&&e.current))return{width:0,height:0};const{offsetHeight:t,offsetWidth:i}=e.current;return{width:i,height:t}}function H(){const{size:e}=(function(t){const[i,r]=s.useState(t());return s.useEffect(()=>{function n(){r(t())}return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[t]),{size:i,setSize:r}})(L);return e}function W(e){return v(t=>t.breakpoints.down(e))}function D(e){const t=g(e),[i,r]=s.useState(t),n=s.useRef(t);return s.useEffect(()=>{const o=g(e);o.width===n.current.width&&o.height===n.current.height||(n.current=o,r(o))},[e]),s.useEffect(()=>{function o(){const c=g(e);r(a=>c.width!==a.width||c.height!==a.height?c:a)}return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[e]),i}export{j as C,l as G,D as a,k as b,C as c,H as d,$ as g,W as u};
