function n(){return{__proto__:null,"./lights_out_wasm_bg.js":{__proto__:null,__wbindgen_cast_0000000000000001:function(n,i){var f;return f=n,function(n,i){return s+=i,s>=o&&(e=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),e.decode(),s=i),e.decode((null!==t&&0!==t.byteLength||(t=new Uint8Array(r.memory.buffer)),t).subarray(n,n+i))}(f>>>=0,i)},__wbindgen_init_externref_table:function(){const n=r.__wbindgen_externrefs,t=n.grow(4);n.set(0,void 0),n.set(t+0,void 0),n.set(t+1,null),n.set(t+2,!0),n.set(t+3,!1)}}}}let t=null;let e=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});e.decode();const o=2146435072;let r,s=0;try{await async function(e){if(void 0!==r)return r;void 0!==e&&Object.getPrototypeOf(e)===Object.prototype&&({module_or_path:e}=e),void 0===e&&(e=new URL("/assets/lights_out_wasm_bg-8JZuMai_.wasm",import.meta.url));const o=n();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:s,module:i}=await async function(n,t){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,t)}catch(e){if(!n.ok||!function(n){switch(n){case"basic":case"cors":case"default":return!0}return!1}(n.type)||"application/wasm"===n.headers.get("Content-Type"))throw e}const o=await n.arrayBuffer();return await WebAssembly.instantiate(o,t)}{const e=await WebAssembly.instantiate(n,t);return e instanceof WebAssembly.Instance?{instance:e,module:n}:e}}(await e,o);return function(n){return r=n.exports,t=null,r.__wbindgen_start(),r}(s)}()}catch(q){}function i(n){if(1===n)return[1n];const t=[7n<<BigInt(n-2)];for(let o=1;o<n;o++){const n=t[o-1];if(void 0!==n){const e=n>>1n;t.push(e)}}const e=t[0];return void 0!==e&&(t[0]=e-(1n<<BigInt(n))),t}function f(n){const t={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹"};return n.toString().split("").map(n=>t[n]??n).join("")}function c(n){if(0n===n)return"0";if(1n===n)return"1";const t=[],e=n.toString(2);for(let o=0;o<e.length;o++)"1"===e[e.length-1-o]&&(0===o?t.push("1"):1===o?t.push("x"):t.push(`x${f(o)}`));return t.reverse().join(" + ")}function u(n,t){const e=n.length,o=[];for(let r=0;r<e;r++){const s=n[r];let i=0n;if(void 0!==s)for(let n=0;n<e;n++)if(s&1n<<BigInt(e-1-n)){const e=t[n];void 0!==e&&(i^=e)}o.push(i)}return o}function a(n){const t=Array(n).fill(1n);for(let e=0;e<n;e++){const o=t[e];void 0!==o&&(t[e]=o<<BigInt(n-e-1))}return t}function l(n,t,e){let o=a(n.length),r=[...n],s=t;for(;s>0;)s%2==1&&(o=u(o,r)),r=u(r,r),s=Math.floor(s/2);return o}function p(n,t){const e=n.length,o=[];for(let r=0;r<e;r++){const e=n[r],s=t[r];if(void 0!==e&&void 0!==s){const n=e^s;o.push(n)}}return o}function g(n){const t=[0n,1n];for(let e=1;e<n;e++){const n=t[e],o=t[e-1];if(void 0!==n&&void 0!==o){const e=n<<1n;t.push(e^o)}}return t[n]??0n}function h(n){return 0n===n?-1:n.toString(2).length-1}function d(n,t){if(0n===t)throw new Error("Division by zero polynomial");let e=0n,o=n;const r=h(t);for(;h(o)>=r;){const n=h(o)-r;e^=1n<<BigInt(n),o^=t<<BigInt(n)}return{quotient:e,remainder:o}}function _(n,t){return d(n,t).remainder}const y=[2n,3n];let m=1;function w(n){if(0n===n)return[];if(1n===n)return[];const t=[];let e=n;const o=function(n){if(n<=m)return y.filter(t=>h(t)<=n);for(let t=1n<<BigInt(m+1);h(t)<=n;t++){let n=!0;const e=h(t);for(const o of y){if(h(o)>e/2)break;if(0n===_(t,o)){n=!1;break}}n&&y.push(t)}return m=n,y}(h(n));for(const r of o){if(0n===_(e,r)){let n=0;for(;0n===_(e,r);)e=d(e,r).quotient,n++;t.push({factor:r,exponent:n})}if(1n===e)break}return t}function b(n,t,e){const o=n.length;let r=Array(o).fill(0n),s=0,i=t;for(;i>0n;){if(1n&i){r=p(r,l(n,s))}i>>=1n,s++}return r}function v(n){const t=a(n.length);return n.every((n,e)=>n===t[e])}function x(n){return n.every(n=>0n===n)}function B(n,t){for(const e of function(n){const t=[];for(let e=1;e<=Math.sqrt(n);e++)n%e===0&&(t.push(e),e!==n/e&&t.push(n/e));return t.sort((n,t)=>n-t)}(n)){if(1===e||e===n)continue;const o=t.map(n=>n%e).filter((n,t,e)=>e.indexOf(n)===t).sort((n,t)=>n-t),r=[];for(let t=0;t<n;t++)o.includes(t%e)&&r.push(t);if(JSON.stringify(t)===JSON.stringify(r)&&o.length<t.length)return B(e,o)}return{z:n,R:t}}self.onmessage=n=>{const{n:t}=n.data;try{const n=function(n){const t=i(n),e=a(n),o=Array.from({length:n},()=>0n),r=[];for(let i=0;i<n;i++){const e=[],o=t[i];if(void 0!==o)for(let t=0;t<n;t++)o&1n<<BigInt(n-1-t)&&e.push(t);r.push(e)}let s=[...o],f=[...e];const c=[0];for(let i=2;i<=1e7;i++){const t=[];for(let e=0;e<n;e++){let n=s[e]??0n;const o=r[e];if(o)for(const t of o){const e=f[t];void 0!==e&&(n^=e)}t.push(n)}if(v(t)&&c.push(i-1),v(t)&&x(f)){const t=i-1,e=c.filter(n=>n!==t),{z:o,R:r}=B(t,e);return{n:n,z:o,R:r,z_seq:t}}s=f,f=t}throw new Error(`Period not found for n=${n.toString()}`)}(t),e=function(n){const t=n.length;function e(n){let e=0n;for(const o of n)e=e<<BigInt(t)|o;return e}const o=[];for(let r=0;r<=t*t;r++){const t=1n<<BigInt(r);let s=e(b(n,t)),i=t;for(const n of o)h(s^n.vector)<h(s)&&(s^=n.vector,i^=n.poly);if(0n===s)return i;o.push({vector:s,poly:i}),o.sort((n,t)=>n.vector>t.vector?-1:1)}return g(t+1)}(i(t)),o=w(e),r=g(n.z_seq),s=g(n.z_seq+1),u=_(r,e),l=_(1n^s,e),p={pattern:n,minimalPoly:c(e),factorization:o.map(n=>`(${c(n.factor)})${n.exponent>1?f(n.exponent):""}`).join(" · "),proof:{eq1:`f${f(n.z_seq)}(x) mod M(x)`,res1:c(u),eq2:`(f${f(n.z_seq+1)}(x) + 1) mod M(x)`,res2:c(l)}};self.postMessage({success:!0,result:p})}catch(e){self.postMessage({success:!1,error:e instanceof Error?e.message:"Unknown error occurred in worker"})}};
