import{r as s,j as f}from"./vendor_react-CiGj4Onb.js";import{B as h,u as b}from"./vendor_mui_core-D3ATvS1w.js";import{T as y,C as v}from"./index-Br2Z899S.js";const l={calculation:{spaceDivisor:20,pixelMultiplier:16},cellSize:{divisor:4,fontSizeMultiplier:.25},layout:{editorHeight:{xs:{withCode:"300px",withoutCode:"350px"}},fieldsMinHeight:{md:"210px"},padding:{xs:"1rem",md:"2rem"}}};function w(e){return e/l.calculation.spaceDivisor}function C(e,t,o){const r=w(e),n=l.calculation.pixelMultiplier*(e+r);return{rows:Math.floor(t/n),cols:Math.floor(o/n)}}function $(e){switch(e.toLowerCase()){case"arrowup":case"w":return-2;case"arrowdown":case"s":return 2;case"arrowleft":case"a":return-1;case"arrowright":case"d":return 1;default:return 0}}function k(e,t,o,r){const n=r-1,i=o*r;switch(t){case 2:e+=r;break;case-2:e-=r;break;case 1:e%r===n?e-=n:e+=1;break;case-1:e%r===0?e+=n:e-=1}return(e+i)%i}const E=s.memo(function({size:e,children:t,...o}){const r=`${e.toString()}rem`,n=`${(e/l.cellSize.divisor).toString()}rem`,{backgroundColor:i,color:c,boxShadow:a,border:d,opacity:m,transition:u=!0,sx:p,...x}=o,S=u===!1?"none":typeof u=="string"?u:"background-color 200ms ease, color 200ms ease, opacity 200ms ease, transform 200ms ease, border-radius 200ms ease",z=s.useMemo(()=>({...v.flexCenter,borderRadius:n,height:r,width:r,fontSize:`${(e*l.cellSize.fontSizeMultiplier).toString()}rem`,fontWeight:y.fontWeight.semibold,fontFamily:"monospace"}),[n,r,e]);return f.jsx(h,{...z,...x,sx:{backgroundColor:i,color:c,boxShadow:a,border:d,opacity:m,transition:S,...p},children:t})}),M=s.memo(function({cols:e,size:t,index:o,spacing:r,cellProps:n}){return f.jsx(h,{sx:{display:"flex",gap:r,justifyContent:"center"},children:Array.from({length:e},(i,c)=>s.createElement(E,{...n(o,c),key:`${o.toString()}_${c.toString()}`,size:t}))})}),j=s.memo(function({size:e,rows:t,cols:o,cellProps:r,space:n,sx:i,...c}){const a=w(e),d=`${(n??a).toString()}rem`;return f.jsx(h,{role:"grid","aria-label":`Grid with ${t.toString()} rows and ${o.toString()} columns`,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:d,...i},...c,children:Array.from({length:t},(m,u)=>f.jsx(M,{index:u,cols:o,size:e,spacing:d,cellProps:r},`row_${u.toString()}`))})});function L(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function g(e){if(!(e!=null&&e.current))return{width:0,height:0};const{offsetHeight:t,offsetWidth:o}=e.current;return{width:o,height:t}}function H(){const{size:e}=(function(t){const[o,r]=s.useState(t());return s.useEffect(()=>{function n(){r(t())}return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[t]),{size:o,setSize:r}})(L);return e}function W(e){return b(t=>t.breakpoints.down(e))}function D(e){const t=g(e),[o,r]=s.useState(t),n=s.useRef(t);return s.useEffect(()=>{const i=g(e);i.width===n.current.width&&i.height===n.current.height||(n.current=i,r(i))},[e]),s.useEffect(()=>{function i(){const c=g(e);r(a=>c.width!==a.width||c.height!==a.height?c:a)}return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[e]),o}export{j as C,l as G,D as a,k as b,C as c,H as d,$ as g,W as u};
