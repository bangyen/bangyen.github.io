import{r as y,j as w}from"./vendor_react-CiGj4Onb.js";import{p as D}from"./pako.esm-D0myxAWH.js";import{R as K,P as o,a as e}from"./ResearchDemo-BUx97fHD.js";import{B as T,T as E,S as M,g as C}from"./vendor_mui_icons-88WVDz42.js";import{d as k,a as i,U as G}from"./index-Bkt6oEec.js";import"./vendor_mui_core-Cb6gYFA4.js";import"./GlobalHeader-h7BmtKrr.js";import"./GlassCard-CaPHPfH9.js";import"./vendor_recharts-C7iXNUB1.js";const L=()=>{const h=[];for(let s=0;s<=e.zsharp.maxEpochs;s++){const l=e.zsharp.baseAccuracy+s/e.zsharp.maxEpochs*(e.zsharp.maxAccuracy-e.zsharp.baseAccuracy),d=l+e.zsharp.improvement,g=e.zsharp.baseLoss-s/e.zsharp.maxEpochs*(e.zsharp.baseLoss-e.zsharp.minLoss),u=g-e.zsharp.lossReduction;h.push({epoch:s+1,sgd:l,zsharp:d,sgdLoss:g,zsharpLoss:u})}return h},R=()=>{const[h,s]=y.useState([]),[l,d]=y.useState(!0),[g,u]=y.useState("accuracy");y.useEffect(()=>{document.title=k.zsharp,(async()=>{d(!0);try{const a=await(async()=>{var r,c,n,x;try{const m=await fetch("/zsharp_data.json.gz");if(!m.ok)throw new Error(`HTTP error! status: ${m.status.toString()}`);const S=await m.arrayBuffer(),z=new Uint8Array(S);let p;if(z[0]===31&&z[1]===139){const t=D.ungzip(z,{to:"string"});p=JSON.parse(t)}else{const t=new TextDecoder().decode(S);p=JSON.parse(t)}const f=[],A=((r=p["SGD Baseline"])==null?void 0:r.train_accuracies)??[],F=((c=p.ZSharp)==null?void 0:c.train_accuracies)??[],P=((n=p["SGD Baseline"])==null?void 0:n.train_losses)??[],b=((x=p.ZSharp)==null?void 0:x.train_losses)??[],v=Math.max(A.length,F.length);for(let t=0;t<v;t++)f.push({epoch:t+1,sgd:(A[t]??0)/o.divisor,zsharp:(F[t]??0)/o.divisor,sgdLoss:P[t]??0,zsharpLoss:b[t]??0});return f}catch{return L()}})();s(a)}catch{s(L())}finally{d(!1)}})()},[]);const $=[{key:"accuracy",label:"Accuracy",icon:T,chartTitle:"Performance Comparison",dataProcessor:a=>a,chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*o.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(e.zsharp.yAxisPadding)}`,`dataMax + ${String(e.zsharp.yAxisPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*o.multiplier).toFixed(1)}%`,r],lines:[{dataKey:"sgd",name:"SGD",color:i.primary.main},{dataKey:"zsharp",name:"ZSharp",color:i.data.green}]}},{key:"loss",label:"Loss",icon:E,chartTitle:"Loss Evaluation",dataProcessor:a=>a.map(r=>({epoch:r.epoch,sgd:r.sgdLoss,zsharp:r.zsharpLoss})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>a.toFixed(3),yAxisDomain:[`dataMin - ${String(e.zsharp.lossPadding)}`,`dataMax + ${String(e.zsharp.lossPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[a.toFixed(3),r],lines:[{dataKey:"sgd",name:"SGD Loss",color:i.primary.main},{dataKey:"zsharp",name:"ZSharp Loss",color:i.data.green}]}},{key:"learning_curve",label:"Learning",icon:M,chartTitle:"Learning Progress",dataProcessor:a=>a.map(r=>({epoch:r.epoch,gap:r.zsharp-r.sgd})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*o.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(e.zsharp.gapPadding)}`,`dataMax + ${String(e.zsharp.gapPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*o.multiplier).toFixed(2)}%`,r],lines:[{dataKey:"gap",name:"Accuracy Gap",color:i.data.amber}]}},{key:"convergence",label:"Convergence",icon:C,chartTitle:"Convergence Analysis",dataProcessor:a=>a.map((r,c)=>{if(c===0)return{epoch:r.epoch,sgd:0,zsharp:0};const n=a[c-1];return n?{epoch:r.epoch,sgd:r.sgd-n.sgd,zsharp:r.zsharp-n.zsharp}:{epoch:r.epoch,sgd:0,zsharp:0}}),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*o.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(e.zsharp.convergencePadding)}`,`dataMax + ${String(e.zsharp.convergencePadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*o.multiplier).toFixed(3)}%`,r],lines:[{dataKey:"sgd",name:"SGD Rate",color:i.primary.main},{dataKey:"zsharp",name:"ZSharp Rate",color:i.data.green}]}}];return w.jsx(K,{title:"ZSharp",subtitle:"Neural Network Optimization Research",githubUrl:G.zsharpRepo,chartData:h,viewTypes:$,currentViewType:g,onViewTypeChange:u,loading:l,loadingMessage:"Loading real experiment data..."})};export{R as default};
