import{j as e,r}from"./vendor_react-DdkxgTu-.js";import{b as o}from"./ResearchDemo-BHNt3fuu.js";import{u as i}from"./useWorker-2pb81J1Q.js";import{B as t,d as s,T as a,I as n,G as l,s as d,e as c,A as x,t as p,F as m,P as h}from"./vendor_mui_core-CQ3K-gFd.js";import{s as b,f}from"./vendor_mui_icons-BOQsY4SM.js";import{T as u,C as j,S as g}from"./index-DIQF3bpX.js";import"./PageLayout-BHB3gY3L.js";import"./vendor_recharts-Bod-2OPO.js";const y=({text:r})=>{const o=r.split(/(\^{[^}]+})/g);return e.jsx("span",{"aria-label":r.replace(/\^{([^}]+)}/g," to the power of $1").replace(/\*/g," times "),children:e.jsx("span",{"aria-hidden":"true",children:o.map((r,o)=>{const i=`${r}-${String(o)}`;if(r.startsWith("^{")&&r.endsWith("}")){const o=r.slice(2,-1);return e.jsx("sup",{style:{fontSize:"0.6em",verticalAlign:"super",marginLeft:"1px"},children:o},i)}return e.jsx("span",{children:r},i)})})})},S=()=>{const[S,R]=r.useState("5"),C=r.useCallback(()=>new Worker(new URL("/assets/periodicity.worker-wmejmAs4.js",import.meta.url),{type:"module"}),[]),{result:T,loading:A,error:v,run:L,terminate:E,setError:k}=i(C);return e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(s,{variant:"h6",sx:{color:j.text.primary,fontWeight:u.fontWeight.bold},children:"Periodicity Calculator"}),e.jsx(a,{title:"Calculate the period (z) and row remainders (R) for a given column width (n).",children:e.jsx(n,{size:"small",sx:{ml:1,color:j.text.secondary},"aria-label":"Periodicity calculator documentation",children:e.jsx(b,{fontSize:"small"})})})]}),e.jsx(l,{container:!0,spacing:2,sx:{mb:3},children:e.jsx(l,{size:{xs:12},children:e.jsx(d,{fullWidth:!0,label:"Columns (n)",variant:"outlined",value:S,onChange:e=>{R(e.target.value)},size:"small",sx:{input:{color:j.text.primary}}})})}),A?e.jsx(c,{fullWidth:!0,variant:"outlined",onClick:()=>{E()},startIcon:e.jsx(f,{}),sx:{color:j.text.secondary,borderColor:j.border.subtle,height:o.LAYOUT.BUTTON_HEIGHT,"&:hover":{backgroundColor:o.GLASS.SLIGHT,borderColor:j.text.secondary}},children:"Cancel Calculation"}):e.jsx(c,{fullWidth:!0,variant:"contained",onClick:()=>{const e=parseInt(S,10);isNaN(e)||e<=0?k("Please enter a valid positive integer."):e>30?k("Grid size n > 30 is too computationally intensive."):L({n:e})},sx:{backgroundColor:j.primary.main,border:"1px solid transparent",height:o.LAYOUT.BUTTON_HEIGHT,"&:hover":{backgroundColor:j.primary.dark}},children:"Discover Patterns"}),v&&e.jsx(x,{severity:"error",sx:{mb:2,mt:2},children:v}),e.jsxs(t,{sx:{height:o.LAYOUT.RESULT_CARD_HEIGHT,mt:3,display:"flex",flexDirection:"column",overflow:"hidden"},children:[A&&e.jsxs(t,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2,border:`1px dashed ${j.border.subtle}`,borderRadius:g.borderRadius.md,backgroundColor:o.GLASS.VERY_SUBTLE},children:[e.jsx(t,{sx:{width:40,height:40,borderRadius:"50%",border:`2px solid ${p(j.primary.main,.1)}`,borderTopColor:j.primary.main,...o.ANIMATIONS.SPIN}}),e.jsx(s,{variant:"caption",sx:{color:j.text.secondary},children:"Calculating Patterns..."})]}),!T&&!v&&!A&&e.jsx(t,{sx:{height:"100%",display:"flex",alignItems:"flex-start",justifyContent:"center",pt:5,px:3,border:`1px dashed ${j.border.subtle}`,borderRadius:g.borderRadius.md,backgroundColor:o.GLASS.VERY_SUBTLE},children:e.jsx(s,{variant:"body2",sx:{color:j.text.secondary,fontStyle:"italic",textAlign:"center"},children:"Select column width and click discover to see results"})}),T&&!A&&e.jsx(m,{in:!0,children:e.jsxs(h,{elevation:0,sx:{height:"100%",backgroundColor:o.GLASS.TRANSPARENT,borderRadius:g.borderRadius.md,border:`1px solid ${p(j.primary.main,.2)}`,borderLeft:`4px solid ${j.primary.main}`,display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(t,{sx:{p:2.25,pb:0},children:e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:1.5,borderBottom:`1px solid ${o.BORDER.SUBTLE}`},children:[e.jsx(s,{variant:"caption",sx:{color:j.primary.main,fontWeight:u.fontWeight.bold,textTransform:"uppercase",letterSpacing:1},children:"Spectral Periodicity"}),e.jsxs(s,{sx:{color:j.text.primary,fontFamily:"monospace",fontWeight:u.fontWeight.bold,fontSize:o.LAYOUT.FONT_SIZE_SM},children:["z ="," ",T.pattern.z]})]})}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2.5,flexGrow:1,minHeight:0,overflowY:"auto",p:2.25,pt:0,"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:o.GLASS.MEDIUM,borderRadius:g.borderRadius.xs}},children:[e.jsxs(t,{sx:{minWidth:0},children:[e.jsx(s,{variant:"caption",sx:{color:j.primary.main,fontWeight:"bold",display:"block",mb:.5,textTransform:"uppercase",letterSpacing:1,fontSize:"0.65rem"},children:"Remainder Set (R)"}),e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:1.5},children:T.pattern.R.map(r=>e.jsx(t,{sx:{fontFamily:"monospace",fontSize:"0.7rem",px:1.25,py:.5,backgroundColor:o.GLASS.DARK,borderRadius:g.borderRadius.xs,color:j.primary.main,border:`1px solid ${o.BORDER.VERY_SUBTLE}`},children:r},r))})]}),e.jsxs(t,{sx:{minWidth:0},children:[e.jsx(s,{variant:"caption",sx:{color:j.primary.main,fontWeight:"bold",display:"block",mb:.5,textTransform:"uppercase",letterSpacing:1,fontSize:"0.65rem"},children:"Minimal Polynomial M(x)"}),e.jsx(t,{sx:{p:1.25,backgroundColor:o.CYAN.BG_SUBTLE,borderRadius:o.LAYOUT.CARD_RADIUS,fontFamily:"monospace",fontSize:"0.75rem",color:j.text.primary,border:`1px solid ${o.CYAN.BORDER_SUBTLE}`,mb:1.5},children:e.jsx(y,{text:T.minimalPoly})}),e.jsx(s,{variant:"caption",sx:{color:j.primary.main,fontWeight:"bold",display:"block",mb:.5,textTransform:"uppercase",letterSpacing:1,fontSize:"0.65rem"},children:"Factorization"}),e.jsx(t,{sx:{p:1.25,backgroundColor:o.CYAN.BG_SUBTLE,borderRadius:o.LAYOUT.CARD_RADIUS,fontFamily:"monospace",fontSize:"0.75rem",color:j.text.primary,border:`1px solid ${o.CYAN.BORDER_SUBTLE}`},children:e.jsx(y,{text:T.factorization})})]}),T.proof&&e.jsxs(t,{sx:{minWidth:0},children:[e.jsx(s,{variant:"caption",sx:{color:j.primary.main,fontWeight:u.fontWeight.bold,display:"block",mb:.5,textTransform:"uppercase",letterSpacing:1,fontSize:o.LAYOUT.FONT_SIZE_XS},children:"Mathematical Certificate"}),e.jsxs(t,{sx:{p:1.25,backgroundColor:o.CYAN.BG_SUBTLE,borderRadius:o.LAYOUT.CARD_RADIUS,fontFamily:"monospace",fontSize:"0.75rem",color:j.text.primary,border:`1px solid ${o.CYAN.BORDER_SUBTLE}`},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:e.jsx(y,{text:T.proof.eq1})}),e.jsxs("span",{style:{color:j.data.green,fontWeight:u.fontWeight.bold},children:["="," ",e.jsx(y,{text:T.proof.res1})]})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:e.jsx(y,{text:T.proof.eq2})}),e.jsxs("span",{style:{color:j.data.green,fontWeight:u.fontWeight.bold},children:["="," ",e.jsx(y,{text:T.proof.res2})]})]})]})]})]})]})})]})]})};export{S as PeriodicityCalculator};
