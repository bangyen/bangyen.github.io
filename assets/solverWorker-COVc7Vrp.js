const e=1,t=2;var r,n,o={exports:{}},u={};function s(){if(r)return u;r=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),i=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function b(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||h}function _(){}function S(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||h}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=b.prototype;var g=S.prototype=new _;g.constructor=S,v(g,b.prototype),g.isPureReactComponent=!0;var E=Array.isArray;function w(){}var k={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function j(t,r,n){var o=n.ref;return{$$typeof:e,type:t,key:r,ref:void 0!==o?o:null,props:n}}function R(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var C=/\/+/g;function $(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36);var r,n}function T(r,n,o,u,s){var c=typeof r;"undefined"!==c&&"boolean"!==c||(r=null);var i,a,f=!1;if(null===r)f=!0;else switch(c){case"bigint":case"string":case"number":f=!0;break;case"object":switch(r.$$typeof){case e:case t:f=!0;break;case p:return T((f=r._init)(r._payload),n,o,u,s)}}if(f)return s=s(r),f=""===u?"."+$(r,0):u,E(s)?(o="",null!=f&&(o=f.replace(C,"$&/")+"/"),T(s,n,o,"",function(e){return e})):null!=s&&(R(s)&&(i=s,a=o+(null==s.key||r&&r.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+f,s=j(i.type,a,i.props)),n.push(s)),1;f=0;var l,y=""===u?".":u+":";if(E(r))for(var h=0;h<r.length;h++)f+=T(u=r[h],n,o,c=y+$(u,h),s);else if("function"==typeof(h=null===(l=r)||"object"!=typeof l?null:"function"==typeof(l=d&&l[d]||l["@@iterator"])?l:null))for(r=h.call(r),h=0;!(u=r.next()).done;)f+=T(u=u.value,n,o,c=y+$(u,h++),s);else if("object"===c){if("function"==typeof r.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(r),n,o,u,s);throw n=String(r),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return f}function x(e,t,r){if(null==e)return e;var n=[],o=0;return T(e,n,"","",function(e){return t.call(r,e,o++)}),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},q={map:x,forEach:function(e,t,r){x(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return x(e,function(){t++}),t},toArray:function(e){return x(e,function(e){return e})||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return u.Activity=y,u.Children=q,u.Component=b,u.Fragment=n,u.Profiler=s,u.PureComponent=S,u.StrictMode=o,u.Suspense=f,u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,u.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},u.cache=function(e){return function(){return e.apply(null,arguments)}},u.cacheSignal=function(){return null},u.cloneElement=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var n=v({},e.props),o=e.key;if(null!=t)for(u in void 0!==t.key&&(o=""+t.key),t)!H.call(t,u)||"key"===u||"__self"===u||"__source"===u||"ref"===u&&void 0===t.ref||(n[u]=t[u]);var u=arguments.length-2;if(1===u)n.children=r;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];n.children=s}return j(e.type,o,n)},u.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:c,_context:e},e},u.createElement=function(e,t,r){var n,o={},u=null;if(null!=t)for(n in void 0!==t.key&&(u=""+t.key),t)H.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(o[n]=t[n]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var c=Array(s),i=0;i<s;i++)c[i]=arguments[i+2];o.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===o[n]&&(o[n]=s[n]);return j(e,u,o)},u.createRef=function(){return{current:null}},u.forwardRef=function(e){return{$$typeof:a,render:e}},u.isValidElement=R,u.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},u.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},u.startTransition=function(e){var t=k.T,r={};k.T=r;try{var n=e(),o=k.S;null!==o&&o(r,n),"object"==typeof n&&null!==n&&"function"==typeof n.then&&n.then(w,O)}catch(u){O(u)}finally{null!==t&&null!==r.types&&(t.types=r.types),k.T=t}},u.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},u.use=function(e){return k.H.use(e)},u.useActionState=function(e,t,r){return k.H.useActionState(e,t,r)},u.useCallback=function(e,t){return k.H.useCallback(e,t)},u.useContext=function(e){return k.H.useContext(e)},u.useDebugValue=function(){},u.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},u.useEffect=function(e,t){return k.H.useEffect(e,t)},u.useEffectEvent=function(e){return k.H.useEffectEvent(e)},u.useId=function(){return k.H.useId()},u.useImperativeHandle=function(e,t,r){return k.H.useImperativeHandle(e,t,r)},u.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},u.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},u.useMemo=function(e,t){return k.H.useMemo(e,t)},u.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},u.useReducer=function(e,t,r){return k.H.useReducer(e,t,r)},u.useRef=function(e){return k.H.useRef(e)},u.useState=function(e){return k.H.useState(e)},u.useSyncExternalStore=function(e,t,r){return k.H.useSyncExternalStore(e,t,r)},u.useTransition=function(){return k.H.useTransition()},u.version="19.2.4",u}function c(e,t){return`${e.toString()},${t.toString()}`}function i(e,t,r){return e*(r+1)+t}function a(r,n,o,u){const s=new Map,a=[],f=[];u.forEach((e,t)=>{s.set(t,{state:e,source:"user"});const[r,n]=t.split(",").map(Number);void 0!==r&&void 0!==n&&a.push({r:r,c:n})});const l=(e,t)=>{if(e<0||e>=r||t<0||t>=n)return 0;const o=c(e,t);return s.get(o)?.state??0},p=(e,t,r,n)=>{const o=c(e,t),u=s.get(o);u?u.state!==r&&f.push({type:"cell",r:e,c:t}):(s.set(o,{state:r,source:n}),a.push({r:e,c:t}))},y=(o,u)=>[{r:o-1,c:u-1,required:t},{r:o-1,c:u,required:e},{r:o,c:u-1,required:e},{r:o,c:u,required:t}].filter(e=>e.r>=0&&e.r<r&&e.c>=0&&e.c<n);let d=0;for(;d<a.length;){const r=a[d++];if(!r)break;const{r:n,c:u}=r,i=[{r:n,c:u},{r:n,c:u+1},{r:n+1,c:u},{r:n+1,c:u+1}];for(const a of i){const r=o[a.r]?.[a.c];if(null==r)continue;const i=y(a.r,a.c);let d=0;const h=[];for(const e of i){const t=l(e.r,e.c);0===t?h.push(e):t===e.required&&d++}if(d>r)f.push({type:"node",r:a.r,c:a.c});else if(d+h.length<r)f.push({type:"node",r:a.r,c:a.c});else if("user"===s.get(c(n,u))?.source)if(d===r&&h.length>0)for(const n of h){const r=n.required===e?t:e;p(n.r,n.c,r,"propagated")}else if(d+h.length===r&&h.length>0)for(const e of h)p(e.r,e.c,e.required,"propagated")}}const h=Array.from({length:r},()=>new Array(n).fill(0));for(const[e,t]of s.entries()){const[r,n]=e.split(",").map(Number);void 0!==r&&void 0!==n&&h[r]&&(h[r][n]=t.state)}const v=function(t,r,n){const o=new Map,u=new Set;for(let c=0;c<r;c++)for(let r=0;r<n;r++){const u=t[c]?.[r];if(!u||0===u)continue;const s=i(c,u===e?r+1:r,n),a=i(c+1,u===e?r:r+1,n);o.has(s)||o.set(s,[]),o.has(a)||o.set(a,[]),o.get(s)?.push({node:a,r:c,c:r}),o.get(a)?.push({node:s,r:c,c:r})}const s=new Set,a=new Set,f=[],l=(e,t)=>{s.add(e),a.add(e);const r=o.get(e)??[];for(const{node:n,r:o,c:i}of r)if(n!==t)if(a.has(n)){u.add(c(o,i));for(let e=f.length-1;e>=0;e--){const t=f[e];if(!t)break;if(u.add(c(t.r,t.c)),t.u===n||t.v===n)break}}else s.has(n)||(f.push({r:o,c:i,u:e,v:n}),l(n,e),f.pop());a.delete(e)};for(const e of o.keys())s.has(e)||l(e,-1);return u}(h,r,n);return{gridState:s,conflicts:f,cycleCells:v}}n||(n=1,o.exports=s()),o.exports,globalThis.onmessage=e=>{if("SOLVE"===e.data.type){const{rows:t,cols:r,numbers:n,userMoves:o}=e.data.payload,u=a(t,r,n,o);self.postMessage({type:"RESULT",payload:u})}};
