import{r as a,j as e}from"./vendor_react-WaSaIrII.js";import{R as r,P as t,a as s}from"./ResearchDemo-CodaILtY.js";import{d as o,a as i,U as n}from"./index-h-0ah_nq.js";import{B as c,T as p,S as l,n as h}from"./vendor_mui_icons-kIEf1gUT.js";import"./GlassCard-BIk1eAPK.js";import"./vendor_mui_core-B7mxGf-Q.js";import"./GlobalHeader-DC_snqFf.js";import"./vendor_recharts-DkdeDvms.js";const d=()=>{const a=[];for(let e=0;e<=s.zsharp.maxEpochs;e++){const r=s.zsharp.baseAccuracy+e/s.zsharp.maxEpochs*(s.zsharp.maxAccuracy-s.zsharp.baseAccuracy),t=r+s.zsharp.improvement,o=s.zsharp.baseLoss-e/s.zsharp.maxEpochs*(s.zsharp.baseLoss-s.zsharp.minLoss),i=o-s.zsharp.lossReduction;a.push({epoch:e+1,sgd:r,zsharp:t,sgdLoss:o,zsharpLoss:i})}return a},m=()=>{const[s,m]=a.useState([]),[u,y]=a.useState(!0),[g,x]=a.useState("accuracy");a.useEffect(()=>{document.title=o.zsharp;(async()=>{y(!0);try{const a=await(async()=>{try{if("undefined"==typeof DecompressionStream)throw new Error("DecompressionStream not supported");const a=await fetch("/zsharp_data.json.gz");if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const e=await a.arrayBuffer(),r=new Uint8Array(e);let s;if(31===r[0]&&139===r[1]){const a=await new Response(new ReadableStream({start(a){const r=new DecompressionStream("gzip"),t=r.writable.getWriter(),s=r.readable.getReader();return t.write(e).then(()=>t.close()),function e(){return s.read().then(({done:r,value:t})=>{if(!r)return a.enqueue(t),e();a.close()})}()}})).text();s=JSON.parse(a)}else{const a=(new TextDecoder).decode(e);s=JSON.parse(a)}const o=[],i=s["SGD Baseline"]?.train_accuracies||[],n=s.ZSharp?.train_accuracies||[],c=s["SGD Baseline"]?.train_losses||[],p=s.ZSharp?.train_losses||[],l=Math.max(i.length,n.length);for(let h=0;h<l;h++)o.push({epoch:h+1,sgd:(i[h]||0)/t.divisor,zsharp:(n[h]||0)/t.divisor,sgdLoss:c[h]||0,zsharpLoss:p[h]||0});return o}catch(a){return d()}})();m(a)}catch(a){m(d())}finally{y(!1)}})()},[]);const z=[{key:"accuracy",label:"Accuracy",icon:c,chartTitle:"Performance Comparison",dataProcessor:a=>a,chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*t.multiplier).toFixed(1)}%`,yAxisDomain:["dataMin - 0.05","dataMax + 0.05"],tooltipLabelFormatter:a=>`Epoch ${a}`,tooltipFormatter:(a,e)=>[`${(a*t.multiplier).toFixed(1)}%`,e],lines:[{dataKey:"sgd",name:"SGD",color:i.primary.main},{dataKey:"zsharp",name:"ZSharp",color:i.data.green}]}},{key:"loss",label:"Loss",icon:p,chartTitle:"Loss Evaluation",dataProcessor:a=>a.map(a=>({epoch:a.epoch,sgd:a.sgdLoss,zsharp:a.zsharpLoss})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>a.toFixed(3),yAxisDomain:["dataMin - 0.1","dataMax + 0.1"],tooltipLabelFormatter:a=>`Epoch ${a}`,tooltipFormatter:(a,e)=>[a.toFixed(3),e],lines:[{dataKey:"sgd",name:"SGD Loss",color:i.primary.main},{dataKey:"zsharp",name:"ZSharp Loss",color:i.data.green}]}},{key:"learning_curve",label:"Learning",icon:l,chartTitle:"Learning Progress",dataProcessor:a=>a.map(a=>({epoch:a.epoch,gap:a.zsharp-a.sgd})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*t.multiplier).toFixed(1)}%`,yAxisDomain:["dataMin - 0.005","dataMax + 0.005"],tooltipLabelFormatter:a=>`Epoch ${a}`,tooltipFormatter:(a,e)=>[`${(a*t.multiplier).toFixed(2)}%`,e],lines:[{dataKey:"gap",name:"Accuracy Gap",color:i.data.amber}]}},{key:"convergence",label:"Convergence",icon:h,chartTitle:"Convergence Analysis",dataProcessor:a=>a.map((e,r)=>{if(0===r)return{epoch:e.epoch,sgd:0,zsharp:0};const t=a[r-1];return{epoch:e.epoch,sgd:e.sgd-t.sgd,zsharp:e.zsharp-t.zsharp}}),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*t.multiplier).toFixed(1)}%`,yAxisDomain:["dataMin - 0.005","dataMax + 0.005"],tooltipLabelFormatter:a=>`Epoch ${a}`,tooltipFormatter:(a,e)=>[`${(a*t.multiplier).toFixed(3)}%`,e],lines:[{dataKey:"sgd",name:"SGD Rate",color:i.primary.main},{dataKey:"zsharp",name:"ZSharp Rate",color:i.data.green}]}}];return e.jsx(r,{title:"ZSharp",subtitle:"Neural Network Optimization Research",githubUrl:n.zsharpRepo,chartData:s,viewTypes:z,currentViewType:g,onViewTypeChange:x,loading:u,loadingMessage:"Loading real experiment data..."})};export{m as default};
