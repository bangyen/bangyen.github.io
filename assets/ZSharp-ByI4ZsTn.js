import{r as a,j as r}from"./vendor_react-DdkxgTu-.js";import{p as e}from"./pako.esm-hE_UBizs.js";import{R as t,P as s,a as o}from"./ResearchDemo-RrFlO_4r.js";import{B as i,T as n,S as p,g as c}from"./vendor_mui_icons-BOQsY4SM.js";import{d as h,C as d,U as l}from"./index-DE4mB6m2.js";import"./vendor_mui_core-CQ3K-gFd.js";import"./PageLayout-CIio_T5I.js";const g=()=>{const a=[];for(let r=0;r<=o.zsharp.maxEpochs;r++){const e=o.zsharp.baseAccuracy+r/o.zsharp.maxEpochs*(o.zsharp.maxAccuracy-o.zsharp.baseAccuracy),t=e+o.zsharp.improvement,s=o.zsharp.baseLoss-r/o.zsharp.maxEpochs*(o.zsharp.baseLoss-o.zsharp.minLoss),i=s-o.zsharp.lossReduction;a.push({epoch:r+1,sgd:e,zsharp:t,sgdLoss:s,zsharpLoss:i})}return a},m=()=>{const[m,y]=a.useState([]),[u,x]=a.useState(!0),[z,S]=a.useState("accuracy");a.useEffect(()=>{document.title=h.zsharp;(async()=>{x(!0);try{const a=await(async()=>{try{const a=await fetch("/zsharp_data.json.gz");if(!a.ok)throw new Error(`HTTP error! status: ${a.status.toString()}`);const r=await a.arrayBuffer(),t=new Uint8Array(r),o=31===t[0]&&139===t[1]?e.ungzip(t,{to:"string"}):(new TextDecoder).decode(r),i=JSON.parse(o),n=[],p=i["SGD Baseline"]?.train_accuracies??[],c=i.ZSharp?.train_accuracies??[],h=i["SGD Baseline"]?.train_losses??[],d=i.ZSharp?.train_losses??[],l=Math.max(p.length,c.length);for(let e=0;e<l;e++)n.push({epoch:e+1,sgd:(p[e]??0)/s.divisor,zsharp:(c[e]??0)/s.divisor,sgdLoss:h[e]??0,zsharpLoss:d[e]??0});return n}catch{return g()}})();y(a)}catch{y(g())}finally{x(!1)}})()},[]);const f=[{key:"accuracy",label:"Accuracy",icon:i,chartTitle:"Performance Comparison",dataProcessor:a=>a,chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*s.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(o.zsharp.yAxisPadding)}`,`dataMax + ${String(o.zsharp.yAxisPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*s.multiplier).toFixed(1)}%`,r],lines:[{dataKey:"sgd",name:"SGD",color:d.primary.main},{dataKey:"zsharp",name:"ZSharp",color:d.data.green}]}},{key:"loss",label:"Loss",icon:n,chartTitle:"Loss Evaluation",dataProcessor:a=>a.map(a=>({epoch:a.epoch,sgd:a.sgdLoss,zsharp:a.zsharpLoss})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>a.toFixed(3),yAxisDomain:[`dataMin - ${String(o.zsharp.lossPadding)}`,`dataMax + ${String(o.zsharp.lossPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[a.toFixed(3),r],lines:[{dataKey:"sgd",name:"SGD Loss",color:d.primary.main},{dataKey:"zsharp",name:"ZSharp Loss",color:d.data.green}]}},{key:"learning_curve",label:"Learning",icon:p,chartTitle:"Learning Progress",dataProcessor:a=>a.map(a=>({epoch:a.epoch,gap:a.zsharp-a.sgd})),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*s.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(o.zsharp.gapPadding)}`,`dataMax + ${String(o.zsharp.gapPadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*s.multiplier).toFixed(2)}%`,r],lines:[{dataKey:"gap",name:"Accuracy Gap",color:d.data.amber}]}},{key:"convergence",label:"Convergence",icon:c,chartTitle:"Convergence Analysis",dataProcessor:a=>a.map((r,e)=>{if(0===e)return{epoch:r.epoch,sgd:0,zsharp:0};const t=a[e-1];return t?{epoch:r.epoch,sgd:r.sgd-t.sgd,zsharp:r.zsharp-t.zsharp}:{epoch:r.epoch,sgd:0,zsharp:0}}),chartConfig:{type:"line",xAxisKey:"epoch",yAxisFormatter:a=>`${(a*s.multiplier).toFixed(1)}%`,yAxisDomain:[`dataMin - ${String(o.zsharp.convergencePadding)}`,`dataMax + ${String(o.zsharp.convergencePadding)}`],tooltipLabelFormatter:a=>`Epoch ${a.toString()}`,tooltipFormatter:(a,r)=>[`${(a*s.multiplier).toFixed(3)}%`,r],lines:[{dataKey:"sgd",name:"SGD Rate",color:d.primary.main},{dataKey:"zsharp",name:"ZSharp Rate",color:d.data.green}]}}];return r.jsx(t,{title:"ZSharp",subtitle:"Neural Network Optimization Research",githubUrl:l.zsharpRepo,chartData:m,viewTypes:f,currentViewType:z,onViewTypeChange:S,loading:u,loadingMessage:"Loading real experiment data..."})};export{m as default};
