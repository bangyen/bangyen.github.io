import{j as e,r as f}from"./vendor_react-D9AZKRQJ.js";import{b as o}from"./ResearchDemo-DJA_cEpx.js";import{u as R}from"./useWorker-wzycckqe.js";import{B as i,d as a,T as C,I as T,G as u,i as A,e as y,A as L,z as g,F as v,P as E}from"./vendor_mui_core-CcNgE9EE.js";import{Q as U,f as W}from"./vendor_mui_icons-i_Xb35He.js";import{T as d,C as r,S as m}from"./index-DuW26yrh.js";import"./GlassCard-DggpD6sM.js";import"./vendor_recharts-CEnr0VOu.js";import"./PageLayout-B434fvh6.js";const c=({text:x})=>{const h=x.split(/(\^{[^}]+})/g);return e.jsx("span",{"aria-label":x.replace(/\^{([^}]+)}/g," to the power of $1").replace(/\*/g," times "),children:e.jsx("span",{"aria-hidden":"true",children:h.map((n,t)=>{const l=`${n}-${String(t)}`;if(n.startsWith("^{")&&n.endsWith("}")){const p=n.slice(2,-1);return e.jsx("sup",{style:{fontSize:"0.6em",verticalAlign:"super",marginLeft:"1px"},children:p},l)}return e.jsx("span",{children:n},l)})})})},k=()=>{const[x,h]=f.useState("5"),n=f.useCallback(()=>new Worker(new URL("/assets/periodicity.worker-BqoHeGuR.js",import.meta.url),{type:"module"}),[]),{result:t,loading:l,error:p,run:j,terminate:S,setError:b}=R(n);return e.jsxs(i,{children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{color:r.text.primary,fontWeight:d.fontWeight.bold},children:"Periodicity Calculator"}),e.jsx(C,{title:"Calculate the period (z) and row remainders (R) for a given column width (n).",children:e.jsx(T,{size:"small",sx:{ml:1,color:r.text.secondary},"aria-label":"Periodicity calculator documentation",children:e.jsx(U,{fontSize:"small"})})})]}),e.jsx(u,{container:!0,spacing:2,sx:{mb:3},children:e.jsx(u,{size:{xs:12},children:e.jsx(A,{fullWidth:!0,label:"Columns (n)",variant:"outlined",value:x,onChange:s=>{h(s.target.value)},size:"small",sx:{input:{color:r.text.primary}}})})}),l?e.jsx(y,{fullWidth:!0,variant:"outlined",onClick:()=>{S()},startIcon:e.jsx(W,{}),sx:{color:r.text.secondary,borderColor:r.border.subtle,height:o.LAYOUT.BUTTON_HEIGHT,"&:hover":{backgroundColor:o.GLASS.SLIGHT,borderColor:r.text.secondary}},children:"Cancel Calculation"}):e.jsx(y,{fullWidth:!0,variant:"contained",onClick:()=>{const s=parseInt(x,10);isNaN(s)||s<=0?b("Please enter a valid positive integer."):s>30?b("Grid size n > 30 is too computationally intensive."):j({n:s})},sx:{backgroundColor:r.primary.main,border:"1px solid transparent",height:o.LAYOUT.BUTTON_HEIGHT,"&:hover":{backgroundColor:r.primary.dark}},children:"Discover Patterns"}),p&&e.jsx(L,{severity:"error",sx:{mb:2,mt:2},children:p}),e.jsxs(i,{sx:{height:o.LAYOUT.RESULT_CARD_HEIGHT,mt:3,display:"flex",flexDirection:"column",overflow:"hidden"},children:[l&&e.jsxs(i,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2,border:`1px dashed ${r.border.subtle}`,borderRadius:m.borderRadius.md,backgroundColor:o.GLASS.VERY_SUBTLE},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",border:`2px solid ${g(r.primary.main,.1)}`,borderTopColor:r.primary.main,...o.ANIMATIONS.SPIN}}),e.jsx(a,{variant:"caption",sx:{color:r.text.secondary},children:"Calculating Patterns..."})]}),!t&&!p&&!l&&e.jsx(i,{sx:{height:"100%",display:"flex",alignItems:"flex-start",justifyContent:"center",pt:5,px:3,border:`1px dashed ${r.border.subtle}`,borderRadius:m.borderRadius.md,backgroundColor:o.GLASS.VERY_SUBTLE},children:e.jsx(a,{variant:"body2",sx:{color:r.text.secondary,fontStyle:"italic",textAlign:"center"},children:"Select column width and click discover to see results"})}),t&&!l&&e.jsx(v,{in:!0,children:e.jsxs(E,{elevation:0,sx:{height:"100%",backgroundColor:o.GLASS.TRANSPARENT,borderRadius:m.borderRadius.md,border:`1px solid ${g(r.primary.main,.2)}`,borderLeft:`4px solid ${r.primary.main}`,display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(i,{sx:{p:2.25,pb:0},children:e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:1.5,borderBottom:`1px solid ${o.BORDER.SUBTLE}`},children:[e.jsx(a,{variant:"caption",sx:{color:r.primary.main,fontWeight:d.fontWeight.bold,textTransform:"uppercase",letterSpacing:1},children:"Spectral Periodicity"}),e.jsxs(a,{sx:{color:r.text.primary,fontFamily:"monospace",fontWeight:d.fontWeight.bold,fontSize:o.LAYOUT.FONT_SIZE_SM},children:["z = ",t.pattern.z]})]})}),e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:2.5,flexGrow:1,minHeight:0,overflowY:"auto",p:2.25,pt:0,"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:o.GLASS.MEDIUM,borderRadius:m.borderRadius.xs}},children:[e.jsxs(i,{sx:{minWidth:0},children:[e.jsx(a,{variant:"caption",sx:{color:r.primary.main,fontWeight:"bold",display:"block",mb:.5,textTransform:"uppercase",letterSpacing:1,fontSize:"0.65rem"},children:"Remainder Set (R)"}),e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:1.5},children:t.pattern.R.map(s=>e.jsx(i,{sx:{fontFamily:"monospace",fontSize:"0.7rem",px:1.25,py:.5,backgroundColor:o.GLASS.DARK,borderRadius:m.borderRadius.xs,color:r.primary.main,border:`1px solid ${o.BORDER.VERY_SUBTLE}`},children:s},s))})]}),e.jsxs(i,{sx:{minWidth:0},children:[e.jsx(a,{variant:"caption",sx:{color:r.primary.main,fontWeight:"bold",display:"block",mb:.5,textTransform:"uppercase",letterSpacing:1,fontSize:"0.65rem"},children:"Minimal Polynomial M(x)"}),e.jsx(i,{sx:{p:1.25,backgroundColor:o.CYAN.BG_SUBTLE,borderRadius:o.LAYOUT.CARD_RADIUS,fontFamily:"monospace",fontSize:"0.75rem",color:r.text.primary,border:`1px solid ${o.CYAN.BORDER_SUBTLE}`,mb:1.5},children:e.jsx(c,{text:t.minimalPoly})}),e.jsx(a,{variant:"caption",sx:{color:r.primary.main,fontWeight:"bold",display:"block",mb:.5,textTransform:"uppercase",letterSpacing:1,fontSize:"0.65rem"},children:"Factorization"}),e.jsx(i,{sx:{p:1.25,backgroundColor:o.CYAN.BG_SUBTLE,borderRadius:o.LAYOUT.CARD_RADIUS,fontFamily:"monospace",fontSize:"0.75rem",color:r.text.primary,border:`1px solid ${o.CYAN.BORDER_SUBTLE}`},children:e.jsx(c,{text:t.factorization})})]}),t.proof&&e.jsxs(i,{sx:{minWidth:0},children:[e.jsx(a,{variant:"caption",sx:{color:r.primary.main,fontWeight:d.fontWeight.bold,display:"block",mb:.5,textTransform:"uppercase",letterSpacing:1,fontSize:o.LAYOUT.FONT_SIZE_XS},children:"Mathematical Certificate"}),e.jsxs(i,{sx:{p:1.25,backgroundColor:o.CYAN.BG_SUBTLE,borderRadius:o.LAYOUT.CARD_RADIUS,fontFamily:"monospace",fontSize:"0.75rem",color:r.text.primary,border:`1px solid ${o.CYAN.BORDER_SUBTLE}`},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:e.jsx(c,{text:t.proof.eq1})}),e.jsxs("span",{style:{color:r.data.green,fontWeight:d.fontWeight.bold},children:["="," ",e.jsx(c,{text:t.proof.res1})]})]}),e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:e.jsx(c,{text:t.proof.eq2})}),e.jsxs("span",{style:{color:r.data.green,fontWeight:d.fontWeight.bold},children:["="," ",e.jsx(c,{text:t.proof.res2})]})]})]})]})]})]})})]})]})};export{k as PeriodicityCalculator};
