const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ResearchChart-Cwx_9iB1.js","assets/vendor_react-DdkxgTu-.js","assets/PageLayout-CPtM-syB.js","assets/vendor_mui_core-CQ3K-gFd.js","assets/index-BfV-4Eyd.js","assets/vendor_mui_icons-BOQsY4SM.js","assets/index-CBI06WrF.css","assets/vendor_recharts-Bod-2OPO.js"])))=>i.map(i=>d[i]);
import{S as e,c as r,C as a,A as o,T as t,E as i,a as n,_ as s}from"./index-BfV-4Eyd.js";import{j as l,a as d}from"./vendor_react-DdkxgTu-.js";import{B as c,e as x,G as m,d as h,o as g,p as u,u as b}from"./vendor_mui_core-CQ3K-gFd.js";import{R as p,k as f}from"./vendor_mui_icons-BOQsY4SM.js";import{G as y,P as v}from"./PageLayout-CPtM-syB.js";const R={GLASS:{VERY_SUBTLE:"var(--glass-very-subtle)",SUBTLE:"var(--glass-subtle)",TRANSPARENT:"var(--glass-transparent)",SLIGHT:"var(--glass-slight)",MEDIUM:"var(--glass-medium)",DARK:"var(--glass-dark)"},CYAN:{BG_SUBTLE:"var(--research-cyan-bg)",BORDER_SUBTLE:"var(--research-cyan-border)"},GREEN:{BG_SUBTLE:"var(--research-green-bg)",BORDER_SUBTLE:"var(--research-green-border)",HOVER:"hsl(141, 64%, 39%)"},AMBER:{HOVER:"hsl(34, 95%, 48%)"},BORDER:{VERY_SUBTLE:"var(--research-border-very-subtle)",SUBTLE:"var(--research-border-subtle)"},LAYOUT:{BUTTON_HEIGHT:"36.5px",CONTROLS_SPACING:2.5,RESULT_CARD_HEIGHT:480,INNER_PADDING:"1rem",INNER_PADDING_SM:"0.6rem 0.8rem",FONT_SIZE_XS:"0.75rem",FONT_SIZE_SM:"0.85rem",FONT_SIZE_MD:"0.95rem",CARD_RADIUS:"6px"},ANIMATIONS:{SPIN:{animation:"spin 1s linear infinite","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}}},S={oligopoly:{defaultFirms:3,defaultElasticity:2,defaultBasePrice:40,maxRounds:15,simulation:{fallbackPrice:20,fallbackHHI:.3,collusionStart:6,collusionEnd:10,priceAmplitude:5,hhiAmplitude:.1,priceFrequency:.3,hhiFrequency:.1},options:{firms:[{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],elasticity:[{value:1.5,label:"1.5"},{value:2,label:"2.0"},{value:2.5,label:"2.5"}],price:[{value:30,label:"$30"},{value:40,label:"$40"},{value:50,label:"$50"}]}},zsharp:{baseAccuracy:.65,maxAccuracy:.75,baseLoss:2,minLoss:.8,improvement:.05,lossReduction:.1,maxEpochs:20,yAxisPadding:.05,lossPadding:.1,gapPadding:.005,convergencePadding:.005},lightsOut:{yAxisMax:70},modelTypes:{cournot:"cournot"}},T={height:300,dotRadius:4,strokeWidth:3},E={lines:{strokeDashArray:"3 3",defaultStrokeWidth:2}},A={multiplier:100,divisor:100},j=({controls:i,onReset:n,resetLabel:s="Reset"})=>0===i.length?null:l.jsxs(c,{sx:{marginBottom:0,width:"100%",boxSizing:"border-box",paddingBottom:e.padding.md},children:[n&&l.jsx(c,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",mb:R.LAYOUT.CONTROLS_SPACING},children:l.jsx(x,{variant:"outlined",size:"small",startIcon:l.jsx(p,{}),onClick:n,sx:{color:a.text.secondary,borderColor:a.border.subtle,borderRadius:e.borderRadius.lg,px:2,py:.5,fontSize:R.LAYOUT.FONT_SIZE_MD,fontWeight:t.fontWeight.medium,transition:o.transitions.standard,"&:hover":{borderColor:a.primary.main,backgroundColor:a.interactive.hover,transform:"translateY(-1px)",boxShadow:r.sm}},children:s})}),l.jsx(m,{container:!0,spacing:R.LAYOUT.CONTROLS_SPACING,children:i.map((i,n)=>l.jsx(m,{size:{xs:12,md:4},children:l.jsxs(c,{sx:{marginBottom:0,padding:R.LAYOUT.INNER_PADDING,backgroundColor:a.interactive.disabled,borderRadius:e.borderRadius.lg,border:`1px solid ${a.border.subtle}`},children:[l.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[i.icon&&l.jsx(i.icon,{sx:{color:i.color??a.primary.light,fontSize:"1.1rem"}}),l.jsx(h,{variant:"body2",sx:{color:a.text.secondary,fontWeight:t.fontWeight.medium},children:i.label})]}),l.jsx(g,{value:i.value,exclusive:!0,onChange:(e,r)=>{null!==r&&i.onChange(r)},size:"small",sx:{width:"100%",borderRadius:e.borderRadius.lg,overflow:"hidden",border:`1px solid ${a.border.subtle}`,"& .MuiToggleButtonGroup-grouped":{margin:0,border:0,borderRadius:0,"&:not(:first-of-type)":{borderLeft:`1px solid ${a.border.subtle}`}},"& .MuiToggleButton-root":{color:a.text.secondary,borderColor:a.border.subtle,padding:R.LAYOUT.INNER_PADDING_SM,flex:1,fontSize:R.LAYOUT.FONT_SIZE_MD,fontWeight:t.fontWeight.medium,borderRadius:0,transition:o.transitions.standard,"&.Mui-selected":{backgroundColor:i.color??a.primary.main,color:a.text.primary,borderColor:i.color??a.primary.main,"&:hover":{backgroundColor:i.hoverColor??(i.color===a.primary.main?a.primary.dark:i.color===a.data.green?R.GREEN.HOVER:i.color===a.data.amber?R.AMBER.HOVER:i.color??a.primary.dark),borderColor:i.hoverColor??(i.color===a.primary.main?a.primary.dark:i.color===a.data.green?R.GREEN.HOVER:i.color===a.data.amber?R.AMBER.HOVER:i.color??a.primary.dark),transform:"translateY(-1px)",boxShadow:r.sm}}},"&:hover":{backgroundColor:a.interactive.hover,transform:"translateY(-1px)"}},children:i.options.map(e=>l.jsx(u,{value:e.value,children:e.label},e.value))})]})},i.label||n))})]}),C=({children:r})=>l.jsx(i,{FallbackComponent:({error:r,resetErrorBoundary:o})=>l.jsx(c,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:4,minHeight:"300px"},children:l.jsxs(y,{sx:{p:4,maxWidth:"500px",textAlign:"center"},children:[l.jsx(h,{variant:"h5",sx:{mb:2,color:a.text.primary,fontWeight:"bold"},children:"Research Tool Error"}),l.jsx(h,{sx:{mb:3,color:a.text.secondary,fontFamily:"monospace",fontSize:"0.9rem"},children:r?.message??"An unexpected error occurred."}),l.jsx(x,{variant:"contained",onClick:o,sx:{borderRadius:e.borderRadius.md,textTransform:"none"},children:"Reset Component"})]})}),children:r});function _({title:e,subtitle:r,backUrl:o,isMobile:i}){const n=e=>l.jsx(x,{component:"a",href:`#${o??""}`,startIcon:l.jsx(f,{}),size:"small",sx:{color:a.text.secondary,padding:0,minWidth:0,"&:hover":{backgroundColor:"transparent",color:a.primary.main},marginBottom:e,alignSelf:{xs:"center",sm:"flex-end"},textTransform:"none",fontSize:"0.8rem"},children:"Back to Simulation"});let s;return s=o&&i?n(0):l.jsx(h,{variant:"h5",sx:{color:a.text.secondary,fontSize:t.fontSize.subheading,textAlign:{xs:"center",md:"right"},whiteSpace:{xs:"normal",md:"nowrap"},display:{xs:"none",sm:"block"}},children:r}),l.jsxs(c,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"center",md:"flex-start"},gap:2,marginBottom:{xs:3,md:4},width:"100%"},children:[o&&!i&&n(-2),l.jsxs(c,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:{xs:"center",md:"baseline"},width:"100%"},children:[l.jsx(h,{variant:"h1",sx:{color:a.text.primary,fontWeight:t.fontWeight.bold,fontSize:t.fontSize.h2,textAlign:{xs:"center",md:"left"}},children:e}),s]})]})}const k=({viewTypes:i,currentViewType:n,onViewTypeChange:s})=>i.length<=1?null:l.jsx(c,{sx:{marginBottom:3,width:"100%",boxSizing:"border-box"},children:l.jsx(c,{sx:{display:"grid",gridTemplateColumns:{xs:"repeat(2, minmax(0, 1fr))",md:`repeat(${Math.min(i.length,4).toString()}, 1fr)`},gap:1.5,width:"100%",margin:0},children:i.map(i=>{const d=i.icon;return l.jsx(x,{variant:"outlined",size:"small",startIcon:l.jsx(d,{}),onClick:()=>{s(i.key)},sx:{width:"100%",color:n===i.key?"inherit":a.text.secondary,backgroundColor:n===i.key?a.primary.main:a.surface.elevated,"&.MuiButton-root":{color:n===i.key?a.text.primary:a.text.secondary},borderColor:a.border.subtle,borderWidth:"1px",borderStyle:"solid",borderRadius:e.borderRadius.lg,minHeight:R.LAYOUT.BUTTON_HEIGHT,padding:R.LAYOUT.INNER_PADDING_SM,fontSize:R.LAYOUT.FONT_SIZE_SM,fontWeight:t.fontWeight.medium,transition:o.transitions.standard,"&:hover":{backgroundColor:n===i.key?a.primary.dark:a.interactive.hover,transform:"translateY(-1px)",boxShadow:r.sm}},children:i.label},i.key)})})}),I=d.lazy(()=>s(()=>import("./ResearchChart-Cwx_9iB1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:e.ResearchChart}))),N=({title:r,subtitle:a,githubUrl:o,chartData:t=[],chartConfig:i={type:"line",lines:[],xAxisKey:"x",yAxisFormatter:e=>e.toFixed(2),yAxisDomain:["dataMin - 0.05","dataMax + 0.05"],dualYAxis:!1,rightYAxisFormatter:e=>e.toFixed(2),rightYAxisDomain:["dataMin - 0.05","dataMax + 0.05"],tooltipLabelFormatter:e=>`Round ${String(e)}`,tooltipFormatter:(e,r)=>[e.toFixed(2),r]},viewTypes:s=[],currentViewType:x="default",onViewTypeChange:h=()=>{},controls:g=[],loading:u=!1,loadingMessage:p="Loading data...",onReset:f,resetLabel:y="Reset",chartTitle:R=null,children:S,backUrl:T})=>{const E=(()=>{if(0===t.length)return[];if(!s.length)return t;const e=s.find(e=>e.key===x);return e?.dataProcessor?e.dataProcessor(t):t})(),A=s.find(e=>e.key===x)?.chartConfig??i,N=b("(max-width:600px)"),O=R??(s.length>0?s.find(e=>e.key===x)?.chartTitle??"Data Visualization":"Data Visualization");return l.jsx(C,{children:l.jsx(v,{githubUrl:o,children:l.jsx(m,{container:!0,flex:1,flexDirection:"column",sx:{position:"relative",padding:e.padding.md,paddingTop:e.padding.xl,paddingBottom:{xs:e.padding.md,md:0},boxSizing:"border-box",width:"100%",maxWidth:"100vw",overflowX:"hidden"},children:l.jsx(m,{size:{xs:12},flex:1,sx:{...n.flexCenter,flexDirection:"column",zIndex:1,padding:0,minHeight:0},children:l.jsxs(c,{sx:{textAlign:"center",maxWidth:e.maxWidth.md,width:"100%",padding:{xs:"0 0.5rem",md:"0 2rem"},boxSizing:"border-box",overflow:"hidden"},children:[l.jsx(_,{title:r,subtitle:a,backUrl:T,isMobile:N}),l.jsx(d.Suspense,{fallback:l.jsx(c,{sx:{height:400,display:"flex",alignItems:"center",justifyContent:"center"},children:"Loading Chart..."}),children:l.jsx(I,{currentData:E,currentChartConfig:A,loading:u,loadingMessage:p,chartTitle:O,isMobile:N})}),l.jsx(k,{viewTypes:s,currentViewType:x,onViewTypeChange:h}),l.jsx(j,{controls:g,onReset:f,resetLabel:y}),S]})})})})})};export{T as C,A as P,N as R,S as a,R as b,E as c};
